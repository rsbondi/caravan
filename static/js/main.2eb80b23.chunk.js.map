{"version":3,"sources":["components/Spend/styles.module.scss","images/logo.png","utils/index.js","components/Disclaimer.jsx","components/Help.jsx","actions/settingsActions.js","components/NetworkPicker.jsx","components/QuorumPicker.jsx","components/AddressTypePicker.jsx","actions/utils.js","actions/clientActions.jsx","components/ClientPicker.jsx","block_explorer.js","bitcoind.js","blockchain.js","components/Wallet/ConfirmWallet.jsx","actions/walletActions.jsx","actions/transactionActions.jsx","components/Wallet/WalletControl.jsx","components/Copyable.jsx","components/Wallet/WalletDeposit.jsx","components/Spend/UTXOSet.jsx","components/MultisigDetails.jsx","components/Wallet/Node.jsx","components/BitcoindAddressImporter.jsx","components/Wallet/NodeSet.jsx","components/Spend/OutputEntry.jsx","components/Spend/OutputsForm.jsx","components/Spend/TextSignatureImporter.jsx","components/Hermit/HermitReader.jsx","components/Hermit/HermitDisplayer.jsx","components/WalletFeedback.jsx","components/Spend/HermitSignatureImporter.jsx","components/Spend/HardwareWalletSignatureImporter.jsx","components/EditableName.jsx","actions/signatureImporterActions.jsx","components/Spend/SignatureImporter.jsx","components/Spend/Transaction.jsx","components/Wallet/WalletSign.jsx","components/Wallet/WalletSpend.jsx","components/Wallet/WalletView.jsx","actions/extendedPublicKeyImporterActions.js","components/Wallet/WalletGenerator.jsx","components/Wallet/ExtendedPublicKeyExtendedPublicKeyImporter.jsx","components/Wallet/TextExtendedPublicKeyImporter.jsx","components/Wallet/HermitExtendedPublicKeyImporter.jsx","components/Wallet/HardwareWalletExtendedPublicKeyImporter.jsx","components/CreateAddress/Conflict.jsx","components/Wallet/ExtendedPublicKeyImporter.jsx","components/Wallet/index.jsx","actions/publicKeyImporterActions.js","components/CreateAddress/AddressGenerator.jsx","components/CreateAddress/TextPublicKeyImporter.jsx","components/CreateAddress/ExtendedPublicKeyPublicKeyImporter.jsx","components/CreateAddress/HermitPublicKeyImporter.jsx","components/CreateAddress/HardwareWalletPublicKeyImporter.jsx","components/CreateAddress/PublicKeyImporter.jsx","components/CreateAddress/index.jsx","actions/ownershipActions.jsx","components/Spend/ScriptEntry.jsx","components/Spend/ConfirmOwnership.jsx","components/Spend/index.jsx","components/Navbar.jsx","components/Footer.jsx","components/ErrorBoundry.js","components/App.jsx","registerServiceWorker.js","reducers/utils.js","reducers/settingsReducer.jsx","reducers/clientReducer.jsx","reducers/braidReducer.jsx","reducers/quorumReducer.jsx","reducers/addressReducer.jsx","reducers/walletReducer.jsx","reducers/ownershipReducer.jsx","reducers/signatureImportersReducer.js","reducers/transactionReducer.js","reducers/index.js","index.jsx"],"names":["module","exports","feeMagicBtn","utxoTxid","outputsFormInput","unconfirmed","spent","__webpack_require__","p","externalLink","url","text","react_default","a","createElement","href","target","rel","downloadFile","body","filename","blob","Blob","type","window","navigator","msSaveOrOpenBlob","msSaveBlob","elem","document","URL","createObjectURL","download","appendChild","click","removeChild","Disclaimer","Card","CardHeader","title","CardContent","Help","Box","mt","mb","Typography","variant","Grid","container","spacing","item","md","direction","List","ListItem","ListItemIcon","Description","ListItemText","YouTube","GitHub","CardActions","Button","BugReport","components_Disclaimer","SET_NETWORK","SET_TOTAL_SIGNERS","SET_REQUIRED_SIGNERS","SET_ADDRESS_TYPE","SET_FROZEN","setFrozen","value","NetworkPicker","handleNetworkChange","event","setNetwork","_this","props","_this$props","this","network","frozen","FormControl","component","RadioGroup","FormControlLabel","id","control","Radio","color","name","label","onChange","checked","MAINNET","disabled","TESTNET","FormHelperText","React","Component","mapDispatchToProps","connect","state","settings","MAX_TOTAL_SIGNERS","QuorumPicker","renderIncrementRequiredSigners","requiredSigners","totalSigners","IconButton","onClick","handleIncrementRequiredSigners","AddCircle","renderDecrementRequiredSigners","_this$props2","handleDecrementRequiredSigners","RemoveCircle","renderIncrementTotalSigners","_this$props3","handleIncrementTotalSigners","renderDecrementTotalSigners","_this$props4","handleDecrementTotalSigners","_this$props5","setRequiredSigners","preventDefault","_this$props6","_this$props7","setTotalSigners","_this$props8","_this$props9","justify","xs","alignItems","number","AddressTypePicker","handleTypeChange","setType","addressType","P2SH","P2SH_P2WSH","P2WSH","actionWrapper","numberedActionWrapper","wrappedNumberedActions","mapping","actionIndex","wrappedMapping","actionFunctionNames","Object","keys","length","actionFunctionName","actionType","ClientPicker","url_edited","setUrl","concat","handleUrlChange","setUrlError","error","validateUrl","setState","handleUsernameChange","setUsername","setUsernameError","username","validateUsername","handlePasswordChange","setPassword","setPasswordError","password","validatePassword","toggle","client","charAt","toUpperCase","slice","Switch_Switch","host","exec","pass","url_error","username_error","password_error","publicNotes","TextField","fullWidth","helperText","privateNotes","wrappedActions","setStatus","_callee2","address","utxosResult","utxos","regenerator_default","wrap","_context2","prev","next","axios","get","blockExplorerAPIURL","sent","data","Promise","all","map","_ref","asyncToGenerator","mark","_callee","utxo","transactionResult","transactionHex","amount","_context","txid","BigNumber","abrupt","confirmed","status","index","vout","satoshisToBitcoins","toFixed","amountSats","stop","_x8","apply","arguments","t0","response","_callee3","addressesult","addressData","_context3","used","chain_stats","funded_txo_count","mempool_stats","_callee4","feeEstimatesResult","feeEstimates","_context4","Math","ceil","_callee5","broadcastResult","_context5","post","callBitcoind","auth","method","params","_args2","undefined","_ref6","resolve","reject","headers","Accept","Content-Type","jsonrpc","then","resp","catch","_x9","isWalletAddressNotFoundError","e","code","bitcoindParams","addresses","_ref7","addressParam","promises","previousTransactions","result","forEach","push","mapindex","confirmations","bitcoinsToSatoshis","_x10","bitcoindGetAddressStatus","_x5","_bitcoindGetAddressStatus","_ref2","Error","_callee6","_ref3","_ref3$numBlocks","numBlocks","feeRate","_context6","feerate","_callee7","_ref4","hex","_context7","console","log","message","BLOCK_EXPLORER","fetchAddressUTXOs","_x","_x2","_blockExplorerGetAddresesUTXOs","blockExplorerGetAddresesUTXOs","_x4","_bitcoindListUnspent","bitcoindListUnspent","objectSpread","getAddressStatus","_x3","_blockExplorerGetAddressStatus","blockExplorerGetAddressStatus","fetchFeeEstimate","_blockExplorerGetFeeEstimate","blockExplorerGetFeeEstimate","_x6","_bitcoindEstimateSmartFee","bitcoindEstimateSmartFee","broadcastTransaction","_x7","_blockExplorerBroadcastTransaction","blockExplorerBroadcastTransaction","_bitcoindSendRawTransaction","bitcoindSendRawTransaction","WalletConfirmation","render","Table","TableHead","TableRow","TableCell","TableBody","renderConfirmationInfo","extendedPublicKeyImporters","values","importer","i","key","bip32Path","extendedPublicKey","quorum","UPDATE_DEPOSIT_NODE","UPDATE_CHANGE_NODE","RESET_NODES_SPEND","UPDATE_AUTO_SPEND","UPDATE_VIEW_ADDRESSES","UPDATE_DEPOSITING","UPDATE_SPENDING","UPDATE_WALLET_NAME","RESET_WALLET_VIEW","SPEND_NODES","updateDepositNodeAction","change","updateChangeNodeAction","updateAutoSpendAction","updateDepositingAction","updateSpendingAction","resetWalletView","CHOOSE_PERFORM_SPEND","SET_INPUTS","ADD_OUTPUT","SET_OUTPUT_ADDRESS","SET_OUTPUT_AMOUNT","DELETE_OUTPUT","SET_FEE_RATE","SET_FEE","FINALIZE_OUTPUTS","RESET_OUTPUTS","SET_TXID","RESET_TRANSACTION","SET_IS_WALLET","setInputs","inputs","addOutput","setOutputAddress","setOutputAmount","amountString","setFeeRate","valueString","finalizeOutputs","finalized","WalletControl","scrollRef","createRef","componentDidMount","current","scrollIntoView","behavior","ref","totalBalance","setDeposit","ml","setSpend","setView","setDepositing","setSpending","setViewing","deposits","balanceSats","plus","wallet","spend","transaction","Copyable","copied","timer","componentWillUnmount","clearTimeout","newline","children","stopPropagation","react_copy_to_clipboard_lib_default","onCopy","options","format","className","badge","FileCopy","fontSize","setTimeout","defaultProps","icon","depositTimer","WalletDeposit","amountError","showReceived","handleAmountChange","match","decimal","split","qrString","_this$state","_this2","updateDepositNode","nodes","node","isEqualTo","addressUsed","multisig","setInterval","clearInterval","reduce","accumulator","currentValue","fetchedUTXOs","fetchUTXOsError","_this3","_this$state2","components_Copyable","qrcode_react_lib_default","size","level","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","onClose","ContentProps","aria-describedby","UTXOSet","renderInputs","input","inputIndex","confirmedStyle","styles","confirmedTitle","hover","toString","blockExplorerTransactionURL","OpenInNew","inputsTotalSats","TableFooter","colSpan","MultisigDetails","renderScript","script","scriptToHex","ops","scriptToOps","sm","redeemScript","multisigRedeemScript","witnessScript","multisigWitnessScript","align","blockExplorerAddressURL","Chip","networkLabel","multisigRequiredSigners","multisigTotalSigners","multisigAddressType","Node","generate","spending","addressKnown","Checkbox","handleSpend","renderAddress","addressContent","Launch_default","ExpansionPanel","ExpansionPanelSummary","expandIcon","ExpandMore_default","aria-controls","ExpansionPanelDetails","components_MultisigDetails","isGreaterThan","Spend_UTXOSet","present","addNode","updateNode","updateAutoSpend","filter","interval","ownProps","braid","info","BitcoindAddressImporter","imported","importError","rescan","addressesError","addressPresent","autoImport","checkAddress","handleRescan","_status","import","statusText","importCallback","_ref5","imports","scriptPubKey","timestamp","bitcoindImportMulti","responseError","c","prevProps","pluralOrSingularAddress","NodeSet","page","nodesPerPage","getUnknownAddressNodes","changeNodes","depositNodes","addressesImported","unknown","addr","success","addressStatus","updates","getNodeSet","nodesObject","currentNode","renderNodes","startingIndex","nodesRows","nodeSet","whichOne","nodeRow","Wallet_Node","handlePageChange","selected","handleChangeRowsPerPage","pageCount","rowCount","generateAnotherPage","bip32path","toggleChange","_this$state3","canLoad","useAddressImporter","components_BitcoindAddressImporter","style","tableLayout","width","TablePagination","count","rowsPerPage","backIconButtonProps","aria-label","nextIconButtonProps","onChangePage","onChangeRowsPerPage","OutputEntry","handleAddressChange","setAddress","hasAddressError","addressError","setAmount","hasAmountError","isNotBalanceable","outputs","feeError","newAmount","autoBalancedAmount","validateOutputAmountBTC","isBalanceable","hasBalanceError","balanceError","fee","outputTotalSats","output","feeSats","minus","balanceAction","handleBalance","hasError","handleDelete","remove","finalizedOutputs","placeholder","Tooltip","placement","Delete","OutputsForm","titleRef","feeRateFetchError","initialOutputState","scrollToTitle","componentDidUpdate","signatureImporters","o","k","renderOutputs","Spend_OutputEntry","inputsTotal","outputsAndFeeTotal","hasFeeRateFetchError","hasFeeRateError","feeRateError","hasFeeError","handleAddOutput","handleFeeRateChange","handleFeeChange","setFee","handleFinalize","handleReset","resetOutputs","getFeeEstimate","newFeeRate","finish","gatherSignaturesDisabled","outputAmount","addChange","InputProps","endAdornment","InputAdornment","position","Speed","readOnly","TextSignatureImporter","signatureJSON","multiline","rows","handleChange","finalize","setError","JSON","parse","parseError","validateAndSetSignature","QR_CODE_READER_DELAY","HermitReader","walletState","PENDING","interaction","startText","commandMessage","messageFor","instructions","command","mode","handleStart","ACTIVE","react_qr_reader_lib_default","delay","onError","handleError","onScan","handleScan","facingMode","handleStop","onStart","onClear","onSuccess","HermitDisplayer","errorMessage","string","WalletFeedback","filteredMessages","m","renderMessage","messageIcon","messages","excludeCodes","excludeCode","includes","INFO","Info","WARNING","Warning","ERROR","esm_Error","messageColrName","HermitSignatureImporter","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","signatureImporter","bip32Paths","HermitSignTransaction","disableChangeMethod","resetBIP32Path","bip32PathError","signatureError","UNSUPPORTED","components_WalletFeedback","messagesFor","handleBIP32PathChange","hasBIP32PathError","bip32PathIsDefault","Hermit_HermitDisplayer","encodedData","Hermit_HermitReader","clear","signature","enableChangeMethod","validateAndSetBIP32Path","defaultBIP32Path","bip32PathFinalized","isSupported","HardwareWalletSignatureImporter","inConstructor","verified","walletType","HardwareWalletSignMultisigTransaction","HardwareWalletExportPublicKey","messageTextFor","renderAction","renderDeviceConfirmInfo","renderTargets","verifyError","sign","verify","_this$state4","hasMessagesFor","_this$state5","setBIP32PathError","publicKey","run","verifyPublicKey","publicKeys","publicKeyIndex","multisigPublicKeys","indexOf","signatureImporterNum","otherSignatureImporter","otherPublicKeyIndex","stateUpdate","EditableName","editing","newName","submit","Check","cancel","Clear","startEditing","Edit","setName","setSignatureImporterName","setSignatureImporterMethod","setSignatureImporterBIP32Path","setSignatureImporterPublicKeys","setSignatureImporterSignature","setSignatureImporterFinalized","setSignatureImporterComplete","TEXT","SignatureImporter","showUnsignedTransaction","getCurrent","components_EditableName","renderImport","notMyTurn","labelId","InputLabel","Select","handleMethodChange","MenuItem","TREZOR","LEDGER","HERMIT","renderImportByMethod","Spend_TextSignatureImporter","Spend_HermitSignatureImporter","Spend_HardwareWalletSignatureImporter","setMethod","reset","renderUnsignedTransaction","unsignedTransaction","toHex","handleHideUnsignedTransaction","handleShowUnsignedTransaction","setSignature","setPublicKeys","setFinalized","isWallet","multisigBIP32Root","multisigBIP32Path","setBIP32Path","callback","errback","validateBIP32Path","renderSignature","stringify","inputsSignatures","_this$props10","setComplete","Array","isArray","finalizedSignatureImporters","inputNumber","inputSignature","validateHex","validateMultisigSignature","finalizedSignatureImporterNum","finalizedSignatureImporter","Transaction","broadcasting","buildSignedTransaction","inputsSignaturesByPublicKey","inputSignaturesByPublicKey","signerInputPublicKey","signerInputSignature","signedMultisigTransaction","handleBroadcast","setTxid","signedTransaction","transactionURL","signedTransactionHex","WalletSign","handleCancel","renderSignatureImporters","signaturesFinalized","Spend_Transaction","transactionFinalized","handleReturn","Spend_SignatureImporter","every","spendNodes","getChangeNode","updateChangeNode","changeNode","changeAddress","resetTransaction","coinSelectTimer","WalletSpend","outputsAmount","feeAmount","handleAddChange","outputIndex","renderSpend","autoSpend","handleSpendMode","Wallet_NodeSet","selectCoins","resetNodesSpend","sum","isNaN","outputTotal","spendableInputs","selectedUtxos","inputTotal","_loop","spendableInput","isGreaterThanOrEqualTo","nextProps","Spend_OutputsForm","Wallet_WalletSign","WalletView","SET_EXTENDED_PUBLIC_KEY_IMPORTER_VISIBLE","setExtendedPublicKeyImporterName","resetExtendedPublicKeyImporterBIP32Path","setExtendedPublicKeyImporterBIP32Path","setExtendedPublicKeyImporterMethod","setExtendedPublicKeyImporterExtendedPublicKey","setExtendedPublicKeyImporterFinalized","MAX_TRAILING_EMPTY_NODES","MAX_FETCH_UTXOS_ERRORS","WalletGenerator","generating","extendedPublicKeyCount","extendedPublicKeyImporter","renderModeComponent","depositing","viewAddresses","Wallet_WalletDeposit","Wallet_WalletSpend","Wallet_WalletView","downloadWalletDetails","walletDetailsText","walletDetailsFilename","walletName","extendedPublicKeyImporterBIP32Paths","extendedPublicKeyImporterNum","extendedPublicKeyImporterBIP32Path","join","toggleImporters","setImportersVisible","configuring","freeze","isChange","update","attemptToKeepGenerating","multisigUpdates","generateMultisig","extendedPublicKeyImporterNumber","utxoUpdates","deriveChildPublicKey","sort","generateMultisigFromPublicKeys","fetchUTXOs","generateNextNodeIfNecessary","trailingEmptyNodes","fetchUTXOsErrors","allBIP32Paths","p1","p2","p1Segments","p2Segments","parseInt","pathSegments","maxIndex","nextBIP32Path","setIsWallet","Wallet_WalletControl","ConfirmWallet","updateAutoSpned","DEFAULT_BIP32_PATH","ExtendedPublicKeyExtendedPublicKeyImporter","setBIP32PathToDefault","extendedPublicKeyError","handleExtendedPublicKeyChange","hasExtendedPublicKeyError","validateAndSetExtendedPublicKey","deriveChildExtendedPublicKey","validateExtendedPublicKey","find","TextExtendedPublicKeyImporter","HermitExtendedPublicKeyImporter","HermitExportExtendedPublicKey","FormGroup","xpub","bip32_path","HardwareWalletExtendedPublicKeyImporter","HardwareWalletExportExtendedPublicKey","Conflict","XPUB","ExtendedPublicKeyImporter","Wallet_HardwareWalletExtendedPublicKeyImporter","Wallet_HermitExtendedPublicKeyImporter","Wallet_ExtendedPublicKeyExtendedPublicKeyImporter","Wallet_TextExtendedPublicKeyImporter","setExtendedPublicKey","moveUp","moveDown","renderBIP32Path","renderExtendedPublicKey","_this$props11","extendedPublicKeyImporterIndex","_this$props12","finalizedNetwork","hasConflict","conflict","conflictMessage","CreateAddress_Conflict","bip32","require","CreateWallet","showSettings","renderExtendedPublicKeyImporters","Wallet_WalletGenerator","renderSettings","components_QuorumPicker","components_AddressTypePicker","components_NetworkPicker","components_ClientPicker","right","toggleDrawer","Settings","Drawer","anchor","display","Wallet_ExtendedPublicKeyImporter","SORT_PUBLIC_KEY_IMPORTERS","UPDATE_MULTISIG_ADDRESS","setPublicKeyImporterName","resetPublicKeyImporterBIP32Path","setPublicKeyImporterBIP32Path","setPublicKeyImporterMethod","setPublicKeyImporterPublicKey","setPublicKeyImporterFinalized","movePublicKeyImporterUp","movePublicKeyImporterDown","AddressGenerator","publicKeyCount","isInConflict","publicKeyImporters","some","publicKeyImporter","publicKeysAreCanonicallySorted","sortedPublicKeys","canonicallySortPublicKeys","sortPublicKeyImporters","setMultisigAddress","publicKeyImporterNum","downloadAddressDetails","addressDetailsText","addressDetailsFilename","redeemScriptLine","witnessScriptLine","scriptsSpacer","publicKeyImporterBIP32Paths","publicKeyImporterBIP32Path","canonicallySorted","TextPublicKeyImporter","validateAndSetPublicKey","validatePublicKey","ExtendedPublicKeyPublicKeyImporter","HermitPublicKeyImporter","publicKeyError","HermitExportPublicKey","pubkey","HardwareWalletPublicKeyImporter","PublicKeyImporter","ArrowUpward","ArrowDownward","CreateAddress_HardwareWalletPublicKeyImporter","CreateAddress_HermitPublicKeyImporter","CreateAddress_ExtendedPublicKeyPublicKeyImporter","CreateAddress_TextPublicKeyImporter","setPublicKey","renderPublicKey","publicKeyImporterIndex","CreateAddress","renderPublicKeyImporters","CreateAddress_AddressGenerator","renderClientPicker","CreateAddress_PublicKeyImporter","CHOOSE_CONFIRM_OWNERSHIP","SET_OWNERSHIP_MULTISIG","RESET_PUBLIC_KEY_IMPORTER","RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH","SET_PUBLIC_KEY_IMPORTER_BIP32_PATH","SET_PUBLIC_KEY_IMPORTER_METHOD","SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY","ScriptEntry","scriptHex","scriptError","hasScriptError","hasFetchUTXOsError","scriptName","scriptTitle","substring","handleScriptChange","generateMultisigFromHex","renderDetails","chosePerformSpend","choseConfirmOwnership","buttonsDisabled","performSpend","confirmOwnership","choosePerformSpend","fetchUTXOsResult","isLessThanOrEqualTo","chooseConfirmOwnership","setOwnershipMultisig","autoFocus","ownership","chosen","ConfirmOwnership","renderConfirmation","GreenListItemIcon","styled","Check_default","Clear_default","role","Spend","Spend_ScriptEntry","renderBody","Spend_ConfirmOwnership","spendable","addressFinalized","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","Navbar","classes","AppBar","Toolbar","logo","Footer","src","alt","height","version","ErrorBoundary","errorInfo","mx","my","whiteSpace","componentStack","App","CssBaseline","Container","maxWidth","components_Navbar","ErrorBoundry_ErrorBoundary","HashRouter","Switch","Route","path","Wallet","components_Footer","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","updateState","initialState","initialNodeState","spendingSats","braidReducer","action","updatedState","resetSpend","newNodes","nodeFoundWithValue","otherNode","fingerprint","Date","getTime","extendedPublicKeys","initialExtendedPublicKeyImporterState","bip32PathModified","confliect","1","2","3","finalizedAddressType","updateExtendedPublicKeyImporterState","field","extendedPublicKeyImporterChange","newState","setConflict","updateImporterPaths","initialPublicKeyImporterState","updatePublicKeyImporterState","publicKeyImporterChange","resetWalletViews","setUnique","initialSignatureImporterState","updateSignatureImporterState","signatureImporterChange","sortInputs","b","x","toLowerCase","y","n","initialOutputsState","validateTransaction","diff","isLessThan","absoluteValue","setFeeForRate","feeRateString","nout","estimateMultisigTransactionFee","numInputs","numOutputs","feesPerByteInSatoshis","spendReducers","combineReducers","updateMultisig","keyResetState","updateInputs","newOutputs","toConsumableArray","validateAddress","updateOutputAddress","updateOutputAmount","deleteOutput","validateFeeRate","updateFeeRate","feeString","validateFeeBTC","estimateMultisigTransactionFeeRate","feesInSatoshis","updateFee","unsignedMultisigTransaction","finalizeSignatureImporterState","walletReducers","rootReducers","updateNetwork","updateAddressType","stub","updateTotalSigners","updateFinalizedSettings","abovePublicKeyImporter","belowPublicKeyImporter","sortedPublicKeyImporters","publicKeyImportersChange","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","logger","ReduxPromise","thunk","ReactDOM","es","components_App","getElementById","process","origin","addEventListener","fetch","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.2eb80b23.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"feeMagicBtn\":\"styles_feeMagicBtn__3R6H-\",\"utxoTxid\":\"styles_utxoTxid__1oJ63\",\"outputsFormInput\":\"styles_outputsFormInput__2eCJm\",\"unconfirmed\":\"styles_unconfirmed__1u5jD\",\"spent\":\"styles_spent__1ho2q\"};","module.exports = __webpack_public_path__ + \"static/media/logo.66481e66.png\";","import React from \"react\";\n\nexport function externalLink(url, text) {\n  return <a href={url} target=\"_blank\" rel=\"noopener noreferrer\">{text}</a>;\n}\n\nexport function wrapText(text, columns) {\n  let lines   = [];\n  let index   = 0;\n  let element = 0;\n  while (index <= text.length) {\n    lines.push(<span key={element}>{text.slice(index, index += (columns || 64))}</span>);\n    lines.push(<br key={element + 1}/>);\n    element += 2;\n  }\n  return lines;\n}\n\nexport function validatePositiveInteger(numberString) {\n  if (numberString === null || numberString === undefined || numberString === '') {\n    return \"Cannot be blank.\";\n  }\n  const number = parseInt(numberString, 10);\n  if (Number.isNaN(number) || number.toString().length !== numberString.length || number <= 0) {\n    return \"Must be a positive whole number.\";\n  }\n\n  return '';\n\n}\n\nexport function downloadFile(body, filename) {\n  const blob = new Blob([body], {type: 'text/plain'});\n  if(window.navigator.msSaveOrOpenBlob) {\n    window.navigator.msSaveBlob(blob, filename);\n  }\n  else{\n      var elem = window.document.createElement('a');\n      elem.href = window.URL.createObjectURL(blob);\n      elem.download = filename;\n      document.body.appendChild(elem);\n      elem.click();\n      document.body.removeChild(elem);\n  }\n}\n","import React from 'react';\n\n// Components\nimport { Card, CardHeader, CardContent, } from \"@material-ui/core\";\n\nconst Disclaimer = () => (\n  <Card>\n    <CardHeader title=\"Disclaimer\"/>\n    <CardContent>\n      <small>\n        This application is in alpha state and is presented\n        for evaluation and testing only. It is provided as is,\n        and any express or implied warranties, including but not\n        limited to the implied warranties of merchantability and\n        fitness for a particular purpose, are disclaimed. By\n        using this application, you accept all risks of such\n        use, including full responsibility for any direct or\n        indirect loss of any kind resulting from the use of this\n        application, which may involve complete loss of any\n        Bitcoin or other coins associated with addresses used\n        with this application. In no event shall Unchained\n        Capital, Inc., its employees and affiliates, or\n        developers of this application be liable for any direct,\n        indirect, incidental, special, exemplary, or\n        consequential damages (including, but not limited to,\n        procurement of substitute goods or services; loss of\n        use, data, or profits; or business interruption) however\n        caused and on any theory of liability, whether in\n        contract, strict liability, or tort (including\n        negligence or otherwise) arising in any way out of the\n        use of this application, even if advised of the\n        possibility of such damage.\n      </small>\n        \n      </CardContent>\n    </Card>\n);\n\nexport default Disclaimer;\n","import React from 'react';\nimport {externalLink} from \"../utils\";\n\n// Components\nimport {\n  Box, Typography, CardHeader, CardContent, Grid, Card, Button,\n  List, ListItem, ListItemText, ListItemIcon, CardActions,\n} from \"@material-ui/core\";\nimport {Description, GitHub, YouTube, BugReport} from \"@material-ui/icons\";\nimport Disclaimer from \"./Disclaimer\";\n\nconst Help = () => (\n  <div>\n\n    <Box mt={4} mb={2}>\n      <Typography variant=\"h2\">Welcome to Caravan!</Typography>\n    </Box>\n\n    <Grid container spacing={3}>\n\n      <Grid container item md={8} spacing={2} direction=\"column\">\n\n        <Grid item>\n          <Card>\n\n            <CardHeader title=\"Stateless Multisig Coordinator\"/>\n\n            <CardContent>\n\n              <p>\n                Caravan is making bitcoin <strong>multisig</strong> custody easier and safer through transparency and standards.\n              </p>\n\n              <p>\n                Caravan is a <strong>coordination</strong> software.  It connects to a source of consensus and your keys to build and interact with multisig bitcoin addresses.\n              </p>\n\n              <p>Caravan is also <strong>stateless</strong>.  It does not itself store any data.  You must safekeep the addresses (and redeem scripts & BIP32 paths) you create.</p>\n\n            </CardContent>\n          </Card>\n        </Grid>\n\n\n        <Grid item>\n          <Card>\n            <CardHeader title=\"Keys\"/>\n            <CardContent>\n\n              <p>All bitcoin is ultimately protected by private keys.</p>\n\n              <p>Your private key may live on a piece of paper, a hardware wallet, some software on a laptop, or even just in your mind.  Caravan, being stateless, cannot store your private key but it can talk to hardware devices or software applications which do.</p>\n\n              <p>Caravan supports entering public keys and signatures via text, so any wallet which can export such data can be made compatible with Caravan.</p>\n\n            </CardContent>\n          </Card>\n        </Grid>\n\n        <Grid item>\n          <Card>\n            <CardHeader title=\"Consensus\"/>\n            <CardContent>\n\n              <p>In order to look up address balances and broadcast transactions, Caravan requires knowledge of the constantly changing bitcoin network.</p>\n\n              <p>Running a full bitcoin node is the best way to determine the current state of the bitcoin network.  Caravan can be easily configured to use your own bitcoin node for consensus information and broadcasting transactions.</p>\n\n              <p>If you don't want to or cannot run your own full node, Caravan defaults to using the freely available API at <code>blockstream.info</code>.</p>\n\n            </CardContent>\n          </Card>\n        </Grid>\n\n\n      </Grid>\n\n      <Grid container item md={4} spacing={4} direction=\"column\">\n\n        <Grid item>\n\n          <Card>\n            <CardHeader title=\"Learn More\"></CardHeader>\n            <CardContent>\n\n              <List>\n\n                <ListItem>\n                  <ListItemIcon>\n                    <Description />\n                  </ListItemIcon>\n                  <ListItemText>\n                    {externalLink(\"https://www.unchained-capital.com/blog/the-caravan-arrives/\", \"Blog Post\")}\n                  </ListItemText>\n                </ListItem>\n\n                <ListItem>\n                  <ListItemIcon>\n                    <YouTube />\n                  </ListItemIcon>\n                  <ListItemText>\n                    {externalLink(\"https://www.youtube.com/playlist?list=PLUM8mrUjWoPRsVGEZ1gTntqPd4xrQZoiH\", \"Video Tutorials\")}\n                  </ListItemText>\n                </ListItem>\n\n                <ListItem>\n                  <ListItemIcon>\n                    <GitHub />\n                  </ListItemIcon>\n                  <ListItemText>\n                    {externalLink(\"https://github.com/unchained-capital/caravan\", \"Source Code\")}\n                  </ListItemText>\n                </ListItem>\n\n              </List>\n            </CardContent>\n          </Card>\n\n        </Grid>\n\n        <Grid item>\n          <Card>\n            <CardHeader title=\"Supported Devices\"></CardHeader>\n            <CardContent>\n              Caravan has been tested with the following hardware wallets:\n              <ul>\n                <li>{externalLink(\"https://shop.trezor.io/product/trezor-one-white\", \"Trezor One\")}</li>\n                <li>{externalLink(\"https://www.ledger.com/products/ledger-nano-s\", \"Ledger Nano S\")}</li>\n              </ul>\n              And web browsers:\n              <ul>\n                <li>{externalLink(\"https://www.google.com/chrome/\", \"Chrome\")}</li>\n                <li>{externalLink(\"https://www.mozilla.org/en-US/firefox/new/\", \"Firefox\")}</li>\n              </ul>\n              Seeing a bug or need a feature?\n            </CardContent>\n            <CardActions>\n\n              <Button href=\"https://github.com/unchained-capital/caravan/issues\"><BugReport /> &nbsp; Report Issue</Button>\n\n            </CardActions>\n          </Card>\n\n        </Grid>\n\n      </Grid>\n    </Grid>\n\n\n    <Box mt={2}>\n      <Disclaimer />\n    </Box>\n\n  </div>\n);\n\nexport default Help;\n","export const SET_NETWORK = 'SET_NETWORK';\nexport const SET_TOTAL_SIGNERS    = \"SET_TOTAL_SIGNERS\";\nexport const SET_REQUIRED_SIGNERS = \"SET_REQUIRED_SIGNERS\";\nexport const SET_ADDRESS_TYPE = 'SET_ADDRESS_TYPE';\nexport const SET_FROZEN = 'SET_FROZEN';\n\nexport function setNetwork(value) {\n  return {\n    type: SET_NETWORK,\n    value: value,\n  };\n}\n\nexport function setTotalSigners(number) {\n  return {\n    type: SET_TOTAL_SIGNERS,\n    value: number,\n  };\n}\n\n\nexport function setRequiredSigners(number) {\n  return {\n    type: SET_REQUIRED_SIGNERS,\n    value: number,\n  };\n}\n\nexport function setAddressType(value) {\n  return {\n    type: SET_ADDRESS_TYPE,\n    value: value,\n  };\n}\n\n\nexport function setFrozen(value) {\n  return {\n    type: SET_FROZEN,\n    value: value,\n  };\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n  TESTNET,\n  MAINNET,\n} from \"unchained-bitcoin\";\n\n// Components\n\nimport { Card, CardHeader, CardContent, FormControl, RadioGroup, FormControlLabel,\n         Radio, FormHelperText } from '@material-ui/core';\n\n// Actions\nimport { setNetwork } from '../actions/settingsActions';\n\nclass NetworkPicker extends React.Component {\n\n  static propTypes = {\n    network: PropTypes.string.isRequired,\n    frozen: PropTypes.bool.isRequired,\n    setNetwork: PropTypes.func.isRequired,\n  };\n\n  handleNetworkChange = (event) => {\n    const { setNetwork } = this.props;\n    setNetwork(event.target.value);\n  };\n\n  render() {\n    const { network, frozen } = this.props;\n    return (\n      <Card>\n        <CardHeader title=\"Network\"/>\n        <CardContent>\n\n        <FormControl component=\"fieldset\">\n          <RadioGroup>\n          <FormControlLabel\n            id=\"mainnet\"\n            control={<Radio color=\"primary\"/>}\n            name=\"network\"\n            value=\"mainnet\"\n            label={(<strong>Mainnet</strong>)}\n            onChange={this.handleNetworkChange}\n            checked={network === MAINNET}\n            disabled={frozen}\n          />\n          <FormControlLabel\n            id=\"testnet\"\n            control={<Radio color=\"primary\"/>}\n            name=\"network\"\n            value=\"testnet\"\n            label=\"Testnet\"\n            onChange={this.handleNetworkChange}\n            checked={network === TESTNET}\n            disabled={frozen}\n          />\n          </RadioGroup>\n          <FormHelperText>\n            <small>{'Choose \\'Mainnet\\' if you don\\'t understand the difference.'}</small>\n          </FormHelperText>\n        </FormControl>\n        </CardContent>\n      </Card>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return { \n    network: state.settings.network, \n    frozen: state.settings.frozen,\n  };\n}\n\nconst mapDispatchToProps = {\n  setNetwork,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NetworkPicker);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\n// Actions\nimport {\n  setTotalSigners,\n  setRequiredSigners,\n} from \"../actions/settingsActions\";\n\n// Components\nimport {\n  Typography, Grid, IconButton,\n  Card, CardHeader, CardContent, Box,\n} from '@material-ui/core';\nimport { AddCircle, RemoveCircle } from '@material-ui/icons';\nimport './styles.css';\n\nconst MAX_TOTAL_SIGNERS = 7;\n\nclass QuorumPicker extends React.Component {\n  static propTypes = {\n    totalSigners: PropTypes.number.isRequired,\n    requiredSigners: PropTypes.number.isRequired,\n    frozen: PropTypes.bool.isRequired,\n    setTotalSigners: PropTypes.func.isRequired,\n    setRequiredSigners: PropTypes.func.isRequired,\n  };\n\n  render() {\n    const {requiredSigners, totalSigners} = this.props;\n\n    return (\n      <Card>\n        <CardHeader title=\"Quorum\"></CardHeader>\n        <CardContent>\n\n          <Box>\n            <Grid container justify=\"center\">\n\n              <Grid container item xs={2} direction=\"column\">&nbsp;</Grid>\n\n              <Grid container item xs={3} direction=\"column\" alignItems=\"center\">\n\n                <Grid item>\n                  {this.renderIncrementRequiredSigners()}\n                </Grid>\n\n                <Grid item>\n                  <Typography variant=\"h2\">{requiredSigners}</Typography>\n                </Grid>\n\n                <Grid item>\n                  <small><p>Required</p></small>\n                </Grid>\n\n                <Grid item>\n                  {this.renderDecrementRequiredSigners()}\n                </Grid>\n\n              </Grid>\n\n              <Grid container item xs={2} direction=\"column\" alignItems=\"center\" justify=\"center\">\n\n                <Grid item>\n                  <Typography variant=\"h6\">of</Typography>\n                </Grid>\n\n              </Grid>\n\n              <Grid item container xs={3} direction=\"column\" alignItems=\"center\">\n\n                <Grid item>\n                  {this.renderIncrementTotalSigners()}\n                </Grid>\n\n                <Grid item>\n                  <Typography variant=\"h2\">{totalSigners}</Typography>\n                </Grid>\n\n                <Grid item>\n                  <small><p>Total</p></small>\n                </Grid>\n\n                <Grid item>\n                  {this.renderDecrementTotalSigners()}\n                </Grid>\n\n              </Grid>\n              <Grid container item xs={2} direction=\"column\">&nbsp;</Grid>\n\n            </Grid>\n\n          </Box>\n\n        </CardContent>\n      </Card>\n    );\n  }\n\n\n  renderIncrementRequiredSigners = () => {\n    const {requiredSigners, totalSigners, frozen} = this.props;\n    const disabled = (requiredSigners === totalSigners || frozen);\n    return (\n      <IconButton color=\"primary\" onClick={this.handleIncrementRequiredSigners} disabled={disabled}>\n        <AddCircle/>\n      </IconButton>\n    );\n  }\n\n  renderDecrementRequiredSigners = () => {\n    const {requiredSigners, frozen} = this.props;\n    const disabled = (requiredSigners === 1 || frozen);\n    return (\n      <IconButton color=\"secondary\" onClick={this.handleDecrementRequiredSigners} disabled={disabled}>\n        <RemoveCircle />\n      </IconButton>\n    );\n  }\n\n  renderIncrementTotalSigners = () => {\n    const {totalSigners, frozen} = this.props;\n    const disabled = (totalSigners === MAX_TOTAL_SIGNERS || frozen);\n    return (\n      <IconButton color=\"primary\" onClick={this.handleIncrementTotalSigners} disabled={disabled}>\n        <AddCircle />\n      </IconButton>\n    );\n  }\n\n  renderDecrementTotalSigners = () => {\n    const {requiredSigners, totalSigners, frozen} = this.props;\n    const disabled = (totalSigners === requiredSigners || totalSigners === 2 || frozen);\n    return (\n      <IconButton color=\"secondary\" onClick={this.handleDecrementTotalSigners} disabled={disabled}>\n        <RemoveCircle />\n      </IconButton>\n    );\n  }\n\n  handleIncrementRequiredSigners = (event) => {\n    const {requiredSigners, setRequiredSigners} = this.props;\n    setRequiredSigners(requiredSigners + 1);\n    event.preventDefault();\n  }\n\n  handleDecrementRequiredSigners = (event) => {\n    const {requiredSigners, setRequiredSigners} = this.props;\n    setRequiredSigners(requiredSigners - 1);\n    event.preventDefault();\n  }\n\n  handleIncrementTotalSigners = (event) => {\n    const {totalSigners, setTotalSigners} = this.props;\n    setTotalSigners(totalSigners + 1);\n    event.preventDefault();\n  }\n\n  handleDecrementTotalSigners = (event) => {\n    const {totalSigners, setTotalSigners} = this.props;\n    setTotalSigners(totalSigners - 1);\n    event.preventDefault();\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return state.settings;\n}\n\nconst mapDispatchToProps = {\n  setTotalSigners,\n  setRequiredSigners,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(QuorumPicker);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n  P2SH,\n  P2SH_P2WSH,\n  P2WSH,\n} from \"unchained-bitcoin\";\n\n// Components\nimport { Card, CardHeader, CardContent, FormControl, RadioGroup, FormControlLabel,\n          Radio, FormHelperText } from '@material-ui/core';\n// Actions\nimport {\n    setAddressType,\n} from '../actions/settingsActions';\n\n\nclass AddressTypePicker extends React.Component {\n\n  static propTypes = {\n    addressType: PropTypes.string.isRequired,\n    frozen: PropTypes.bool.isRequired,\n    setType: PropTypes.func.isRequired,\n  };\n\n  handleTypeChange = (event) => {\n    const { setType } = this.props;\n    setType(event.target.value);\n  };\n\n  render() {\n    const { addressType, frozen } = this.props;\n    return (\n      <Card>\n        <CardHeader title=\"Address Type\"/>\n        <CardContent>\n        <FormControl component=\"fieldset\">\n          <RadioGroup>\n          <FormControlLabel\n            id={P2SH}\n            control={<Radio color=\"primary\"/>}\n            name=\"type\"\n            value={P2SH}\n            label={P2SH}\n            onChange={this.handleTypeChange}\n            checked={addressType === P2SH}\n            disabled={frozen}\n          />\n          <FormControlLabel\n            id={P2SH_P2WSH}\n            control={<Radio color=\"primary\"/>}\n            name=\"type\"\n            value={P2SH_P2WSH}\n            label={P2SH_P2WSH}\n            onChange={this.handleTypeChange}\n            checked={addressType === P2SH_P2WSH}\n            disabled={frozen}\n          />\n          <FormControlLabel\n            id={P2WSH}\n            control={<Radio color=\"primary\"/>}\n            name=\"type\"\n            value={P2WSH}\n            label={P2WSH}\n            onChange={this.handleTypeChange}\n            checked={addressType === P2WSH}\n            disabled={frozen}\n          />\n          </RadioGroup>\n          <FormHelperText>\n            <small>Choose '{P2WSH}' for best practices, '{P2SH}' for greatest compatibility.</small>\n          </FormHelperText>\n        </FormControl>\n        </CardContent>\n        </Card>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return state.settings;\n}\n\n\nconst mapDispatchToProps = {\n    setType: setAddressType,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddressTypePicker);\n","function actionWrapper(type) {\n  return (value) => {\n    return  {type, value,};\n  };\n}\n\nexport function wrappedActions(mapping) {\n  const wrappedMapping = {};\n  const actionFunctionNames = Object.keys(mapping);\n  let actionIndex;\n  for (actionIndex = 0; actionIndex < actionFunctionNames.length; actionIndex += 1) {\n    const actionFunctionName = actionFunctionNames[actionIndex];\n    const actionType = mapping[actionFunctionName];\n    wrappedMapping[actionFunctionName] = actionWrapper(actionType);\n  }\n  return wrappedMapping;\n}\n\nfunction numberedActionWrapper(type) {\n  return (number, value) => {\n    return  {type, number, value,};\n  };\n}\n\nexport function wrappedNumberedActions(mapping) {\n  const wrappedMapping = {};\n  const actionFunctionNames = Object.keys(mapping);\n  let actionIndex;\n  for (actionIndex = 0; actionIndex < actionFunctionNames.length; actionIndex += 1) {\n    const actionFunctionName = actionFunctionNames[actionIndex];\n    const actionType = mapping[actionFunctionName];\n    wrappedMapping[actionFunctionName] = numberedActionWrapper(actionType);\n  }\n  return wrappedMapping;\n}\n","export const SET_CLIENT_TYPE = 'SET_CLIENT_TYPE';\nexport const SET_CLIENT_URL = 'SET_CLIENT_URL';\nexport const SET_CLIENT_USERNAME = 'SET_CLIENT_USERNAME';\nexport const SET_CLIENT_PASSWORD = 'SET_CLIENT_PASSWORD';\n\nexport const SET_CLIENT_URL_ERROR = 'SET_CLIENT_URL_ERROR';\nexport const SET_CLIENT_USERNAME_ERROR = 'SET_CLIENT_USERNAME_ERROR';\nexport const SET_CLIENT_PASSWORD_ERROR = 'SET_CLIENT_PASSWORD_ERROR';\n\nexport const SET_CLIENT_STATUS = 'SET_CLIENT_STATUS';\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {externalLink} from \"../utils\";\n\n// Components\nimport {\n  Grid,\n  Card,\n  CardHeader,\n  CardContent,\n  FormControlLabel,\n  TextField,\n  Switch,\n} from '@material-ui/core';\n\n// Actions\nimport { wrappedActions } from '../actions/utils';\nimport {\n  SET_CLIENT_TYPE,\n  SET_CLIENT_URL,\n  SET_CLIENT_USERNAME,\n  SET_CLIENT_PASSWORD,\n\n  SET_CLIENT_URL_ERROR,\n  SET_CLIENT_USERNAME_ERROR,\n  SET_CLIENT_PASSWORD_ERROR,\n\n  SET_CLIENT_STATUS,\n} from '../actions/clientActions';\n\nconst propTypes = {\n  client: PropTypes.shape({}).isRequired,\n  network: PropTypes.string.isRequired,\n  setUrl: PropTypes.func.isRequired,\n  setPassword: PropTypes.func.isRequired,\n  setPasswordError: PropTypes.func.isRequired,\n  setType: PropTypes.func.isRequired,\n  setUsername: PropTypes.func.isRequired,\n  setUsernameError: PropTypes.func.isRequired,\n};\n\nclass ClientPicker extends React.Component {\n  state = {\n    url_edited: false\n  }\n\n  handleTypeChange = (event) => {\n    const { setType, network, setUrl } = this.props;\n    const type = event.target.checked ? 'private' : 'public';\n    if (type === 'private' && !this.state.url_edited) {\n      setUrl(`http://localhost:${network === 'mainnet' ? 8332 : 18332}`)\n    }\n    setType(type);\n  }\n\n  handleUrlChange = (event) => {\n    const { setUrl, setUrlError } = this.props;\n    const url = event.target.value;\n    const error = this.validateUrl(url);\n    if (!this.state.url_edited && !error) this.setState({url_edited: true});\n    setUrl(url);\n    setUrlError(error);\n  };\n\n  handleUsernameChange = (event) => {\n    const { setUsername, setUsernameError } = this.props;\n    const username = event.target.value;\n    const error = this.validateUsername(username);\n    setUsername(username);\n    setUsernameError(error);\n  };\n\n  handlePasswordChange = (event) => {\n    const { setPassword, setPasswordError } = this.props;\n    const password = event.target.value;\n    const error = this.validatePassword(password);\n    setPassword(password);\n    setPasswordError(error);\n  };\n\n  validateUrl(host) {\n    const validhost = /^http(s)?:\\/\\/[^\\s]+$/.exec(host);\n    if (!validhost) return 'Must be a valid URL.'\n    return '';\n  }\n\n  validatePassword(pass) {\n    return '';\n  }\n\n  validateUsername(username) {\n    return '';\n  }\n\n  toggle = () => {\n    const { client } = this.props;\n    const label = client.type.charAt(0).toUpperCase() + client.type.slice(1);\n    return (\n      <FormControlLabel\n        control={\n          <Switch\n            color=\"primary\"\n            checked={client.type === 'private'}\n            onChange={this.handleTypeChange}\n            value=\"private\" />\n        }\n        label={label}\n      />\n    );\n  }\n\n  title = () => (\n    <Grid container justify=\"space-between\">\n      <Grid item>Consensus</Grid>\n      <Grid item>{this.toggle()}</Grid>\n    </Grid>\n  )\n\n  disabled = () => (false);\n\n  render() {\n    const { client, url_error, username_error, password_error } = this.props;\n    return (\n      <Card>\n        <CardHeader title={this.title()}/>\n        <CardContent>\n          {(client.type === 'public')\n           ? (\n             <div>\n              <p>\n                {\"'Public' uses the \"}\n                <code>blockstream.info</code>\n                {' API. Switch to private to use a '}\n                <code>bitcoind</code>\n                {' node.'}\n              </p>\n              {typeof this.props.publicNotes !== 'undefined' && this.props.publicNotes}\n             </div>\n           ) : (\n             <div>\n              <p>A <code>bitcoind</code>-compatible client is required to query UTXO data, estimate fees, and broadcast transactions.</p>\n              <p>\n                <small>\n                  {'Due to CORS requirements, you must use a proxy around the node. Instructions are available '}\n                  {externalLink(\"https://github.com/unchained-capital/caravan#adding-cors-headers\", \"here\")}\n                  {'.'}\n                </small>\n              </p>\n               <form>\n\n                 <Grid container direction=\"column\">\n\n                   <Grid item>\n                     <TextField\n                       fullWidth\n                       label=\"URL\"\n                       value={client.url}\n                       onChange={this.handleUrlChange}\n                       disabled={this.disabled()}\n                       error={url_error !== ''}\n                       helperText={url_error}\n                     />\n                   </Grid>\n\n                   <Grid item>\n\n\n                   </Grid>\n\n                   <Grid item>\n                     <TextField\n                       id=\"bitcoind-username\"\n                       fullWidth\n                       label=\"Username\"\n                       value={client.username}\n                       onChange={this.handleUsernameChange}\n                       disabled={this.disabled()}\n                       error={username_error}\n                       helperText={username_error}\n                     />\n                   </Grid>\n\n                   <Grid item>\n                     <TextField\n                       id=\"bitcoind-password\"\n                       fullWidth\n                       type=\"password\"\n                       label=\"Password\"\n                       value={client.password}\n                       onChange={this.handlePasswordChange}\n                       disabled={this.disabled()}\n                       error={password_error}\n                       helperText={password_error}\n                     />\n                   </Grid>\n                 </Grid>\n               </form>\n               {typeof this.props.privateNotes !== 'undefined' && this.props.privateNotes}\n             </div>\n           )}\n        </CardContent>\n      </Card>\n    );\n  }\n}\nClientPicker.propTypes = propTypes;\n\nfunction mapStateToProps(state) {\n  return {\n    network: state.settings.network,\n    client: state.client,\n    url_error: state.client.url_error,\n    url: state.client.url,\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  wrappedActions({\n    setType: SET_CLIENT_TYPE,\n    setUrl: SET_CLIENT_URL,\n    setUsername: SET_CLIENT_USERNAME,\n    setPassword: SET_CLIENT_PASSWORD,\n\n    setUrlError: SET_CLIENT_URL_ERROR,\n    setUsernameError: SET_CLIENT_USERNAME_ERROR,\n    setPasswordError: SET_CLIENT_PASSWORD_ERROR,\n\n    setStatus: SET_CLIENT_STATUS,\n  }),\n)(ClientPicker);\n","import axios from 'axios';\nimport BigNumber from 'bignumber.js';\nimport {\n  satoshisToBitcoins,\n  blockExplorerAPIURL,\n} from \"unchained-bitcoin\";\n\n/**\n * Fetch information for signing transactions from block explorer API\n * @param {string} address - The address from which to obtain the information\n * @param {string} network - The network for the transaction to sign (mainnet|testnet)\n * @returns {multisig.UTXO} object for signing transaction inputs\n */\nexport async function blockExplorerGetAddresesUTXOs(address, network) {\n  try {\n    const utxosResult = await axios.get(blockExplorerAPIURL(`/address/${address}/utxo`, network));\n    const utxos = utxosResult.data;\n    return await Promise.all(utxos.map(async (utxo) => {\n      // FIXME: inefficient, need to cache here by utxo.txid\n      const transactionResult = await axios.get(blockExplorerAPIURL(`/tx/${utxo.txid}/hex`, network));\n      const transactionHex = transactionResult.data;\n      const amount = new BigNumber(utxo.value);\n      return {\n        confirmed: utxo.status.confirmed,\n        txid: utxo.txid,\n        index: utxo.vout,\n        amount: satoshisToBitcoins(amount).toFixed(8),\n        amountSats: amount,\n        transactionHex,\n      };\n    }));\n  } catch(e) {\n    throw((e.response && e.response.data) || e);\n  }\n}\n\nexport async function blockExplorerGetAddressStatus(address, network) {\n  try {\n    const addressesult = await axios.get(blockExplorerAPIURL(`/address/${address}`, network));\n    const addressData = addressesult.data;\n    return {\n      used: addressData.chain_stats.funded_txo_count > 0 || addressData.mempool_stats.funded_txo_count > 0\n    }\n  } catch(e) {\n    throw((e.response && e.response.data) || e);\n  }\n}\n\nexport async function blockExplorerGetFeeEstimate(network) {\n  try {\n    const feeEstimatesResult = await axios.get(blockExplorerAPIURL('/fee-estimates', network));\n    const feeEstimates = feeEstimatesResult.data;\n    return Math.ceil(feeEstimates[2]);\n  } catch(e) {\n    throw((e.response && e.response.data) || e);\n  }\n}\n\nexport async function blockExplorerBroadcastTransaction(transactionHex, network) {\n  try {\n    const broadcastResult = await axios.post(blockExplorerAPIURL('/tx', network), transactionHex);\n    return broadcastResult.data;\n  } catch(e) {\n    throw((e.response && e.response.data) || e);\n  }\n}\n\n/**\n * @module block_explorer\n */\n\n","import axios from 'axios';\nimport BigNumber from 'bignumber.js';\nimport {bitcoinsToSatoshis} from \"unchained-bitcoin\";\n\nasync function callBitcoind(url, auth, method, params = []) {\n  return new Promise(async (resolve, reject) => {\n    axios(url, {\n      method: 'post',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      auth,\n      data: {\n        jsonrpc: '2.0',\n        id: 0,\n        method: `${method}`,\n        params,\n      },\n    }).then(resp => resolve(resp.data)).catch(reject);\n  });\n}\n\n/**\n * check if error from bitcoind is address not found in wallet\n * this allows client side interpretation of the error\n * @param {Error} e - the error object to check\n * @returns {boolean} true if the desired error\n */\nexport function isWalletAddressNotFoundError(e) {\n  return e.response &&\n  e.response.data &&\n  e.response.data.error &&\n  e.response.data.error.code === -4;\n}\n\nexport function bitcoindParams(client) {\n  const {url, username, password} = client;\n  const auth = { username, password };\n  return {url, auth};\n}\n\n/**\n * Fetch information for signing transactions from bitcoind RPC\n * @param {Object} options - what is needed to communicate with the RPC\n * @param {string} options.url - where to connect\n * @param {AxiosBasicCredentials} options.auth - username and password\n * @param {string} options.address - The address from which to obtain the information\n * @returns {UTXO} object for signing transaction inputs\n */\nexport async function bitcoindListUnspent({url, auth, address, addresses}) {\n  return new Promise(async (resolve) => {\n    try {\n      const addressParam = addresses || [address]\n      const resp = await callBitcoind(url, auth, 'listunspent', [0, 9999999, addressParam], );\n      const promises = [];\n      resp.result.forEach(utxo => {\n        promises.push(callBitcoind(url, auth, 'getrawtransaction', [utxo.txid]))\n      })\n      const previousTransactions = await Promise.all(promises)\n      resolve(resp.result.map((utxo, mapindex) => {\n        const amount = new BigNumber(utxo.amount);\n        return {\n          confirmed: (utxo.confirmations || 0) > 0,\n          txid: utxo.txid,\n          index: utxo.vout,\n          amount: amount.toFixed(8),\n          amountSats: bitcoinsToSatoshis(amount),\n          transactionHex: previousTransactions[mapindex].result\n        };\n      }));\n\n    } catch(e) {throw(e)}\n  });\n}\n\nexport async function bitcoindGetAddressStatus({url, auth, address}) {\n  try {\n    const resp = await callBitcoind(url, auth, 'getreceivedbyaddress', [address] );\n    if (typeof resp.result === 'undefined') {\n      throw(new Error(\"Error: invalid response from \"+url))\n    }\n    return {\n      used: resp.result > 0\n    }\n  } catch(e) {\n    throw(e);\n  }\n}\n\nexport async function bitcoindEstimateSmartFee({url, auth, numBlocks = 2}) {\n  const resp = await callBitcoind(url, auth, 'estimatesmartfee', [numBlocks]);\n  const feeRate = resp.result.feerate;\n  return Math.ceil(feeRate * 100000);\n}\n\nexport async function bitcoindSendRawTransaction({url, auth, hex}) {\n  try {\n    const resp = await callBitcoind(url, auth, 'sendrawtransaction', [hex]);\n    return resp.result;\n    } catch(e) {\n      console.log('send tx error', e)\n      throw((e.response && e.response.data.error.message) || e);\n  }\n\n}\n\nexport function bitcoindImportMulti({url, auth, addresses, label, rescan}) {\n  const imports = addresses.map(address => {\n    return {\n      scriptPubKey: {\n        address: address\n      },\n      label: label,\n      timestamp: 0 // TODO: better option to ensure address history is picked up?\n    }\n  });\n  if (rescan) {\n    callBitcoind(url, auth, 'importmulti', [imports, {rescan: rescan}]); // TODO: what to do on catch?\n    return new Promise(resolve => resolve({result:[]}));\n  } else {\n    return callBitcoind(url, auth, 'importmulti', [imports, {rescan: rescan}]);\n  }\n}","import {\n  blockExplorerGetAddresesUTXOs,\n  blockExplorerGetFeeEstimate,\n  blockExplorerBroadcastTransaction,\n  blockExplorerGetAddressStatus,\n} from \"./block_explorer\";\nimport {\n  bitcoindListUnspent,\n  bitcoindEstimateSmartFee,\n  bitcoindSendRawTransaction,\n  bitcoindParams,\n  bitcoindGetAddressStatus,\n} from \"./bitcoind\";\n\nexport const BLOCK_EXPLORER = 'public';\nexport const BITCOIND = 'private';\n\nexport function fetchAddressUTXOs(address, network, client) {\n  if (client.type === BLOCK_EXPLORER) {\n    return blockExplorerGetAddresesUTXOs(address, network);\n  } else {\n    return bitcoindListUnspent({\n      ...bitcoindParams(client),\n      ...{address}\n    });\n  }\n}\n\nexport function getAddressStatus(address, network, client) {\n  if (client.type === BLOCK_EXPLORER) {\n    return blockExplorerGetAddressStatus(address, network);\n  } else {\n    return bitcoindGetAddressStatus({\n      ...bitcoindParams(client),\n      ...{address}\n    });\n  }\n}\n\nexport function fetchFeeEstimate(network, client) {\n  if (client.type === BLOCK_EXPLORER) {\n    return blockExplorerGetFeeEstimate(network);\n  } else {\n    return bitcoindEstimateSmartFee({\n      ...bitcoindParams(client),\n      ...{numBlocks: 1}\n    });\n  }\n}\n\nexport function broadcastTransaction(transactionHex, network, client) {\n  if (client.type === BLOCK_EXPLORER) {\n    return blockExplorerBroadcastTransaction(transactionHex, network);\n  } else {\n    return bitcoindSendRawTransaction({\n      ...bitcoindParams(client),\n      ...{hex: transactionHex}\n    });\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport {\n    Table, TableHead, TableBody,\n    TableRow, TableCell,\n    Box\n  } from '@material-ui/core';\n\n  class WalletConfirmation extends React.Component {\n\n    static propTypes = {\n        extendedPublicKeyImporters: PropTypes.shape({}).isRequired,\n      };\n\n        render = () => {\n        return (\n          <Box>\n            <Table>\n              <TableHead>\n                <TableRow>\n                  <TableCell>Name</TableCell>\n                  <TableCell>BIP32 Path</TableCell>\n                  <TableCell>Extended Public Key</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {this.renderConfirmationInfo()}\n              </TableBody>\n            </Table>\n          </Box>\n        )\n      }\n\n      renderConfirmationInfo = () => {\n        const { extendedPublicKeyImporters } = this.props;\n        return Object.values(extendedPublicKeyImporters).map((importer, i) => (\n          <TableRow key={i}>\n            <TableCell>{importer.name}</TableCell>\n            <TableCell>{importer.method === 'text' ? 'N/A' : importer.bip32Path}</TableCell>\n            <TableCell>{importer.extendedPublicKey}</TableCell>\n          </TableRow>\n        ))\n      }\n  }\n\n  function mapStateToProps(state) {\n    return { extendedPublicKeyImporters: state.quorum.extendedPublicKeyImporters };\n  }\n\n  const mapDispatchToProps = {};\n\n  export default connect(mapStateToProps, mapDispatchToProps)(WalletConfirmation);\n","export const UPDATE_DEPOSIT_NODE = \"UPDATE_DEPOSIT_NODE\";\nexport const UPDATE_CHANGE_NODE = \"UPDATE_CHANGE_NODE\";\nexport const RESET_NODES_SPEND = \"RESET_NODES_SPEND\";\nexport const UPDATE_AUTO_SPEND = \"UPDATE_AUTO_SPEND\";\nexport const UPDATE_VIEW_ADDRESSES = \"UPDATE_VIEW_ADDRESSES\";\nexport const UPDATE_DEPOSITING = \"UPDATE_DEPOSITING\";\nexport const UPDATE_SPENDING = \"UPDATE_SPENDING\";\nexport const UPDATE_WALLET_NAME = \"UPDATE_WALLET_NAME\";\nexport const RESET_WALLET_VIEW = \"RESET_WALLET_VIEW\";\nexport const SPEND_NODES = \"SPEND_NODES\";\n\nexport function updateDepositNodeAction(value) {\n  return {\n    type: UPDATE_DEPOSIT_NODE,\n    value: {\n      ...value,\n      ...{change: false}\n    },\n  };\n}\n\nexport function updateChangeNodeAction(value) {\n  return {\n    type: UPDATE_CHANGE_NODE,\n    value: {\n      ...value,\n      ...{change: true}\n    },\n  };\n}\n\nexport function resetNodesSpend() {\n  return {\n    type: RESET_NODES_SPEND\n  }\n}\n\nexport function spendNodes() {\n  return {\n    type: SPEND_NODES\n  }\n}\n\nexport function updateAutoSpendAction(value) {\n  return {\n    type: UPDATE_AUTO_SPEND,\n    value: value\n  };\n}\n\nexport function updateViewAdderssesAction() {\n  return {\n    type: UPDATE_VIEW_ADDRESSES,\n  };\n}\n\nexport function updateDepositingAction() {\n  return {\n    type: UPDATE_DEPOSITING,\n  };\n}\n\nexport function updateSpendingAction() {\n  return {\n    type: UPDATE_SPENDING,\n  };\n}\n\nexport function updateWalletNameAction(number, value) {\n  return {\n    type: UPDATE_WALLET_NAME,\n    value: value\n  };\n}\n\nexport function resetWalletView() {\n  return {\n    type: RESET_WALLET_VIEW\n  }\n}\n\n","export const CHOOSE_PERFORM_SPEND = \"CHOOSE_PERFORM_SPEND\";\n\nexport const SET_REQUIRED_SIGNERS = 'SET_REQUIRED_SIGNERS';\nexport const SET_TOTAL_SIGNERS = 'SET_TOTAL_SIGNERS';\n\nexport const SET_INPUTS = 'SET_INPUTS';\n\nexport const ADD_OUTPUT = 'ADD_OUTPUT';\nexport const SET_OUTPUT_ADDRESS = 'SET_OUTPUT_ADDRESS';\nexport const SET_OUTPUT_AMOUNT = 'SET_OUTPUT_AMOUNT';\nexport const DELETE_OUTPUT = 'DELETE_OUTPUT';\n\nexport const SET_FEE_RATE = 'SET_FEE_RATE';\nexport const SET_FEE = 'SET_FEE';\n\nexport const FINALIZE_OUTPUTS = 'FINALIZE_OUTPUTS';\nexport const RESET_OUTPUTS = 'RESET_OUTPUTS';\n\nexport const SET_TXID = 'SET_TXID';\nexport const RESET_TRANSACTION = 'RESET_TRANSACTION';\nexport const SET_IS_WALLET = 'SET_IS_WALLET';\n\nexport function choosePerformSpend() {\n  return {\n    type: CHOOSE_PERFORM_SPEND,\n  };\n}\n\nexport function setRequiredSigners(number) {\n  return {\n    type: SET_REQUIRED_SIGNERS,\n    value: number,\n  };\n}\n\nexport function setTotalSigners(number) {\n  return {\n    type: SET_TOTAL_SIGNERS,\n    value: number,\n  };\n}\n\nexport function setInputs(inputs) {\n  return {\n    type: SET_INPUTS,\n    value: inputs,\n  };\n}\n\nexport function addOutput() {\n  return {\n    type: ADD_OUTPUT,\n  };\n}\n\nexport function setOutputAddress(number, address) {\n  return {\n    type: SET_OUTPUT_ADDRESS,\n    number: number,\n    value: address,\n  };\n}\n\nexport function setOutputAmount(number, amountString) {\n  return {\n    type: SET_OUTPUT_AMOUNT,\n    number: number,\n    value: amountString,\n  };\n}\n\nexport function deleteOutput(number) {\n  return {\n    type: DELETE_OUTPUT,\n    number: number,\n  };\n}\n\nexport function setFeeRate(valueString) {\n  return {\n    type: SET_FEE_RATE,\n    value: valueString,\n  };\n}\n\nexport function setFee(valueString) {\n  return {\n    type: SET_FEE,\n    value: valueString,\n  };\n}\n\nexport function finalizeOutputs(finalized) {\n  return {\n    type: FINALIZE_OUTPUTS,\n    value: finalized\n  };\n}\n\nexport function resetOutputs() {\n  return {\n    type: RESET_OUTPUTS,\n  };\n}\n\nexport function resetTransaction() {\n  return {\n    type: RESET_TRANSACTION,\n  };\n}\n\n\nexport function setTXID(txid) {\n  return {\n    type: SET_TXID,\n    value: txid,\n  };\n}\n\nexport function setIsWallet() {\n  return {\n    type: SET_IS_WALLET,\n  };\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n  satoshisToBitcoins,\n} from 'unchained-bitcoin';\nimport { updateDepositingAction,\n  updateSpendingAction,\n  updateViewAdderssesAction\n} from \"../../actions/walletActions\";\nimport { setRequiredSigners } from \"../../actions/transactionActions\";\nimport {\n  Grid, Button, Box\n} from '@material-ui/core';\n\nclass WalletControl extends React.Component {\n  scrollRef = React.createRef();\n\n  static propTypes = {\n    deposits: PropTypes.object.isRequired,\n    change: PropTypes.object.isRequired,\n    setDepositing: PropTypes.func.isRequired,\n    setSpending: PropTypes.func.isRequired,\n    setViewing: PropTypes.func.isRequired,\n    setRequiredSigners: PropTypes.func.isRequired,\n  };\n\n  componentDidMount = () => {\n    this.scrollRef.current.scrollIntoView({ behavior: 'smooth' });\n  }\n\n\n  render = () => {\n    return (\n      <Grid container justify=\"center\"  ref={this.scrollRef}>\n        <Grid item md={8}>\n          <h3>Balance: {this.totalBalance()}</h3>\n        </Grid>\n        <Grid item md={4}>\n          <Box component=\"span\">\n            <Button variant=\"contained\" color=\"secondary\" onClick={this.setDeposit}>Deposit</Button>\n          </Box>\n          <Box component=\"span\" ml={2}>\n            <Button variant=\"contained\" color=\"primary\" onClick={this.setSpend}>Spend</Button>\n          </Box>\n          <Box component=\"span\" ml={2}>\n            <Button variant=\"contained\" onClick={this.setView}>View Addresses</Button>\n          </Box>\n        </Grid>\n      </Grid>\n    )\n  }\n\n  totalBalance() {\n    const { deposits, change } = this.props;\n    return satoshisToBitcoins(deposits.balanceSats.plus(change.balanceSats)).toFixed();\n  }\n\n  setDeposit = () => {\n    const { setDepositing } = this.props;\n    setDepositing();\n  }\n\n  setSpend = () => {\n    const { setSpending, requiredSigners, setRequiredSigners } = this.props;\n    setRequiredSigners(requiredSigners); // this will generate signature importers\n    setSpending();\n  }\n\n  setView = () => {\n    this.props.setViewing()\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    ...state.wallet,\n    requiredSigners: state.spend.transaction.requiredSigners\n  };\n}\n\nconst mapDispatchToProps = {\n  setDepositing: updateDepositingAction,\n  setSpending: updateSpendingAction,\n  setViewing: updateViewAdderssesAction,\n  setRequiredSigners,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WalletControl);\n","import PropTypes from 'prop-types';\nimport React       from \"react\";\n\n// Components\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport {FileCopy} from '@material-ui/icons';\n\nclass Copyable extends React.Component {\n\n  state = {\n    copied: false,\n    timer: null,\n  };\n\n  componentWillUnmount = () => {\n    const {timer} = this.state;\n    if (timer) {\n      clearTimeout(timer);\n    }\n  }\n\n  render = () => {\n    const {newline, text, children} = this.props;\n    return (\n      <span onClick={e => e.stopPropagation()}>\n        <CopyToClipboard text={text} onCopy={this.onCopy} options={{format: \"text/plain\"}}>\n          <span className=\"copyable\">\n            {children || text}\n            {newline && <br />}\n            {/* {this.props.icon && <span>&nbsp;</span>} */}\n            {/* {this.props.icon && <FAIcon name=\"clipboard\" />} */}\n            {this.badge()}\n          </span>\n        </CopyToClipboard>\n      </span>\n    );\n  }\n\n  badge = () => {\n    const {copied} = this.state;\n    if (copied) {\n      //return (<span>&nbsp; <span className=\"badge badge-success\">Copied</span></span>);\n      return <FileCopy fontSize=\"small\"/>;\n    } else { return null; }\n  }\n\n  onCopy = () => {\n    const timer = setTimeout(() => {\n      this.setState({copied: false, timer: null});\n    }, 1000);\n    this.setState({copied: true, timer});\n  }\n}\n\nCopyable.defaultProps = {\n  newline: false,\n  icon: true,\n}\n\nCopyable.propTypes = {\n  // defaults\n  newline:   PropTypes.bool.isRequired,\n  icon: PropTypes.bool.isRequired,\n  // parent\n  text:     PropTypes.string,\n  children: PropTypes.any,\n};\n\nexport default Copyable;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { fetchAddressUTXOs } from \"../../blockchain\"\nimport {\n  updateDepositNodeAction,\n  resetWalletView,\n} from \"../../actions/walletActions\";\nimport BigNumber from \"bignumber.js\";\n\n// Components\nimport QRCode from \"qrcode.react\";\nimport Copyable from \"../Copyable\";\nimport {\n  Card, CardHeader,\n  CardContent, TextField,\n  Snackbar,\n} from '@material-ui/core';\n\nlet depositTimer;\n\nclass WalletDeposit extends React.Component {\n  state = {\n    address: \"\",\n    bip32Path: \"\",\n    amount: 0,\n    amountError: \"\",\n    showReceived: false,\n  }\n\n  static propTypes = {\n    deposits: PropTypes.object.isRequired,\n    client: PropTypes.object.isRequired,\n    updateDepositNode: PropTypes.func.isRequired,\n  }\n\n  componentDidMount() {\n    const { deposits, network, client, updateDepositNode, resetWalletView } = this.props;\n    const nodes = Object.values(deposits.nodes)\n    for(let i = 0; i < nodes.length; i++) {\n      const node = nodes[i];\n      if (node.balanceSats.isEqualTo(0) && !node.addressUsed) {\n        this.setState({address: node.multisig.address, bip32Path: node.bip32Path});\n        break;\n      }\n    }\n    if (this.state.address === \"\") {\n      // TODO: get more\n    }\n\n    depositTimer = setInterval(async () => {\n      let utxos;\n      try {\n        utxos = await fetchAddressUTXOs(this.state.address, network, client);\n        if (utxos.length) {\n          clearInterval(depositTimer)\n          const balanceSats = utxos\n          .reduce(\n            (accumulator, currentValue) => accumulator.plus(currentValue.amountSats),\n            new BigNumber(0));\n\n          updateDepositNode({\n            change: false,\n            bip32Path: this.state.bip32Path,\n            utxos,\n            balanceSats,\n            fetchedUTXOs: true,\n            fetchUTXOsError: ''\n          })\n          this.setState({showReceived: true});\n          setTimeout(resetWalletView, 5000);\n        }\n      } catch(e) {\n        console.error(e);\n      }\n\n    }, 2000)\n  }\n\n  componentWillUnmount() {\n    clearInterval(depositTimer)\n  }\n\n  render() {\n    const { amount, amountError, address, showReceived } = this.state;\n    return (\n      <div>\n        <Card>\n          <CardHeader title=\"Deposit\"/>\n          <CardContent>\n          <TextField\n              fullWidth\n              label=\"Amount\"\n              name=\"depositAmount\"\n              onChange={this.handleAmountChange}\n              value={amount}\n              error={amountError !== \"\"}\n              helperText={amountError}\n            />\n            <Copyable text={this.qrString()} newline={true}>\n              <p><code>{address}</code></p>\n              <QRCode size={300} value={this.qrString()} level={'L'} />\n              <p>Scan QR code or click to copy address to clipboard.</p>\n            </Copyable>\n          </CardContent>\n        </Card>\n        <Snackbar\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'left',\n          }}\n          open={showReceived}\n          autoHideDuration={3000}\n          onClose={() => this.setState({showReceived: false})}\n          ContentProps={{\n            'aria-describedby': 'message-id',\n          }}\n          message={<span id=\"message-id\">Deposit received</span>}\n        />\n      </div>\n    )\n  }\n\n  handleAmountChange = (event)=> {\n    const amount = event.target.value;\n    let error = \"\"\n\n    if (amount.length && !amount.match(/^[0-9.]+$/)) {\n      error = \"Amount must be numeric\";\n    }\n    const decimal = amount.split('.');\n    if (decimal.length > 2) {\n      error = \"Amount must be numeric\";\n    } else if (decimal.length === 2 && decimal[1].length > 8) {\n      error = \"Amount must have maximum precision of 8 decimal places\";\n    }\n\n    this.setState({amount: event.target.value, amountError: error})\n  }\n\n  qrString = () => {\n    const {address, amount} = this.state;\n    return `bitcoin:${address}${amount ? '?amount='+amount : ''}`\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return { ...state.wallet,\n    ...state.settings,\n    client: state.client,\n  };\n}\n\nconst mapDispatchToProps = {\n  updateDepositNode: updateDepositNodeAction,\n  resetWalletView,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WalletDeposit);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n  blockExplorerTransactionURL,\n  satoshisToBitcoins,\n} from \"unchained-bitcoin\";\nimport {externalLink} from \"../../utils\";\nimport Copyable from \"../Copyable\";\n\n// Components\nimport {\n  Card, CardHeader, CardContent,\n  Table, TableHead, TableBody, TableFooter,\n  TableRow, TableCell,\n} from '@material-ui/core';\nimport { OpenInNew } from '@material-ui/icons';\n\n// Assets\nimport 'react-table/react-table.css';\nimport styles from './styles.module.scss';\n\nclass UTXOSet extends React.Component {\n\n  static propTypes = {\n    network: PropTypes.string.isRequired,\n    inputs: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n    inputsTotalSats: PropTypes.object.isRequired,\n  };\n\n  render() {\n    const {inputs, inputsTotalSats} = this.props;\n    return (\n      <Card >\n        <CardHeader title={`Available Inputs (${inputs.length})`} />\n        <CardContent>\n          <p>The following UTXOs will be spent as inputs in a new transaction.</p>\n          <Table>\n            <TableHead>\n              <TableRow hover>\n                <TableCell>Number</TableCell>\n                <TableCell>TXID</TableCell>\n                <TableCell>Index</TableCell>\n                <TableCell>Amount (BTC)</TableCell>\n                <TableCell>View</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {this.renderInputs()}\n            </TableBody>\n            <TableFooter>\n              <TableRow hover>\n                <TableCell colSpan={3}>\n                  TOTAL:\n                </TableCell>\n                <TableCell colSpan={2}>\n                  {satoshisToBitcoins(inputsTotalSats).toString()}\n                </TableCell>\n              </TableRow>\n            </TableFooter>\n          </Table>\n\n        </CardContent>\n      </Card>\n    );\n  }\n\n  renderInputs = () => {\n    const { inputs, network } = this.props;\n    return inputs.map((input, inputIndex) => {\n      const confirmedStyle = `${styles.utxoTxid}${input.confirmed ? '' : ' '+styles.unconfirmed}`;\n      const confirmedTitle = input.confirmed ? 'confirmed' : 'unconfirmed';\n      return (\n        <TableRow hover key={input.txid}>\n          <TableCell>\n            {inputIndex + 1}\n          </TableCell>\n          <TableCell className={confirmedStyle}>\n            <Copyable text={input.txid}>\n              <code title={confirmedTitle}>{input.txid}</code>\n            </Copyable>\n          </TableCell>\n          <TableCell>\n            <Copyable text={input.index.toString()} />\n          </TableCell>\n          <TableCell>\n            <Copyable text={satoshisToBitcoins(input.amountSats).toString()} />\n          </TableCell>\n          <TableCell>\n            {externalLink(blockExplorerTransactionURL(input.txid, network), <OpenInNew />)}\n          </TableCell>\n        </TableRow>\n      );\n    });\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    ...state.settings,\n  };\n}\n\nexport default connect(mapStateToProps)(UTXOSet);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n  scriptToOps,\n  scriptToHex,\n  networkLabel,\n  multisigAddressType,\n  multisigRedeemScript,\n  multisigWitnessScript,\n  multisigRequiredSigners,\n  multisigTotalSigners,\n  blockExplorerAddressURL,\n} from 'unchained-bitcoin';\nimport {\n  externalLink,\n} from \"../utils\";\n\n// Components\nimport Copyable from \"./Copyable\";\nimport { Typography, Grid, Box, Chip} from '@material-ui/core';\nimport { OpenInNew } from '@material-ui/icons';\n\nclass MultisigDetails extends React.Component {\n\n  static propTypes = {\n    network:  PropTypes.string.isRequired,\n    multisig: PropTypes.object.isRequired,\n  };\n\n  render() {\n    const {network, multisig} = this.props;\n    const address = multisig.address;\n    const redeemScript = multisigRedeemScript(multisig);\n    const witnessScript = multisigWitnessScript(multisig);\n    return (\n      <Box mt={2}>\n\n        <Typography variant=\"h6\">Address</Typography>\n\n        <Typography align=\"center\" variant=\"h5\">\n\n          <Grid container direction=\"column\" spacing={2}>\n\n            <Grid item>\n              <Copyable text={address}>\n                <code>{address}</code>\n              </Copyable>\n              &nbsp;\n              {externalLink(blockExplorerAddressURL(address, network), <OpenInNew />)}\n            </Grid>\n\n            <Grid item justify=\"center\" container spacing={3}>\n\n              <Grid item>\n                <Chip label=\"BTC\" />\n              </Grid>\n\n              <Grid item>\n                <Chip label={networkLabel(network)}/>\n              </Grid>\n\n              <Grid item>\n                <Chip label={`${multisigRequiredSigners(multisig)}-of-${multisigTotalSigners(multisig)}`}/>\n              </Grid>\n\n              <Grid item>\n                <Chip label={multisigAddressType(multisig)}/>\n              </Grid>\n\n            </Grid>\n          </Grid>\n\n        </Typography>\n\n        {this.renderScript(\"Script\", multisig)}\n        {redeemScript && this.renderScript(\"Redeem Script\", redeemScript)}\n        {witnessScript && this.renderScript(\"Witness Script\", witnessScript)}\n      </Box>\n    );\n  }\n\n  renderScript = (name, script) => {\n    const hex = scriptToHex(script);\n    const ops = scriptToOps(script);\n    return (\n      <Box mt={2}>\n        <Typography variant=\"h6\">{name}</Typography>\n        <Grid container spacing={2}>\n          <Grid item sm={6}>\n            <Copyable text={hex}><code>{hex}</code></Copyable>\n          </Grid>\n          <Grid item sm={6}>\n            <Copyable text={ops}><code>{ops}</code></Copyable>\n          </Grid>\n        </Grid>\n      </Box>\n    );\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return state.settings;\n}\n\nconst mapDispatchToProps = {\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MultisigDetails);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n  satoshisToBitcoins,\n  blockExplorerAddressURL,\n} from 'unchained-bitcoin';\nimport {\n  externalLink,\n} from \"../../utils\";\n\n// Components\nimport {\n  TableRow, TableCell, Checkbox, FormHelperText, Grid,\n  ExpansionPanel, ExpansionPanelDetails, ExpansionPanelSummary\n} from '@material-ui/core';\nimport Copyable from \"../Copyable\";\nimport UTXOSet from \"../Spend/UTXOSet\";\nimport LaunchIcon from '@material-ui/icons/Launch';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport MultisigDetails from \"../MultisigDetails\";\n\n// Actions\nimport {\n  setInputs, setFeeRate,\n} from '../../actions/transactionActions';\nimport { updateAutoSpendAction } from \"../../actions/walletActions\";\n\nimport styles from '../Spend//styles.module.scss';\n\nclass Node extends React.Component {\n\n  static propTypes = {\n    network: PropTypes.string.isRequired,\n    addressType: PropTypes.string.isRequired,\n    addNode: PropTypes.func.isRequired,\n    updateNode: PropTypes.func.isRequired,\n    present: PropTypes.bool,\n    bip32Path: PropTypes.string.isRequired,\n    multisig: PropTypes.object,\n    spend: PropTypes.bool.isRequired,\n    change: PropTypes.bool.isRequired,\n    setInputs: PropTypes.func.isRequired,\n    setFeeRate: PropTypes.func.isRequired,\n  };\n\n  componentDidMount = () => {\n    this.generate();\n  }\n\n  render = () => {\n    const {bip32Path, spend, fetchedUTXOs, balanceSats, fetchUTXOsError,\n      multisig, utxos, spending, addressKnown} = this.props;\n    return (\n      <TableRow key={bip32Path}>\n        { spending &&\n          <TableCell>\n            <Checkbox\n              id={bip32Path}\n              name=\"spend\"\n              onChange={this.handleSpend}\n              checked={spend}\n              disabled={!fetchedUTXOs || balanceSats.isEqualTo(0)}\n            />\n          </TableCell>\n        }\n        <TableCell>\n          <code>{bip32Path}</code>\n        </TableCell>\n        <TableCell>\n          {utxos.length}\n        </TableCell>\n        <TableCell>\n          {fetchedUTXOs && addressKnown ? satoshisToBitcoins(balanceSats).toFixed() : ''}\n          {fetchUTXOsError !== '' && <FormHelperText className=\"danger\">{fetchUTXOsError}</FormHelperText>}\n        </TableCell>\n        <TableCell>\n          {multisig ? this.renderAddress()\n           : '...'}\n        </TableCell>\n      </TableRow>\n      );\n  }\n\n  addressContent = () => {\n    const {multisig, network, addressUsed, balanceSats} = this.props;\n    return (\n      <div>\n        <Copyable text={multisig.address}>\n          <code className={addressUsed && balanceSats.isEqualTo(0) ? styles.spent : \"\"}>{multisig.address}</code>\n          </Copyable>\n        &nbsp;\n        {externalLink(blockExplorerAddressURL(multisig.address, network), <LaunchIcon onClick={e => e.stopPropagation()} />)}\n      </div>\n    )\n  }\n\n  renderAddress = () => {\n    const {bip32Path, utxos,  balanceSats, multisig} = this.props;\n    return (\n      <ExpansionPanel>\n      <ExpansionPanelSummary\n        expandIcon={<ExpandMoreIcon />}\n        aria-controls=\"panel1a-content\"\n        id={'address-header'+bip32Path}\n      >\n        {this.addressContent()}\n     </ExpansionPanelSummary>\n     <ExpansionPanelDetails>\n       <Grid container>\n        <Grid item md={12}>\n          <MultisigDetails multisig={multisig} />\n        </Grid>\n        { balanceSats.isGreaterThan(0) &&\n        <Grid item md={12}>\n          <UTXOSet\n            inputs={utxos}\n            inputsTotalSats={balanceSats}\n          />\n        </Grid>\n        }\n       </Grid>\n     </ExpansionPanelDetails>\n\n   </ExpansionPanel>  )\n\n  }\n\n  generate = () => {\n    const {present, change, bip32Path, addNode} = this.props;\n    if (!present) {\n      addNode(change, bip32Path);\n    }\n  }\n\n  handleSpend = (e) => {\n    const {change, bip32Path, updateNode, inputs, utxos, multisig, setInputs,\n      updateAutoSpend, setFeeRate, feeRate} = this.props;\n    let newInputs;\n    if (e.target.checked) {\n      newInputs = inputs.concat(utxos.map(utxo => ({...utxo, multisig, bip32Path: bip32Path})))\n    } else {\n      newInputs = inputs.filter(input => {\n        const newUtxos = utxos.filter(utxo => {\n          return utxo.txid === input.txid && utxo.index === input.index;\n        })\n        return newUtxos.length === 0;\n      })\n    }\n    setInputs(newInputs);\n    updateNode(change, {spend: e.target.checked, bip32Path});\n    updateAutoSpend(false);\n    setFeeRate(feeRate);\n  }\n\n}\n\nfunction mapStateToProps(state, ownProps) {\n  const change = ((ownProps.bip32Path || '').split('/')[1] === '1'); // // m, 0, 1\n  const braid = state.wallet[change ? 'change' : 'deposits'];\n  return {\n    ...state.settings,\n    ...{change},\n    ...braid.nodes[ownProps.bip32Path],\n    ...state.spend.transaction,\n    spending: state.wallet.info.spending,\n\n  };\n}\n\nconst mapDispatchToProps = {\n  setInputs,\n  setFeeRate,\n  updateAutoSpend: updateAutoSpendAction,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Node);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { bitcoindImportMulti, bitcoindGetAddressStatus } from '../bitcoind';\nimport { bitcoindParams, isWalletAddressNotFoundError } from '../bitcoind'\nimport { FormHelperText, Button, Box, Switch, FormControlLabel } from '@material-ui/core'\n\nlet interval;\nclass BitcoindAddressImporter extends React.Component {\n  static propTypes = {\n    addresses: PropTypes.array.isRequired,\n    client: PropTypes.object.isRequired,\n    autoImport: PropTypes.bool\n  };\n\n  state = {\n    imported: false,\n    importError: \"\",\n    rescan: false,\n    addressesError: \"\",\n    addressPresent: false, // this applies for auto import prop only\n  };\n\n  componentDidMount = () => {\n    if (this.props.autoImport) interval = setInterval(this.checkAddress, 5000);\n  }\n\n  componentWillUnmount = () => {\n    clearInterval(interval);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.autoImport && prevProps.addresses.length && prevProps.addresses[0] !== this.props.addresses[0]) {\n      clearInterval(interval);\n      interval = setInterval(this.checkAddress, 5000);\n    }\n  }\n\n  render() {\n    const { imported, importError, rescan, addressPresent, addressesError } = this.state;\n    const { autoImport, addresses } = this.props;\n\n     return (\n      <Box>\n        {\n          imported && rescan && <FormHelperText>{this.pluralOrSingularAddress()} imported, rescan of your node may take some time.</FormHelperText>\n        }\n        {\n          imported && !rescan && <FormHelperText>{this.pluralOrSingularAddress()} imported.</FormHelperText>\n        }\n      { addressPresent &&\n        <div>\n          <FormHelperText>Address {imported ? 'imported to' : 'found in'} your wallet!</FormHelperText>\n          <FormHelperText>You can properly determine your addresses current balance.</FormHelperText>\n          <FormHelperText>\n            Your node may need to do a rescan to determine if an address has been previously used. If you\n            are sure you have done so, or you are sure of the address's history, you may proceed.  If you\n            are unsure, you may select \"rescan\" and import.\n          </FormHelperText>\n        </div>\n      }\n\n      {\n        !addressPresent && autoImport &&\n        <FormHelperText>Checking node for presence of {this.pluralOrSingularAddress()}</FormHelperText>\n      }\n      {\n        !addressPresent && !autoImport &&\n        <FormHelperText>To get accurate information from your node your {this.pluralOrSingularAddress()}\n          will need to be imported to your node.  Importing will give you accurate balance information\n          however to know if an address hase been used previously, a rescan needs to take place.\n        </FormHelperText>\n      }\n      <FormHelperText error>{addressesError}</FormHelperText>\n        {/* <FormHelperText>Addresses used with bitcoind node must be imported to your node.  If you have not already, you can import now.</FormHelperText> */}\n        <p>\n          {/* Import {this.pluralOrSingularAddress()} to your node? */}\n          <Box component=\"span\" ml={2}>\n            <Button\n              variant=\"contained\"\n              disabled = { !rescan && (addressPresent  || addresses.length === 0) }\n              onClick={this.import}>Import</Button>\n          </Box>\n          <Box component=\"span\" ml={2}>\n            <FormControlLabel\n              control={\n                <Switch\n                checked={rescan}\n                onChange={this.handleRescan}\n                color=\"secondary\"\n                />\n              }\n              label=\"Rescan\"\n            />\n\n          </Box>\n        </p>\n        <FormHelperText error>{importError}</FormHelperText>\n\n      </Box>\n    )\n  }\n\n  pluralOrSingularAddress() {\n    const { addresses } = this.props;\n    return `address${addresses.length > 1 ? 'es' : ''}`\n  }\n\n  handleRescan = (e) => {\n    this.setState({rescan: e.target.checked})\n  }\n\n  checkAddress = async () => {\n    const { client, addresses, autoImport } = this.props;\n    const address = addresses[0] // TODO: loop, or maybe just check one\n\n    try {\n      const status = await bitcoindGetAddressStatus({ // TODO: use this to warn if spent\n        ...bitcoindParams(client),\n        address\n      });\n      if (typeof status.used !== 'undefined') {\n        this.setState({addressPresent: true, addressesError: \"\"});\n        clearInterval(interval);\n      }\n    } catch (e) {\n      // e.status 401 e.statusText\n      // e.status 500 e.data.error.message\n      const status = (e.response && e.response.status) || 'unknown'\n      if (autoImport\n        && isWalletAddressNotFoundError(e) && !this.state.rescan) {\n        this.import();\n      }\n      this.setState({\n        addressesError: status === 401 ?\n        e.response.statusText : status === 500 ?\n        e.response.data.error.message :\n        e.message || \"An unknown address error occured\"})\n      console.log(status, e.response)\n    }\n\n  }\n\n  import = () => {\n    const { addresses, client, importCallback } = this.props;\n    const { rescan } = this.state;\n    const label = \"\"; // TODO: do we want to allow to set? or set to \"caravan\"?\n    bitcoindImportMulti({\n      ...bitcoindParams(client),\n      ...{addresses, label, rescan}\n    })\n    .then(response => {\n      const responseError = response.result.reduce((e, c) => {\n        return (c.error && c.error.message) || e\n      }, \"\")\n      this.setState({\n        importError: responseError,\n        imported: responseError === \"\"\n      });\n      if (typeof importCallback !== 'undefined') {\n        importCallback(response.result)\n      }\n    })\n    .catch(e => {\n      this.setState({\n        importError: \"Unable to import, check your settings and try again\",\n        imported: false\n      });\n    });\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    client: state.client,\n  };\n}\n\nconst mapDispatchToProps = {};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BitcoindAddressImporter);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport BigNumber from \"bignumber.js\";\nimport {\n  fetchAddressUTXOs,\n  getAddressStatus,\n} from \"../../blockchain\";\n\n// Components\nimport {\n  Button,\n  Grid,\n  Table, TableHead, TableBody,\n  TableRow, TableCell, TablePagination,\n} from '@material-ui/core';\nimport Node from \"./Node\";\nimport BitcoindAddressImporter from '../BitcoindAddressImporter';\n\nclass NodeSet extends React.Component {\n\n  static propTypes = {\n    depositNodes: PropTypes.object.isRequired,\n    changeNodes: PropTypes.object.isRequired,\n    canLoad: PropTypes.bool,\n    addNode: PropTypes.func.isRequired,\n    updateNode: PropTypes.func.isRequired,\n  };\n\n  state = {\n    page: 0,\n    nodesPerPage: 10,\n    change: false,\n    spend: false,\n  };\n\n  addresses = [];\n\n  render() {\n    const {page, nodesPerPage, change} = this.state;\n    const {spending, canLoad, client} = this.props\n    const useAddressImporter = !spending && client.type === \"private\";\n\n    if (useAddressImporter) {\n      this.addresses = this.getUnknownAddressNodes()\n        .map(node => node.multisig.address) ;\n    }\n    return (\n      <Grid item md={12}>\n        { useAddressImporter &&\n          <BitcoindAddressImporter\n            addresses={this.addresses}\n            importCallback={this.addressesImported}\n            />\n        }\n      <Table style={{tableLayout: \"fixed\"}}>\n            <TableHead>\n              <TableRow>\n                {spending && <TableCell width={62}>Spend?</TableCell>}\n                <TableCell width={106}>BIP32 Path</TableCell>\n                <TableCell width={68}>UTXOs</TableCell>\n                <TableCell width={82}>Balance</TableCell>\n                <TableCell>Address</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {this.renderNodes()}\n            </TableBody>\n          </Table>\n          <Grid container>\n            <Grid item md={6}>\n              <TablePagination\n                component=\"div\"\n                count={this.rowCount()}\n                rowsPerPage={nodesPerPage}\n                page={page}\n                backIconButtonProps={{\n                  'aria-label': 'previous page',\n                }}\n                nextIconButtonProps={{\n                  'aria-label': 'next page',\n                }}\n                onChangePage={this.handlePageChange}\n                onChangeRowsPerPage={this.handleChangeRowsPerPage}\n              />\n            </Grid>\n            <Grid item md={2}>\n              {canLoad && page === this.pageCount() - 1 && <Button type=\"button\" variant=\"contained\" color=\"secondary\" onClick={this.generateAnotherPage}>More</Button>}\n            </Grid>\n            <Grid item md={4}>\n              <Button type=\"button\" variant=\"contained\" color=\"primary\" onClick={this.toggleChange}>{change ? \"View Deposits\" : \"View Change\"}</Button>\n            </Grid>\n          </Grid>\n\n        </Grid>\n    );\n  }\n\n  getUnknownAddressNodes = () => {\n    const {changeNodes, depositNodes} = this.props\n    return Object.values(depositNodes).concat(Object.values(changeNodes))\n    .filter(node => !node.addressKnown);\n  }\n\n\n  addressesImported = async result => {\n    // this will give me an array [{success: true/false}...]\n    // need to loop through and mark nodes as addressKnown\n    const { updateNode, client, network } = this.props;\n    const nodes = []\n    const unknown = this.getUnknownAddressNodes();\n    result.forEach((addr, i) => {\n      if (addr.success) nodes.push(unknown[i]); // can now set to known and refresh status\n    });\n\n    nodes.forEach(async node => {\n      const utxos = await fetchAddressUTXOs(node.multisig.address, network, client);\n      const addressStatus = await getAddressStatus(node.multisig.address, network, client);\n      let updates;\n      if (utxos) {\n        const balanceSats = utxos\n              .map((utxo) => utxo.amountSats)\n              .reduce(\n                (accumulator, currentValue) => accumulator.plus(currentValue),\n                new BigNumber(0));\n        updates = {balanceSats, utxos, fetchedUTXOs: true, fetchUTXOsError: ''}\n      }\n\n\n      updateNode(node.change, {\n        bip32Path: node.bip32Path,\n        addressKnown: true,\n        ...updates,\n        addressStatus,\n      });\n    });\n  }\n\n  getNodeSet = () => {\n    const {spending, changeNodes, depositNodes} = this.props;\n    const {change} = this.state;\n\n    const nodes = change ? changeNodes : depositNodes\n    const nodeSet = spending ? Object.values(nodes)\n      .filter(node => node.balanceSats.isGreaterThan(0))\n      .reduce((nodesObject, currentNode) => {\n        nodesObject[currentNode.bip32Path] = currentNode;\n        return nodesObject;\n      },{})\n      : nodes;\n    return nodeSet\n  }\n\n  renderNodes = () => {\n    const {page, nodesPerPage, change, spend} = this.state;\n    const {addNode, updateNode} = this.props;\n    const startingIndex = (page) * nodesPerPage;\n    const nodesRows = [];\n    const nodeSet = this.getNodeSet();\n    for (let index=0; index < nodesPerPage; index++) {\n      const whichOne = startingIndex + index;\n      if(whichOne > Object.keys(nodeSet).length -1) break;\n      const bip32Path = Object.values(nodeSet)[whichOne].bip32Path;\n      const nodeRow = <Node\n        key={bip32Path}\n        bip32Path={bip32Path}\n        addNode={addNode}\n        updateNode={updateNode}\n        change={change}\n        spend={spend}\n        />;\n      nodesRows.push(nodeRow);\n    }\n    return nodesRows;\n  }\n\n  handlePageChange = (e, selected) => {\n    const page = selected // + 1;\n    this.setState({page});\n  }\n\n  handleChangeRowsPerPage = (e) => {\n    this.setState({nodesPerPage: e.target.value, page: 0});\n  }\n\n  bip32Path = (index) => {\n    const {change} = this.state;\n    const changePath = (change ? \"1\" : \"0\");\n    return `m/${changePath}/${index}`;\n  }\n\n  pageCount = () => {\n    const {nodesPerPage} = this.state;\n    return Math.ceil(this.rowCount() / nodesPerPage);\n  }\n\n  rowCount = () => {\n    const nodeSet = this.getNodeSet();\n    return Object.keys(nodeSet).length;\n  }\n\n  generateAnotherPage = async () => {\n    const {addNode, depositNodes, changeNodes} = this.props;\n    const {change, nodesPerPage, page} = this.state;\n    const startingIndex = Object.keys(change ? changeNodes : depositNodes).length;\n    for (let index=0; index < nodesPerPage + (nodesPerPage - (startingIndex % nodesPerPage)); index++) {\n      const bip32path = this.bip32Path(startingIndex + index);\n      await addNode(change, bip32path);\n    }\n    if (startingIndex % nodesPerPage === 0) // otherwise we will be filling this page first\n      this.setState({page: page + 1});\n  }\n\n  toggleChange = () => {\n    const {change} = this.state;\n    this.setState({change: (!change), page: 0});\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    changeNodes: state.wallet.change.nodes,\n    depositNodes: state.wallet.deposits.nodes,\n    spending: state.wallet.info.spending,\n    client: state.client,\n    ...state.settings,\n\n  };\n}\n\nconst mapDispatchToProps = {\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NodeSet);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n  satoshisToBitcoins,\n  bitcoinsToSatoshis,\n  validateOutputAmountBTC,\n} from 'unchained-bitcoin';\nimport BigNumber from \"bignumber.js\";\n\n// Actions\nimport {\n  setOutputAddress,\n  setOutputAmount,\n  deleteOutput\n} from '../../actions/transactionActions';\n\n// Components\nimport { Grid, Tooltip, TextField, IconButton } from '@material-ui/core';\nimport { Delete, AddCircle, RemoveCircle } from '@material-ui/icons';\n\n// Assets\nimport styles from './styles.module.scss';\n\nclass OutputEntry extends React.Component {\n\n  static propTypes = {\n    number: PropTypes.number.isRequired,\n    inputsTotalSats: PropTypes.object.isRequired,\n    outputs: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n    fee: PropTypes.string.isRequired,\n    feeError: PropTypes.string.isRequired,\n    address: PropTypes.string.isRequired,\n    amount: PropTypes.string.isRequired,\n    addressError: PropTypes.string.isRequired,\n    amountError: PropTypes.string.isRequired,\n    finalizedOutputs: PropTypes.bool.isRequired,\n    setAddress: PropTypes.func.isRequired,\n    setAmount: PropTypes.func.isRequired,\n    remove: PropTypes.func.isRequired,\n  };\n\n  render() {\n    const {outputs, finalizedOutputs, address, amount, addressError, amountError} = this.props;\n\n    return (\n      <Grid container>\n\n        <Grid item xs={7}>\n          <TextField\n            fullWidth\n            placeholder=\"Address\"\n            name=\"destination\"\n            className={styles.outputsFormInput}\n            disabled={finalizedOutputs}\n            onChange={this.handleAddressChange}\n            value={address}\n            error={this.hasAddressError()}\n            helperText={addressError}\n          />\n        </Grid>\n\n        <Grid item xs={3}>\n          <TextField\n            fullWidth\n            placeholder=\"Amount (BTC)\"\n            className={styles.outputsFormInput}\n            name=\"amount\"\n            disabled={finalizedOutputs}\n            onChange={this.handleAmountChange}\n            value={amount}\n            error={this.hasAmountError()}\n            helperText={amountError}\n            /* type=\"number\" */\n            /* InputProps={{ */\n            /*   min: \"0\",  */\n            /*   max: \"21000000\",  */\n            /*   step: \"0.00000001\" */\n            /* }} */\n          />\n        </Grid>\n\n        {(!finalizedOutputs) && this.hasBalanceError() && this.isBalanceable() &&\n         <Grid item xs={1}>\n           <Tooltip title={`${this.balanceAction()} to ${this.autoBalancedAmount().toString()}`} placement=\"top\">\n             <small>\n               <IconButton onClick={this.handleBalance}>\n                 {this.balanceAction() === \"Increase\" ? <AddCircle /> : <RemoveCircle />}\n               </IconButton>\n             </small>\n           </Tooltip>\n         </Grid>}\n\n        {(!finalizedOutputs) && outputs.length > 1 &&\n         <Grid item xs={1}>\n           <Tooltip title=\"Remove Output\" placement=\"top\">\n             <IconButton onClick={this.handleDelete}>\n               <Delete/>\n             </IconButton>\n           </Tooltip>\n         </Grid>}\n\n      </Grid>\n    );\n  }\n\n  //\n  // Address\n  //\n\n  handleAddressChange = (event) => {\n    const {number, setAddress} = this.props;\n    setAddress(number, event.target.value);\n  }\n\n  hasAddressError = () => {\n    const {addressError} = this.props;\n    return addressError !== '';\n  }\n\n  //\n  // Amount\n  //\n\n  handleAmountChange = (event) => {\n    const {number, setAmount} = this.props;\n    setAmount(number, event.target.value);\n  }\n\n  hasAmountError = () => {\n    const {amountError} = this.props;\n    return amountError !== '';\n  }\n\n  //\n  // Balance\n  //\n\n  isNotBalanceable = () => {\n    const {number, outputs, feeError, amountError, amount, inputsTotalSats} = this.props;\n    if (feeError !== '') { return true; }\n    for (var i = 0; i < outputs.length; i++) {\n      if (i !== (number - 1)) {\n        if (outputs[i].amountError !== '' || outputs[i].amount === '') {\n          return true;\n        }\n      }\n    }\n    const newAmount = this.autoBalancedAmount();\n    if (validateOutputAmountBTC(newAmount, inputsTotalSats) !== '') { return true; }\n    if (amountError === '' && (newAmount === new BigNumber(amount))) { return true; }\n    return false;\n  }\n\n  isBalanceable = () => (!this.isNotBalanceable())\n\n  hasBalanceError = () => {\n    const {balanceError} = this.props;\n    return balanceError !== '';\n  }\n\n  autoBalancedAmount = () => {\n    const {number, fee, inputsTotalSats, outputs} = this.props;\n    const outputTotalSats = outputs\n          .filter((output, i) => i !== number - 1)\n          .map((output) => bitcoinsToSatoshis(new BigNumber(output.amount)))\n          .reduce(\n            (accumulator, currentValue) => accumulator.plus(currentValue),\n            new BigNumber(0));\n    const feeSats = bitcoinsToSatoshis(new BigNumber(fee));\n    return satoshisToBitcoins(inputsTotalSats.minus(outputTotalSats.plus(feeSats)));\n  }\n\n  balanceAction = () => {\n    const {balanceError} = this.props;\n    if ((!this.hasBalanceError()) || this.isNotBalanceable()) {return null; }\n    return balanceError.split(\" \")[0];\n  }\n\n  handleBalance = () => {\n    const {number, setAmount} = this.props;\n    setAmount(number, this.autoBalancedAmount().toString());\n  }\n\n  //\n  // State\n  //\n\n  hasError = () => {\n    return this.hasAddressError() || this.hasAmountError();\n  }\n\n  handleDelete = () => {\n    const {number, remove} = this.props;\n    remove(number);\n  }\n\n}\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    ...state.spend.transaction,\n    ...state.spend.transaction.outputs[ownProps.number - 1],\n  };\n}\n\nconst mapDispatchToProps =  {\n  setAddress: setOutputAddress,\n  setAmount: setOutputAmount,\n  remove: deleteOutput,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OutputEntry);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { map } from 'lodash';\nimport BigNumber from 'bignumber.js';\nimport { fetchFeeEstimate } from '../../blockchain';\nimport {\n  bitcoinsToSatoshis,\n  satoshisToBitcoins,\n} from 'unchained-bitcoin';\n\n// Actions\nimport {\n  addOutput,\n  setOutputAmount,\n  setFeeRate,\n  setFee,\n  finalizeOutputs,\n  resetOutputs,\n} from '../../actions/transactionActions';\n\n// Components\nimport {\n  Card, CardHeader, CardContent,\n  Grid, Button, Tooltip, TextField,\n  Box, IconButton, InputAdornment,\n} from \"@material-ui/core\";\nimport {Speed} from \"@material-ui/icons\";\nimport OutputEntry from './OutputEntry';\n\nclass OutputsForm extends React.Component {\n\n  titleRef = React.createRef();\n\n  static propTypes = {\n    network: PropTypes.string.isRequired,\n    client: PropTypes.object.isRequired,\n    inputsTotalSats: PropTypes.object.isRequired,\n    outputs: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n    fee: PropTypes.string.isRequired,\n    feeRate: PropTypes.string.isRequired,\n    finalizedOutputs: PropTypes.bool.isRequired,\n    signatureImporters: PropTypes.shape({}).isRequired,\n    setFeeRate: PropTypes.func.isRequired,\n    setFee: PropTypes.func.isRequired,\n    addOutput: PropTypes.func.isRequired,\n    setOutputAmount: PropTypes.func.isRequired,\n    resetOutputs: PropTypes.func.isRequired,\n    finalizeOutputs: PropTypes.func.isRequired,\n    feeRateError: PropTypes.string.isRequired,\n    feeError: PropTypes.string.isRequired,\n    balanceError: PropTypes.string.isRequired,\n  };\n\n  state = {\n    feeRateFetchError: '',\n  };\n\n  componentDidMount = () => {\n    this.initialOutputState();\n    this.scrollToTitle();\n  }\n\n  componentDidUpdate = () => {\n    this.scrollToTitle();\n  }\n\n  scrollToTitle = () => {\n    const { signatureImporters } = this.props;\n    const finalizedCount = Object.keys(signatureImporters).reduce((o, k) => o + (signatureImporters[k].finalized), 0);\n    if(finalizedCount === 0) this.titleRef.current.scrollIntoView({ behavior: 'smooth' });\n  }\n\n  async initialOutputState() {\n    const { inputs, outputs } = this.props;\n    await this.getFeeEstimate();\n    const {inputsTotalSats, fee, setOutputAmount} = this.props;\n    const feeSats = bitcoinsToSatoshis(new BigNumber(fee));\n    const outputAmount = satoshisToBitcoins(inputsTotalSats.minus(feeSats));\n    // onliy initialize once so we don't lose state\n    if (inputs.length && outputs[0].amount === '') setOutputAmount(1, outputAmount.toFixed(8));\n  }\n\n  render() {\n    const {feeRate, fee, finalizedOutputs, feeRateError, feeError, balanceError, addChange} = this.props;\n    const {feeRateFetchError} = this.state;\n    return (\n      <Card>\n        <CardHeader ref={this.titleRef} title=\"Define Outputs\"/>\n        <CardContent>\n            <Box>\n              <Grid>\n              {this.renderOutputs()}\n              </Grid>\n\n              <Grid item container spacing={1}>\n\n                <Grid item xs={4}>\n                    <Button\n                      variant=\"contained\"\n                      disabled={finalizedOutputs}\n                      onClick={this.handleAddOutput}\n                    >\n                      Add output\n                    </Button>\n                  {\n                  typeof addChange != 'undefined' &&\n                    <Box component=\"span\" ml={2}>\n                    <Button\n                      variant=\"contained\"\n                      disabled={finalizedOutputs}\n                      onClick={addChange}\n                    >\n                      Add change\n                    </Button>\n                    </Box>\n                  }\n                </Grid>\n\n                <Grid item xs={3}>\n                  <TextField\n                    fullWidth\n                    label=\"Fee Rate (Sats/byte)\"\n                    value={feeRate}\n                    placeholder=\"Sats/byte\"\n                    name=\"fee_rate\"\n                    disabled={finalizedOutputs}\n                    onChange={this.handleFeeRateChange}\n                    error={this.hasFeeRateError()}\n                    helperText={feeRateFetchError || feeRateError}\n                    /* type=\"number\" */\n                    InputProps={{\n                      /* min: \"0\", */\n                      /* max: \"1000\", */\n                      /* step: \"any\", */\n                      endAdornment: <InputAdornment position=\"end\">\n                                      <Tooltip placement='top' title='Estimate best rate'>\n                                        <small>\n                                          <IconButton onClick={this.getFeeEstimate}  disabled={finalizedOutputs}>\n                                            <Speed />\n                                          </IconButton>\n                                        </small>\n                                      </Tooltip>\n                                    </InputAdornment>,\n                    }}\n                  />\n                </Grid>\n\n\n                <Grid item xs={3}>\n                  <TextField\n                    fullWidth\n                    label=\"Estimated Fees (BTC)\"\n                    placeholder=\"BTC\"\n                    name=\"fee_total\"\n                    disabled={finalizedOutputs}\n                    value={fee}\n                    onChange={this.handleFeeChange}\n                    error={this.hasFeeError()}\n                    helperText={feeError}\n                    /* type=\"number\" */\n                    /* InputProps={{ */\n                    /*   min: \"0.00000001\", */\n                    /*   max: \"0.025\", */\n                    /*   step: \"0.00000001\", */\n                    /* }} */\n                  />\n                </Grid>\n\n                <Grid item xs={2}/>\n\n              </Grid>\n\n              <Grid item container spacing={1}>\n                <Grid item xs={4}/>\n                <Grid item xs={3}>\n                  <TextField\n                    fullWidth\n                    label=\"Inputs Total\"\n                    readOnly={true}\n                    value={this.inputsTotal().toString()}\n                    disabled={finalizedOutputs}\n                    InputProps={{\n                      readOnly: true,\n                    }}\n                  />\n                </Grid>\n                <Grid item xs={3}>\n                  <TextField\n                    fullWidth\n                    label=\"Outputs & Fee Total\"\n                    value={this.outputsAndFeeTotal().toString()}\n                    error={this.hasBalanceError()}\n                    disabled={finalizedOutputs}\n                    helperText={balanceError}\n                    InputProps={{\n                      readOnly: true,\n                    }}\n                  />\n                </Grid>\n                <Grid item xs={2}/>\n              </Grid>\n\n              <Grid item>\n\n                <Grid container spacing={3}>\n\n                  <Grid item>\n                    <Button\n                      variant=\"contained\"\n                      color=\"primary\"\n                      disabled={this.gatherSignaturesDisabled()}\n                      onClick={this.handleFinalize}\n                    >\n                      Gather Signatures\n                    </Button>\n                  </Grid>\n\n                  <Grid item>\n                    <Button\n                      variant=\"contained\"\n                      color=\"secondary\"\n                      disabled={finalizedOutputs}\n                      onClick={this.handleReset}\n                    >\n                      Reset Outputs\n                    </Button>\n                  </Grid>\n\n                </Grid>\n\n              </Grid>\n\n            </Box>\n\n\n\n        </CardContent>\n      </Card>\n    );\n  }\n\n  renderOutputs = () => {\n    const { outputs } = this.props;\n    return map(outputs).map((output, i) => (\n      <Grid container key={i}>\n        <OutputEntry number={i+1} />\n      </Grid>\n    ));\n  }\n\n  inputsTotal = () => {\n    const {inputsTotalSats} = this.props;\n    return satoshisToBitcoins(inputsTotalSats);\n  }\n\n  outputsAndFeeTotal = () => {\n    const {outputs, fee, inputs} = this.props;\n    if (!inputs.length) return '';\n    return outputs\n      .map((output) => new BigNumber(output.amount || 0))\n      .reduce(\n        (accumulator, currentValue) => accumulator.plus(currentValue),\n        new BigNumber(0))\n      .plus(new BigNumber(fee));\n  }\n\n  hasFeeRateFetchError = () => {\n    const {feeRateFetchError} = this.state;\n    return feeRateFetchError !== '';\n  }\n\n  hasFeeRateError = () => {\n    const {feeRateError} = this.props;\n    return feeRateError !== '';\n  }\n\n  hasFeeError = () => {\n    const {feeError} = this.props;\n    return feeError !== '';\n  }\n\n  hasBalanceError = () => {\n    const {balanceError} = this.props;\n    return balanceError !== '';\n  }\n\n  hasError = () => {\n    return (\n      this.hasFeeRateFetchError()\n        || this.hasFeeRateError()\n        || this.hasFeeError()\n        || this.hasBalanceError()\n    );\n  }\n\n  handleAddOutput = () => {\n    const {addOutput} = this.props;\n    addOutput();\n  };\n\n  handleFeeRateChange = (event) => {\n    const {setFeeRate, inputs} = this.props;\n    if (inputs.length) setFeeRate(event.target.value);\n  }\n\n  handleFeeChange = (event) => {\n    const {setFee} = this.props;\n    setFee(event.target.value);\n  }\n\n  handleFinalize = () => {\n    const { finalizeOutputs } = this.props;\n    finalizeOutputs(true);\n  };\n\n  handleReset = () => {\n    const { resetOutputs } = this.props;\n    resetOutputs();\n    this.initialOutputState();\n  }\n\n  getFeeEstimate = async () => {\n    const {client, network, setFeeRate} = this.props;\n    let newFeeRate = 1;\n    let feeRateFetchError = '';\n    try {\n      newFeeRate = await fetchFeeEstimate(network, client);\n    } catch (e){\n      console.error(e);\n      feeRateFetchError = 'There was an error fetching the fee rate.';\n    } finally {\n      setFeeRate(newFeeRate.toString());\n      this.setState({feeRateFetchError});\n    }\n  }\n\n  gatherSignaturesDisabled = () => {\n    const {finalizedOutputs, outputs, inputs} = this.props;\n    if (inputs.length === 0) return true;\n    if (finalizedOutputs || this.hasError()) { return true; }\n    for (var i=0; i < outputs.length; i++) {\n      const output = outputs[i];\n      if (output.address === '' || output.amount === '' || output.addressError !== '' || output.amountError !== '') {\n        return true;\n      }\n    }\n    return false;\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    ...{\n      network: state.settings.network,\n      client: state.client,\n      },\n    ...state.spend.transaction,\n    ...state.client,\n    signatureImporters: state.spend.signatureImporters,\n  };\n}\n\nconst mapDispatchToProps = {\n  addOutput,\n  setOutputAmount,\n  setFeeRate,\n  setFee,\n  finalizeOutputs,\n  resetOutputs,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OutputsForm);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n// Components\nimport {\n  Box,\n  TextField,\n  Button,\n} from '@material-ui/core';\n\nclass TextSignatureImporter extends React.Component {\n\n  static propTypes =  {\n    signatureImporter: PropTypes.shape({}).isRequired,\n    validateAndSetSignature: PropTypes.func.isRequired,\n  };\n\n  state = {\n    signatureJSON: '',\n    error: '',\n  };\n\n  render = () => {\n    const { signatureJSON, error } = this.state;\n    return (\n      <Box mt={2}>\n        <TextField\n          fullWidth\n          multiline\n          variant=\"outlined\"\n          name=\"signature\"\n          label=\"Signature\"\n          rows={5}\n          value={signatureJSON}\n          onChange={this.handleChange}\n          error={this.hasError()}\n          helperText={error}\n        />\n\n        <Box mt={2}>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            onClick={this.finalize}\n            disabled={signatureJSON === ''}\n          >\n            Add Signature\n          </Button>\n        </Box>\n      </Box>\n    );\n  }\n\n  hasError = () => {\n    return this.state.error !== '';\n  }\n\n  setError = (value) => {\n    this.setState({error: value});\n  }\n\n  handleChange = (event) => {\n    const signatureJSON = event.target.value;\n    let error = '';\n    try {\n      JSON.parse(signatureJSON);\n    } catch(parseError) {\n      error = \"Invalid JSON.\";\n    }\n    this.setState({signatureJSON, error});\n  }\n\n  finalize = () => {\n    const {validateAndSetSignature} = this.props;\n    const {signatureJSON} = this.state;\n    validateAndSetSignature(\n      JSON.parse(signatureJSON),\n      this.setError);\n  }\n\n}\n\nexport default TextSignatureImporter;\n","import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  PENDING,\n  ACTIVE,\n} from \"unchained-wallets\";\n\n// Components\nimport QrReader from \"react-qr-reader\";\nimport { Grid, Button, Box, FormHelperText} from '@material-ui/core';\nimport Copyable from \"../Copyable\";\n\nconst QR_CODE_READER_DELAY = 300; // ms?\n\nclass HermitReader extends Component {\n\n  static propTypes = {\n    onStart: PropTypes.func,\n    onSuccess: PropTypes.func.isRequired,\n    onClear: PropTypes.func.isRequired,\n    width: PropTypes.string.isRequired,\n    startText: PropTypes.string.isRequired,\n    interaction: PropTypes.object.isRequired,\n  };\n\n  static defaultProps = {\n    width: \"256px\",\n    startText: \"Scan\",\n  }\n  \n  state = {\n    walletState: PENDING,\n    error: '',\n  };\n\n  render = () => {\n    const {walletState, error} = this.state;\n    const {interaction, width, startText} = this.props;\n\n    if (walletState === PENDING) {\n      const commandMessage = interaction.messageFor({walletState, code: \"hermit.command\"});\n      return (\n        <div>\n          <p>{commandMessage.instructions}</p>\n          <Grid container justify=\"center\" className=\"mb-2\">\n            <Copyable text={commandMessage.command}>\n              <code><strong>{commandMessage.mode}&gt;</strong> {commandMessage.command}</code>\n            </Copyable>\n          </Grid>\n          <p>When you are ready, scan the QR code produced by Hermit:</p>\n          <Box mt={2}>\n            <Button  variant=\"contained\" color=\"primary\" className=\"mt-2\" size=\"large\" onClick={this.handleStart}>{startText}</Button>\n          </Box>\n        </div>\n      );\n    } \n\n    if (walletState === ACTIVE) {\n      return (\n        <Grid container direction=\"column\">\n          <Grid item>\n            <QrReader \n              delay={QR_CODE_READER_DELAY} \n              onError={this.handleError} \n              onScan={this.handleScan}\n              style={{width}}\n              facingMode='user'\n            />\n          </Grid>\n          <Grid item>\n            <Button variant=\"contained\" color=\"secondary\" size=\"small\" onClick={this.handleStop}>Cancel</Button>\n          </Grid>\n        </Grid>\n      );\n    }\n    \n    if (walletState === 'error' || walletState === 'success') {\n      return (\n        <div>\n          <FormHelperText error>{error}</FormHelperText>\n          <Button variant=\"contained\" color=\"secondary\" size=\"small\" onClick={this.handleStop}>Reset</Button>\n        </div>\n      );\n    }\n\n    return null;\n  }\n\n  handleStart = () => {\n    const {onStart} = this.props;\n    this.setState({walletState: ACTIVE, error: ''});\n    if (onStart) { onStart(); }\n  }\n\n  handleError = (error) => {\n    const {onClear} = this.props;\n    this.setState({walletState: 'error', error: error.message});\n    if (onClear) {onClear(); }\n  }\n\n  handleScan = (data) => {\n    const {onSuccess, interaction} = this.props;\n    if (data) {\n      try {\n        const result = interaction.parse(data);\n        onSuccess(result);\n        this.setState({walletState: 'success'});\n      } catch(e) {\n        this.handleError(e);\n      }\n    }\n  }\n\n  handleStop = () => {\n    const {onClear} = this.props;\n    this.setState({\n      walletState: PENDING,\n      error: '',\n    });\n    if (onClear) {onClear(); }\n  }\n\n}\n\nexport default HermitReader;\n\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// Components\nimport QRCode from \"qrcode.react\";\nimport Copyable from \"../Copyable\";\n\nclass HermitDisplayer extends React.Component {\n\n  static propTypes = {\n    string: PropTypes.string.isRequired,\n    width: PropTypes.number.isRequired,\n  };\n\n  static defaultProps = {\n    string: '',\n    width: 120,\n  }\n\n  state = {\n    errorMessage: '',\n  };\n\n  render = () => {\n    const {width, string} = this.props;\n    return (\n      <Copyable text={string} newline={true}>\n        <QRCode size={width} value={string} level={'L'} />\n      </Copyable>\n    );\n  }\n\n}\n\nexport default HermitDisplayer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  INFO,\n  WARNING,\n  ERROR,\n} from \"unchained-wallets\";\nimport { List, ListItem, ListItemIcon, ListItemText } from '@material-ui/core';\nimport { Info, Warning, Error } from '@material-ui/icons';\n\nclass WalletFeedback extends React.Component {\n\n  static propTypes = {\n    messages: PropTypes.array.isRequired,\n    excludeCodes: PropTypes.array.isRequired,\n  };\n\n  static defaultProps = {\n    messages: [],\n    excludeCodes: [],\n  }\n\n  render = () => {\n    return (\n      <small>\n        <List>\n          {this.filteredMessages().map((m, i) => this.renderMessage(m, i))}\n        </List>\n      </small>\n    );\n  }\n\n  renderMessage = (message, key) => {\n    return (\n      <ListItem key={key}>\n        <ListItemIcon>\n          {this.messageIcon(message)}\n        </ListItemIcon>\n        <ListItemText>\n          {message.text}\n        </ListItemText>\n      </ListItem>\n    );\n  }\n\n  filteredMessages = () => {\n    const {messages, excludeCodes} = this.props;\n    return messages.filter((message) => {\n      for (let i=0; i < excludeCodes.length; i++) {\n        const excludeCode = excludeCodes[i];\n        if ((message.code || '').includes(excludeCode)) { return false; }\n      }\n      return true;\n    });\n  }\n\n  messageIcon = (message) => {\n    switch (message.level) {\n    case INFO:\n      return <Info />;\n    case WARNING:\n      return <Warning />;\n    case ERROR:\n      return <Error />;\n    default:\n      return null;\n    }    \n  }\n\n  messageColrName = (message) => {\n    switch (message.level) {\n    case INFO:\n      return \"primary.main\";\n    case WARNING:\n      return \"text.secondary\";\n    case ERROR:\n      return \"error.main\";\n    default:\n      return \"\";\n    }\n  }\n}\n\nexport default WalletFeedback;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  PENDING,\n  UNSUPPORTED,\n  HermitSignTransaction,\n} from \"unchained-wallets\";\n\n// Components\nimport {\n  Grid,\n  Box,\n  TextField,\n  Button,\n  FormHelperText,\n} from '@material-ui/core';\nimport HermitReader from \"../Hermit/HermitReader\";\nimport HermitDisplayer from \"../Hermit/HermitDisplayer\";\nimport WalletFeedback from '../WalletFeedback';\n\nclass HermitSignatureImporter extends React.Component {\n\n  static propTypes =  {\n    network: PropTypes.string.isRequired,\n    inputs: PropTypes.array.isRequired,\n    outputs: PropTypes.array.isRequired,\n    signatureImporter: PropTypes.shape({}).isRequired,\n    resetBIP32Path: PropTypes.func.isRequired,\n    defaultBIP32Path: PropTypes.string.isRequired,\n    validateAndSetBIP32Path: PropTypes.func.isRequired,\n    validateAndSetSignature: PropTypes.func.isRequired,\n    enableChangeMethod: PropTypes.func.isRequired,\n    disableChangeMethod: PropTypes.func.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      bip32PathError: '',\n      bip32PathFinalized: false,\n      signatureError: '',\n      walletState: (this.interaction(true).isSupported() ? PENDING : UNSUPPORTED),\n    };\n  }\n\n  interaction = () => {\n    const {signatureImporter, network, inputs, outputs} = this.props;\n    // Sign all inputs with the same BIP32 path because we currently\n    // assume each input is attached to the same address, hence redeem\n    // script, hence public key, hence BIP32 path.\n    //\n    // This will need to be changed if we are signing inputs across\n    // addresses.\n    const bip32Paths = inputs.map((input) => (signatureImporter.bip32Path));\n    return new HermitSignTransaction({network, inputs, outputs, bip32Paths});\n  }\n\n  render = () => {\n    const {signatureImporter, disableChangeMethod, resetBIP32Path} = this.props;\n    const {bip32PathError, signatureError, walletState} = this.state;\n    const interaction = this.interaction();\n    if (walletState === UNSUPPORTED) {\n      return (\n        <WalletFeedback messages={interaction.messagesFor({walletState})} excludeCodes={[\"hermit.signature_request\", \"hermit.command\"]}/>\n      );\n    }\n    return (\n      <Box mt={2}>\n\n        <Grid container>\n\n          <Grid item md={10}>\n            <TextField\n              name=\"bip32Path\"\n              value={signatureImporter.bip32Path}\n              onChange={this.handleBIP32PathChange}\n              disabled={walletState !== PENDING}\n              error={this.hasBIP32PathError()}\n              helperText={bip32PathError}\n            />\n          </Grid>\n\n          <Grid item md={2}>\n            {!this.bip32PathIsDefault() && \n             <Button type=\"button\" variant=\"contained\" size=\"small\" onClick={resetBIP32Path} disabled={walletState !== PENDING}>Default</Button>}\n          </Grid>\n\n        </Grid>\n\n        <FormHelperText>Use the default value if you don&rsquo;t understand BIP32 paths.</FormHelperText>\n\n\n         <Box mt={2}>\n\n           <Grid container justify=\"center\">\n             <Grid item>\n               <HermitDisplayer width={400} string={interaction.messageFor({code: \"hermit.signature_request\"}).encodedData} />\n             </Grid>\n           </Grid>\n\n           <HermitReader\n             startText=\"Scan Signature QR Code\"\n             interaction={interaction}\n             onStart={disableChangeMethod}\n             onSuccess={this.import}\n             onClear={this.clear} />\n\n           <WalletFeedback messages={interaction.messagesFor({walletState})} excludeCodes={[\"hermit.signature_request\", \"hermit.command\"]}/>\n\n           <FormHelperText error>{signatureError}</FormHelperText>\n         </Box>\n      </Box>\n    );\n  }\n\n  import = (signature) => {\n    console.log(\"IMPORTED SIGNATURE:\", signature);\n    const { validateAndSetSignature, enableChangeMethod } = this.props;\n    this.setState({signatureError: ''});\n    enableChangeMethod();\n    validateAndSetSignature(\n      signature,\n      (signatureError) => {this.setState({signatureError});}\n    );\n  }\n\n  clear = () => {\n    const { resetBIP32Path, enableChangeMethod } = this.props;\n    resetBIP32Path();\n    this.setState({signatureError: ''});\n    enableChangeMethod();\n  }\n\n  hasBIP32PathError = () => (this.state.bip32PathError !== '')\n\n  handleBIP32PathChange = (event) => {\n    const {validateAndSetBIP32Path} = this.props;\n    const bip32Path = event.target.value;\n    validateAndSetBIP32Path(bip32Path, () => {}, (bip32PathError) => {this.setState({bip32PathError});});\n  }\n\n  bip32PathIsDefault = () => {\n    const {signatureImporter, defaultBIP32Path} = this.props;\n    return signatureImporter.bip32Path === defaultBIP32Path;\n  }\n\n}\n\nexport default HermitSignatureImporter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  multisigRequiredSigners,\n  multisigPublicKeys,\n  satoshisToBitcoins,\n} from 'unchained-bitcoin';\nimport {\n  PENDING,\n  UNSUPPORTED,\n  ACTIVE,\n  ERROR,\n  HardwareWalletExportPublicKey,\n  HardwareWalletSignMultisigTransaction,\n} from 'unchained-wallets';\n\n// Components\nimport {\n  Button, TextField, FormHelperText,\n  Box, Grid,\n  Table, TableHead, TableBody,\n  TableRow, TableCell,\n} from '@material-ui/core';\nimport {Error} from \"@material-ui/icons\";\nimport WalletFeedback from '../WalletFeedback';\n\nclass HardwareWalletSignatureImporter extends React.Component {\n\n  static propTypes =  {\n    network: PropTypes.string.isRequired,\n    inputsTotalSats: PropTypes.object.isRequired,\n    inputs: PropTypes.array.isRequired,\n    outputs: PropTypes.array.isRequired,\n    fee: PropTypes.string.isRequired,\n    signatureImporter: PropTypes.shape({}).isRequired,\n    signatureImporters: PropTypes.shape({}).isRequired,\n    validateAndSetBIP32Path: PropTypes.func.isRequired,\n    validateAndSetSignature: PropTypes.func.isRequired,\n    resetBIP32Path: PropTypes.func.isRequired,\n    defaultBIP32Path: PropTypes.string.isRequired,\n    enableChangeMethod: PropTypes.func.isRequired,\n    disableChangeMethod: PropTypes.func.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      verified: false,\n      verifyError: '',\n      signatureError: '',\n      bip32PathError: '',\n      walletState: (this.interaction(true).isSupported() ? PENDING : UNSUPPORTED),\n    };\n  }\n\n  componentDidMount = () => {\n    this.resetBIP32Path();\n  }\n\n  interaction = (inConstructor) => {\n    const verified = (inConstructor ? false : this.state.verified);\n    const {signatureImporter, network, inputs, outputs} = this.props;\n    const walletType = signatureImporter.method;\n    if (verified) {\n      const bip32Paths = inputs.map((input) => {\n        if (typeof input.bip32Path === 'undefined') return signatureImporter.bip32Path; // pubkey path\n        return `${signatureImporter.bip32Path}${input.bip32Path.slice(1)}` // xpub/pubkey slice away the m, keep /\n      });\n      return HardwareWalletSignMultisigTransaction({network, walletType, inputs, outputs, bip32Paths});\n    } else {\n      let bip32Path, bip32Paths;\n      bip32Path = signatureImporter.bip32Path; // pubkey path\n      if (typeof inputs[0].bip32Path !== 'undefined') {\n        bip32Paths = inputs.map(input => `${signatureImporter.bip32Path}${input.bip32Path.slice(1)}`); // xpub/pubkey slice away the m, keep /\n      }\n      return HardwareWalletExportPublicKey({network, walletType, bip32Path, bip32Paths});\n    }\n  }\n\n  render = () => {\n    const {signatureImporter} = this.props;\n    const {verified, walletState} = this.state;\n    const interaction = this.interaction();\n    if (walletState === UNSUPPORTED) {\n      return <FormHelperText error>{interaction.messageTextFor({walletState})}</FormHelperText>;\n    }\n    return (\n      <Box mt={2}>\n        <Grid container>\n          <Grid item md={10}>\n            <TextField\n              fullWidth\n              name=\"bip32Path\"\n              label=\"BIP32 Path\"\n              type=\"text\"\n              value={signatureImporter.bip32Path}\n              onChange={this.handleBIP32PathChange}\n              disabled={walletState !== PENDING || verified}\n              error={this.hasBIP32PathError()}\n              helperText={this.bip32PathError()}\n            />\n\n          </Grid>\n          <Grid item md={2}>\n            {!this.bip32PathIsDefault() &&\n             <Button type=\"button\" variant=\"contained\" size=\"small\" onClick={this.resetBIP32Path} disabled={verified || walletState !== PENDING}>Default</Button>}\n          </Grid>\n        </Grid>\n        <FormHelperText>Use the default value if you don&rsquo;t understand BIP32 paths.</FormHelperText>\n        <Box mt={2}>\n          {this.renderAction()}\n        </Box>\n        {this.renderDeviceConfirmInfo()}\n        <WalletFeedback messages={interaction.messagesFor({walletState})} excludeCodes={[\"bip32\"]}/>\n      </Box>\n    );\n  }\n\n  renderDeviceConfirmInfo = () => {\n    const {fee, inputsTotalSats} = this.props;\n    const {verified, walletState} = this.state;\n\n    if (verified && walletState === ACTIVE) {\n      return (\n        <Box>\n          <p>Your device will ask you to verify the following information:</p>\n          <Table>\n            <TableHead>\n              <TableRow hover>\n                 <TableCell></TableCell>\n                <TableCell>Amount (BTC)</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {this.renderTargets()}\n              <TableRow hover>\n                <TableCell>Fee</TableCell>\n                <TableCell>{fee}</TableCell>\n              </TableRow>\n              <TableRow hover>\n                <TableCell>Total</TableCell>\n                <TableCell>{satoshisToBitcoins(inputsTotalSats).toString()}</TableCell>\n              </TableRow>\n            </TableBody>\n          </Table>\n        </Box>\n      );\n    } else return '';\n  }\n\n  renderTargets = () => {\n    const { outputs } = this.props;\n    return outputs.map((output, i) => {\n      return (\n      <TableRow hover key={i}>\n        <TableCell>Address <code>{output.address}</code></TableCell>\n        <TableCell>{output.amount}</TableCell>\n      </TableRow>\n      );\n    });\n  }\n\n  renderAction = () => {\n    const {verified, verifyError, signatureError, walletState} = this.state;\n    if (verified) {\n      return (\n        <Grid container alignItems=\"center\">\n          <Grid item md={3}>\n            <Button variant=\"contained\" size=\"large\" color=\"primary\" onClick={this.sign} disabled={walletState !== PENDING}>Sign</Button>\n          </Grid>\n          <Grid item md={9}>\n            <FormHelperText error>{signatureError}</FormHelperText>\n          </Grid>\n        </Grid>\n      );\n    } else {\n      return (\n        <Grid container alignItems=\"center\">\n          <Grid item md={3}>\n            <Button variant=\"contained\" size=\"large\" onClick={this.verify} color=\"primary\" disabled={walletState !== PENDING || this.hasBIP32PathError()}>Verify</Button>\n          </Grid>\n          <Grid item md={9}>\n            <FormHelperText error>{verifyError}</FormHelperText>\n          </Grid>\n        </Grid>\n      );\n    }\n  }\n\n  //\n  // BIP32 Path\n  //\n\n  hasBIP32PathError = () => {\n    const {bip32PathError, walletState} = this.state;\n    return (bip32PathError !== '' || this.interaction().hasMessagesFor({walletState, level: ERROR, code: \"bip32\"}));\n  }\n\n  bip32PathError = () => {\n    const {bip32PathError, walletState} = this.state;\n    if (bip32PathError !== '') { return bip32PathError; }\n    return this.interaction().messageTextFor({walletState, level: ERROR, code: \"bip32\"});\n  }\n\n  setBIP32PathError = (value) => {\n    this.setState({bip32PathError: value});\n  }\n\n  handleBIP32PathChange = (event) => {\n    const {validateAndSetBIP32Path} = this.props;\n    const bip32Path = event.target.value;\n    validateAndSetBIP32Path(bip32Path, () => {}, this.setBIP32PathError);\n  }\n\n  bip32PathIsDefault = () => {\n    const {signatureImporter, defaultBIP32Path} = this.props;\n    return signatureImporter.bip32Path === defaultBIP32Path;\n  }\n\n  resetBIP32Path = () => {\n    const {resetBIP32Path} = this.props;\n    this.setBIP32PathError('');\n    resetBIP32Path();\n  }\n\n  //\n  // Verify\n  //\n\n  verify = async () => {\n    const { disableChangeMethod, enableChangeMethod } = this.props;\n    disableChangeMethod();\n    this.setState({verifyError: '', walletState: ACTIVE});\n\n    try {\n      const publicKey = await this.interaction().run();\n      this.verifyPublicKey(publicKey);\n    } catch(e) {\n      console.error(e);\n      this.setState({verifyError: e.message, walletState: PENDING});\n      enableChangeMethod();\n    }\n  }\n\n  verifyPublicKey = (publicKey) => {\n    const {inputs, signatureImporters, enableChangeMethod} = this.props;\n\n    let verifyError = '';\n    const publicKeys = typeof publicKey === 'string' ? [publicKey] : publicKey;\n\n    for (let inputIndex=0; inputIndex < inputs.length; inputIndex++) {\n      const input = inputs[inputIndex];\n      let publicKeyIndex\n      for(let i = 0; i < publicKeys.length; i++) {\n        publicKeyIndex = multisigPublicKeys(input.multisig).indexOf(publicKeys[i]);\n        if (publicKeyIndex > -1) break;\n      }\n      if (publicKeyIndex < 0) {\n        verifyError = <span><Error />&nbsp; This device does not contain the correct key.  Are you sure the BIP32 path is correct?</span>;\n        break;\n      }\n\n      for (let signatureImporterNum=1; signatureImporterNum < multisigRequiredSigners(input.multisig); signatureImporterNum++) {\n        const otherSignatureImporter = signatureImporters[signatureImporterNum];\n        for(let otherPublicKeyIndex=0; otherPublicKeyIndex < otherSignatureImporter.publicKeys.length; otherPublicKeyIndex++){\n          const otherPublicKey = otherSignatureImporter.publicKeys[otherPublicKeyIndex];\n          if (otherPublicKey === publicKey) {\n            verifyError = <span><Error />A signature from this key was already imported.</span>;\n            break;\n          }\n        }\n        if (verifyError !== '') { break; }\n      }\n      if (verifyError !== '') { break; }\n    }\n\n    this.setState({\n      verified: (verifyError === ''),\n      verifyError,\n      walletState: PENDING,\n    });\n    enableChangeMethod();\n  }\n\n  //\n  // Sign\n  //\n\n  sign = async () => {\n    const { disableChangeMethod, validateAndSetSignature, enableChangeMethod } = this.props;\n    disableChangeMethod();\n    this.setState({signatureError: '', walletState: ACTIVE});\n\n    try {\n      const signature = await this.interaction().run();\n      validateAndSetSignature(\n        signature,\n        (signatureError) => {\n          const stateUpdate = {signatureError};\n          if (signatureError !== '') stateUpdate.walletState = PENDING;\n          this.setState(stateUpdate);\n        });\n    } catch(e) {\n      console.error(e);\n      this.setState({signatureError: e.message, walletState: PENDING});\n    }\n    enableChangeMethod();\n  }\n\n}\n\nexport default HardwareWalletSignatureImporter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n// Components\nimport { Grid, IconButton, TextField } from '@material-ui/core';\nimport { Check, Clear, Edit } from '@material-ui/icons';\n\nclass EditableName extends React.Component {\n\n  static propTypes =  {\n    number: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired,\n    setName: PropTypes.func.isRequired,\n  };\n\n  state = {\n    editing: false,\n    newName: '',\n    error: '',\n  };\n\n  componentDidMount = () => {\n    const {name} = this.props;\n    this.setState({newName: name});\n  }\n\n  render = () => {\n    const {name} = this.props;\n    const {editing, newName, error} = this.state;\n    if (editing) {\n      // <Form onSubmit={this.submit} inline>\n      return (\n        <Grid container alignItems=\"center\">\n\n          <Grid item>\n            <TextField\n              label=\"Name\"\n              value={newName}\n              onChange={this.handleChange}\n              error={this.hasError()}\n              helperText={error}\n            />\n          </Grid>\n\n          <Grid item>\n            <IconButton size=\"small\" onClick={this.submit} disabled={this.hasError()}>\n              <Check />\n            </IconButton>\n          </Grid>\n\n          <Grid item>\n            <IconButton color=\"secondary\" size=\"small\" onClick={this.cancel}>\n              <Clear />\n            </IconButton>\n          </Grid>\n        </Grid>\n      );\n    } else {\n      return (\n        <span>\n          <IconButton size=\"small\" onClick={this.startEditing}>\n            <Edit />\n          </IconButton>\n          &nbsp;\n          {name}\n        </span>\n      );\n    }\n  }\n\n  hasError = () => (this.state.error !== '')\n\n  startEditing = (event) => {\n    const {name} = this.props;\n    event.preventDefault();\n    this.setState({editing: true, newName: name});\n  }\n\n  handleChange = (event) => {\n    const newName = event.target.value;\n    let error = '';\n    if (newName === null || newName === undefined || newName === '') {\n      error =  \"Name cannot be blank.\";\n    }\n    this.setState({newName, error});\n  }\n\n  submit = () => {\n    const {setName, number} = this.props;\n    const {newName} = this.state;\n    setName(number, newName);\n    this.setState({editing: false});\n  }\n\n  cancel = () => {\n    const {name} = this.props;\n    this.setState({error: '', newName: name, editing: false});\n  }\n\n}\n\nexport default EditableName;\n","import { wrappedNumberedActions } from \"./utils\";\n\nexport const RESET_SIGNATURES = 'RESET_SIGNATURES';\n\nexport const SET_SIGNATURE_IMPORTER_NAME        = \"SET_SIGNATURE_IMPORTER_NAME\";\nexport const SET_SIGNATURE_IMPORTER_METHOD      = \"SET_SIGNATURE_IMPORTER_METHOD\";\nexport const SET_SIGNATURE_IMPORTER_BIP32_PATH  = \"SET_SIGNATURE_IMPORTER_BIP32_PATH\";\nexport const SET_SIGNATURE_IMPORTER_PUBLIC_KEYS = \"SET_SIGNATURE_IMPORTER_PUBLIC_KEYS\";\nexport const SET_SIGNATURE_IMPORTER_SIGNATURE   = \"SET_SIGNATURE_IMPORTER_SIGNATURE\";\nexport const SET_SIGNATURE_IMPORTER_FINALIZED   = \"SET_SIGNATURE_IMPORTER_FINALIZED\";\nexport const SET_SIGNATURE_IMPORTER_COMPLETE    = \"SET_SIGNATURE_IMPORTER_COMPLETE\";\n\nexport const {\n  setSignatureImporterName,\n  setSignatureImporterMethod,\n  setSignatureImporterBIP32Path,\n  setSignatureImporterPublicKeys,\n  setSignatureImporterSignature,\n  setSignatureImporterFinalized,\n  setSignatureImporterComplete,\n} = wrappedNumberedActions({\n  setSignatureImporterName: SET_SIGNATURE_IMPORTER_NAME,\n  setSignatureImporterMethod: SET_SIGNATURE_IMPORTER_METHOD,\n  setSignatureImporterBIP32Path: SET_SIGNATURE_IMPORTER_BIP32_PATH,\n  setSignatureImporterPublicKeys: SET_SIGNATURE_IMPORTER_PUBLIC_KEYS,\n  setSignatureImporterSignature: SET_SIGNATURE_IMPORTER_SIGNATURE,\n  setSignatureImporterFinalized: SET_SIGNATURE_IMPORTER_FINALIZED,\n  setSignatureImporterComplete: SET_SIGNATURE_IMPORTER_COMPLETE,\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n  validateHex,\n  validateMultisigSignature,\n  multisigBIP32Path,\n  multisigBIP32Root,\n  validateBIP32Path,\n} from 'unchained-bitcoin';\nimport {\n  TREZOR,\n  LEDGER,\n  HERMIT,\n} from \"unchained-wallets\";\n\n// Components\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  Select,\n  MenuItem,\n  InputLabel,\n  Button,\n  Box,\n  FormControl,\n} from '@material-ui/core';\nimport Copyable from \"../Copyable\";\nimport TextSignatureImporter from \"./TextSignatureImporter\";\nimport HermitSignatureImporter from \"./HermitSignatureImporter\";\nimport HardwareWalletSignatureImporter from \"./HardwareWalletSignatureImporter\";\nimport EditableName from \"../EditableName\";\n\n// Actions\nimport {\n  setSignatureImporterName,\n  setSignatureImporterMethod,\n  setSignatureImporterBIP32Path,\n  setSignatureImporterPublicKeys,\n  setSignatureImporterSignature,\n  setSignatureImporterFinalized,\n  setSignatureImporterComplete,\n} from \"../../actions/signatureImporterActions\";\n\nimport 'react-table/react-table.css';\n\nconst TEXT = \"text\";\n\nclass SignatureImporter extends React.Component {\n\n  titleRef = React.createRef();\n\n  static propTypes = {\n    number: PropTypes.number.isRequired,\n    signatureImporter: PropTypes.shape({}).isRequired,\n    signatureImporters: PropTypes.shape({}).isRequired,\n    inputs: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n    inputsTotalSats:  PropTypes.object.isRequired,\n    outputs: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n    unsignedTransaction: PropTypes.object.isRequired,\n    addressType: PropTypes.string.isRequired,\n    network: PropTypes.string.isRequired,\n    fee: PropTypes.string.isRequired,\n    txid: PropTypes.string.isRequired,\n    setName: PropTypes.func.isRequired,\n    setMethod: PropTypes.func.isRequired,\n    setBIP32Path: PropTypes.func.isRequired,\n    setSignature: PropTypes.func.isRequired,\n    setPublicKeys: PropTypes.func.isRequired,\n    setFinalized: PropTypes.func.isRequired,\n    setComplete: PropTypes.func.isRequired,\n  };\n\n  state = {\n    disableChangeMethod: false,\n    showUnsignedTransaction: false,\n  };\n\n  componentDidMount = () => {\n    this.resetBIP32Path();\n    this.scrollToTitle();\n  }\n\n  componentDidUpdate = () => {\n    this.scrollToTitle();\n  }\n\n  scrollToTitle = () => {\n    const {number} = this.props;\n    if (number === this.getCurrent()) {\n      this.titleRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  }\n\n  render() {\n    const { signatureImporter } = this.props;\n    return (\n      <Card>\n        <CardHeader title={this.title()} ref={this.titleRef}/>\n        <CardContent>\n          {signatureImporter.finalized ? this.renderSignature() : this.renderImport()}\n          <Box mt={2}>\n            {this.renderUnsignedTransaction()}\n          </Box>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  title = () => {\n    const {number, signatureImporter, setName} = this.props;\n    return <EditableName number={number} name={signatureImporter.name} setName={setName} />;\n  }\n\n  getCurrent() {\n    const { signatureImporters } = this.props;\n    return Object.keys(signatureImporters).reduce((o, k) => {\n      return o + (signatureImporters[k].finalized ? 1 : 0)\n    }, 1);\n  }\n\n  renderImport = () => {\n    const { signatureImporter, number } = this.props;\n    const currentNumber = this.getCurrent();\n    const notMyTurn =  (number > currentNumber);\n    const { disableChangeMethod } = this.state;\n    const labelId = `signature-${number}-importer-select-label`;\n    if (notMyTurn) {\n      return (\n        <p>\n          Once you have imported the signature above, you will be able to import another signature here.\n        </p>\n      );\n    }\n\n    return (\n      <form>\n\n        <FormControl fullWidth>\n          <InputLabel id={labelId}>Select Method</InputLabel>\n\n          <Select\n            labelId={labelId}\n            id={`signature-${number}-importer-select`}\n            disabled={disableChangeMethod}\n            value={signatureImporter.method}\n            onChange={this.handleMethodChange}\n          >\n            <MenuItem value=\"\">{'< Select method >'}</MenuItem>\n            <MenuItem value={TREZOR}>Trezor</MenuItem>\n            <MenuItem value={LEDGER}>Ledger</MenuItem>\n            <MenuItem value={HERMIT}>Hermit</MenuItem>\n            <MenuItem value={TEXT}>Enter as text</MenuItem>\n          </Select>\n        </FormControl>\n\n        {this.renderImportByMethod()}\n\n      </form>\n    );\n  }\n\n  renderImportByMethod = () => {\n    const {network, signatureImporter, signatureImporters, inputs, inputsTotalSats,  outputs, fee} = this.props;\n    if (signatureImporter.method === TEXT) {\n      return <TextSignatureImporter\n                               signatureImporter={signatureImporter}\n                               validateAndSetSignature={this.validateAndSetSignature} />;\n    }\n    if (signatureImporter.method === HERMIT) {\n      return <HermitSignatureImporter\n               network={network}\n               signatureImporter={signatureImporter}\n               inputs={inputs}\n               outputs={outputs}\n               validateAndSetBIP32Path={this.validateAndSetBIP32Path}\n               resetBIP32Path={this.resetBIP32Path}\n               defaultBIP32Path={this.defaultBIP32Path()}\n               validateAndSetSignature={this.validateAndSetSignature}\n               enableChangeMethod={this.enableChangeMethod}\n               disableChangeMethod={this.disableChangeMethod} />;\n    }\n    if (signatureImporter.method === TREZOR || signatureImporter.method === LEDGER) {\n      return <HardwareWalletSignatureImporter\n               network={network}\n               signatureImporter={signatureImporter}\n               signatureImporters={signatureImporters}\n               inputs={inputs}\n               outputs={outputs}\n               inputsTotalSats={inputsTotalSats}\n               fee={fee}\n               validateAndSetBIP32Path={this.validateAndSetBIP32Path}\n               resetBIP32Path={this.resetBIP32Path}\n               defaultBIP32Path={this.defaultBIP32Path()}\n               validateAndSetSignature={this.validateAndSetSignature}\n               enableChangeMethod={this.enableChangeMethod}\n               disableChangeMethod={this.disableChangeMethod} />;\n    }\n    return null;\n  }\n\n  //\n  // Method\n  //\n\n  handleMethodChange = (event) => {\n    const { number, setMethod } = this.props;\n    setMethod(number, event.target.value);\n    this.reset();\n  }\n\n  disableChangeMethod = () => {\n    this.setState({disableChangeMethod: true});\n  }\n\n  enableChangeMethod = () => {\n    this.setState({disableChangeMethod: false});\n  }\n\n  //\n  // Unsigned Transaction\n  //\n\n  renderUnsignedTransaction = () => {\n    const {showUnsignedTransaction} = this.state;\n    const {unsignedTransaction} = this.props;\n    if (showUnsignedTransaction) {\n      const hex = unsignedTransaction.toHex();\n      return (\n        <div>\n          <p><Copyable text={hex}><code>{hex}</code></Copyable></p>\n          <small>\n            <Button size=\"small\" onClick={this.handleHideUnsignedTransaction}>\n              Hide Unsigned Transaction\n            </Button>\n          </small>\n        </div>\n\n      );\n    } else {\n      return (\n        <small>\n          <Button size=\"small\" onClick={this.handleShowUnsignedTransaction}>\n            Show Unsigned Transaction\n          </Button>\n        </small>\n      );\n    }\n  }\n\n  handleShowUnsignedTransaction = () => {\n    this.setState({showUnsignedTransaction: true});\n  }\n\n  handleHideUnsignedTransaction = () => {\n    this.setState({showUnsignedTransaction: false});\n  }\n\n\n  //\n  // State\n  //\n\n  reset = () => {\n    const { number, setSignature, setPublicKeys, setFinalized } = this.props;\n    setSignature(number, '');\n    setPublicKeys(number, []);\n    setFinalized(number, false);\n  }\n\n  //\n  // BIP32 Path\n  //\n\n  defaultBIP32Path = () => {\n    const {addressType, network, isWallet} = this.props;\n    return isWallet ? multisigBIP32Root(addressType, network) :\n      multisigBIP32Path(addressType, network);\n  }\n\n  resetBIP32Path = () => {\n    const {number, setBIP32Path} = this.props;\n    setBIP32Path(number, this.defaultBIP32Path());\n  }\n\n  validateAndSetBIP32Path = (bip32Path, callback, errback, options) => {\n    const {number, setBIP32Path} = this.props;\n    const error = validateBIP32Path(bip32Path, options);\n    setBIP32Path(number, bip32Path);\n    if (error) {\n      errback(error);\n    } else {\n      errback('');\n      callback();\n    }\n  }\n\n\n  //\n  // Signature\n  //\n\n  renderSignature = () => {\n    const { signatureImporter, txid  } = this.props;\n    const signatureJSON =  JSON.stringify(signatureImporter.signature);\n    return (\n      <div>\n        <p>The following signature was imported:</p>\n        <Box>\n          <Copyable text={signatureJSON}>\n            <small><code>{signatureJSON}</code></small>\n          </Copyable>\n        </Box>\n        <Box mt={2}>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            disabled={txid !== \"\"}\n            size=\"small\"\n            onClick={this.reset}\n          >\n            Remove Signature\n          </Button>\n        </Box>\n\n      </div>\n    );\n  }\n\n  validateAndSetSignature = (inputsSignatures, errback) => {\n    const {number, inputs, signatureImporters, unsignedTransaction, setComplete} = this.props;\n\n    if (!Array.isArray(inputsSignatures)) {\n      errback(\"Signature is not an array of strings.\");\n      return;\n    }\n\n    if (inputsSignatures.length < inputs.length) {\n      errback(\"Not enough signatures (must be exactly one for each input).\");\n      return;\n    }\n    if (inputsSignatures.length > inputs.length) {\n      errback(\"Too many signatures (must be exactly one for each input).\");\n      return;\n    }\n\n    const publicKeys = [];\n    const finalizedSignatureImporters = Object.values(signatureImporters).filter((signatureImporter) => (signatureImporter.finalized));\n    for (let inputIndex = 0; inputIndex < inputsSignatures.length; inputIndex += 1) {\n      const input = inputs[inputIndex];\n      const inputNumber = inputIndex + 1;\n      const inputSignature = inputsSignatures[inputIndex];\n      if (validateHex(inputSignature) !== '') {\n        errback(`Signature for input ${inputNumber} is not valid hex.`);\n        return;\n      }\n\n      let publicKey;\n      try{\n        publicKey = validateMultisigSignature(unsignedTransaction, inputIndex, input, inputSignature);\n      } catch(e) {\n        errback(`Signature for input ${inputNumber} is invalid.`);\n        return;\n      }\n      if (publicKey) {\n        for (let finalizedSignatureImporterNum=0; finalizedSignatureImporterNum < finalizedSignatureImporters.length; finalizedSignatureImporterNum++) {\n          const finalizedSignatureImporter = finalizedSignatureImporters[finalizedSignatureImporterNum];\n\n          if (finalizedSignatureImporter.signature[inputIndex] === inputSignature || finalizedSignatureImporter.publicKeys[inputIndex] === publicKey) {\n            errback(`Signature for input ${inputNumber} is a duplicate of a previously provided signature.`);\n            return;\n          }\n        }\n        publicKeys.push(publicKey);\n      } else {\n        errback(`Signature for input ${inputNumber} is invalid.`);\n        return;\n      }\n    }\n\n    setComplete(number, {signature: inputsSignatures, publicKeys: publicKeys, finalized: true});\n  }\n\n\n}\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    ...{\n      signatureImporters: state.spend.signatureImporters,\n      signatureImporter: state.spend.signatureImporters[ownProps.number],\n      fee: state.spend.transaction.fee,\n      txid: state.spend.transaction.txid,\n    },\n    ...state.spend.transaction,\n  };\n}\n\nconst mapDispatchToProps = {\n  setName: setSignatureImporterName,\n  setMethod: setSignatureImporterMethod,\n  setBIP32Path: setSignatureImporterBIP32Path,\n  setPublicKeys: setSignatureImporterPublicKeys,\n  setSignature: setSignatureImporterSignature,\n  setFinalized: setSignatureImporterFinalized,\n  setComplete: setSignatureImporterComplete,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignatureImporter);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n  signedMultisigTransaction,\n  blockExplorerTransactionURL,\n} from \"unchained-bitcoin\";\nimport { broadcastTransaction } from '../../blockchain';\n\nimport {\n  Typography,\n  Box,\n  FormHelperText,\n  Button,\n  Card,\n  CardHeader,\n  CardContent,\n} from '@material-ui/core';\nimport {OpenInNew} from \"@material-ui/icons\";\nimport Copyable from \"../Copyable\";\nimport {externalLink} from \"../../utils\";\nimport {setTXID} from '../../actions/transactionActions';\n\nclass Transaction extends React.Component {\n\n  static propTypes = {\n    network: PropTypes.string.isRequired,\n    client: PropTypes.object.isRequired,\n    inputs: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n    signatureImporters: PropTypes.object.isRequired,\n  };\n\n  state = {\n    error: '',\n    broadcasting: false,\n    txid: '',\n  }\n\n  render() {\n    const { error, broadcasting, txid } = this.state;\n    const signedTransaction = this.buildSignedTransaction();\n    const signedTransactionHex = signedTransaction.toHex();\n    return (\n      <Card>\n        <CardHeader title=\"Broadcast\"/>\n        <CardContent>\n\n          <form>\n            {signedTransaction &&\n             <Box mt={4}>\n               <Typography variant=\"h6\">Signed Transaction</Typography>\n               <Copyable text={signedTransactionHex}>\n                 <small><code>{signedTransactionHex}</code></small>\n               </Copyable>\n             </Box>}\n\n            {\n              txid === ''\n                ?\n                <Box mt={2}>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    disabled={!signedTransaction || broadcasting}\n                    onClick={this.handleBroadcast}\n                  >\n                    Broadcast Transaction\n                  </Button>\n                  <FormHelperText error>{error}</FormHelperText>\n                  <small><FormHelperText>Warning: Broadcasting this transaction cannot be undone.</FormHelperText></small>\n                </Box>\n              :\n              <Box mt={2}>\n                <Typography variant=\"h5\">\n                  <Copyable text={txid}>\n                    <code>{txid}</code>\n                  </Copyable>\n                  &nbsp;\n                  {externalLink(this.transactionURL(), <OpenInNew />)}\n                </Typography>\n                <p>Transaction successfully broadcast.</p>\n              </Box>\n            }\n          </form>\n\n        </CardContent>\n\n      </Card>\n    );\n  }\n\n  buildSignedTransaction = () => {\n    const {unsignedTransaction, inputs, signatureImporters} = this.props;\n    const inputsSignaturesByPublicKey = [];\n    inputs.forEach((input, inputIndex) => {\n      const inputSignaturesByPublicKey = {};\n      Object.values(signatureImporters).forEach((signatureImporter) => {\n        const signerInputPublicKey = signatureImporter.publicKeys[inputIndex];\n        const signerInputSignature = signatureImporter.signature[inputIndex];\n        inputSignaturesByPublicKey[signerInputPublicKey] = signerInputSignature;\n      });\n      inputsSignaturesByPublicKey.push(inputSignaturesByPublicKey);\n    });\n    return signedMultisigTransaction(unsignedTransaction, inputs, inputsSignaturesByPublicKey);\n  }\n\n  handleBroadcast = async () => {\n    const {client, network, setTxid} = this.props;\n    const signedTransaction = this.buildSignedTransaction();\n    let error = '';\n    let txid = '';\n    this.setState({broadcasting: true});\n    try {\n      txid = await broadcastTransaction(signedTransaction.toHex(), network, client);\n    } catch (e) {\n      console.error(e);\n      error = `There was an error broadcasting the transaction.: ${e}`;\n    } finally {\n      this.setState({txid, error, broadcasting: false});\n      setTxid(txid);\n    }\n  }\n\n  transactionURL = () => {\n    const {network} = this.props;\n    const {txid} = this.state;\n    return blockExplorerTransactionURL(txid, network);\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    network: state.settings.network,\n    client: state.client,\n    ...state.client,\n    signatureImporters: state.spend.signatureImporters,\n    inputs: state.spend.transaction.inputs,\n    unsignedTransaction: state.spend.transaction.unsignedTransaction,\n  };\n}\n\nconst mapDispatchToProps = {\n  setTxid: setTXID\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Transaction);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\n// Components\nimport SignatureImporter from '../Spend/SignatureImporter';\nimport Transaction from '../Spend/Transaction';\nimport {Box, Button} from \"@material-ui/core\";\n\n// Actions\nimport { finalizeOutputs, setRequiredSigners, resetTransaction } from '../../actions/transactionActions';\nimport { spendNodes, resetWalletView,   updateChangeNodeAction } from \"../../actions/walletActions\";\n\nclass WalletSign extends React.Component {\n  static propTypes = {\n    transaction: PropTypes.object.isRequired,\n    signatureImporters: PropTypes.shape({}).isRequired,\n    finalizeOutputs: PropTypes.func.isRequired,\n    setRequiredSigners: PropTypes.func.isRequired,\n    spendNodes: PropTypes.func.isRequired,\n    resetTransaction: PropTypes.func.isRequired,\n    getChangeNode: PropTypes.func.isRequired,\n  };\n\n  state = {\n    spent: false\n  }\n\n  render = () => {\n    return (\n      <Box>\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          onClick={this.handleCancel}>Cancel</Button>\n\n      {this.renderSignatureImporters()}\n\n      {\n        this.signaturesFinalized() &&\n        <Box mt={2}>\n          <Transaction/>\n        </Box>\n      }\n\n      {\n        (this.transactionFinalized() || this.state.spent) &&\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={this.handleReturn}>Return</Button>\n      }\n  </Box>\n\n    )\n  }\n\n  renderSignatureImporters = () => {\n    const {transaction} = this.props;\n    const signatureImporters = [];\n    for (var signatureImporterNum = 1; signatureImporterNum <= transaction.requiredSigners; signatureImporterNum++) {\n      signatureImporters.push(\n        <Box key={signatureImporterNum} mt={2}>\n          <SignatureImporter number={signatureImporterNum} />\n        </Box>\n      );\n    }\n    return signatureImporters;\n  }\n\n  signaturesFinalized = () => {\n    const {signatureImporters} = this.props;\n    return Object.values(signatureImporters).length > 0 && Object.values(signatureImporters).every((signatureImporter) => signatureImporter.finalized);\n  }\n\n  transactionFinalized = () => {\n    const { transaction, spendNodes, getChangeNode, updateChangeNode } = this.props;\n\n    const txid = transaction.txid;\n    if (txid !== \"\" && !this.state.spent) {\n      this.setState({spent: true})\n      const changeNode = getChangeNode();\n      const changeAddress = changeNode.multisig.address;\n      for (let i = 0; i < transaction.outputs.length; i++) {\n        if (changeAddress === transaction.outputs[i].address) {\n          updateChangeNode({bip32Path: changeNode.bip32Path, balanceSats: transaction.outputs[i].amountSats})\n          break;\n        }\n      }\n      spendNodes();\n      return true;\n    }\n\n    return false;\n  }\n\n  handleReturn = () => {\n    const { resetTransaction, resetWalletView } = this.props;\n    resetTransaction();\n    resetWalletView();\n  }\n\n  handleCancel = () => {\n    const { finalizeOutputs, requiredSigners, setRequiredSigners } = this.props;\n    setRequiredSigners(requiredSigners); // this will generate signature importers\n    finalizeOutputs(false);\n\n  }\n}\n\n\nfunction mapStateToProps(state) {\n  return {\n    ...state.wallet,\n    ...state.spend,\n    requiredSigners: state.spend.transaction.requiredSigners,\n  };\n}\n\nconst mapDispatchToProps = {\n  finalizeOutputs,\n  setRequiredSigners,\n  spendNodes,\n  resetTransaction,\n  resetWalletView,\n  updateChangeNode: updateChangeNodeAction,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WalletSign);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport BigNumber from 'bignumber.js'\n\n// Actions\nimport {\n  updateAutoSpendAction,\n  updateDepositNodeAction,\n  updateChangeNodeAction,\n  resetNodesSpend,\n} from \"../../actions/walletActions\";\nimport {\n  setInputs,\n  setFeeRate,\n  addOutput,\n  setOutputAddress,\n } from \"../../actions/transactionActions\";\n\n// Components\nimport NodeSet from \"./NodeSet\";\nimport OutputsForm from '../Spend/OutputsForm';\nimport WalletSign from './WalletSign'\nimport {\n    Box, Card, CardHeader,\n    CardContent, Grid, Switch,\n  } from '@material-ui/core';\n\nimport { bitcoinsToSatoshis } from 'unchained-bitcoin/lib/utils';\n\nlet coinSelectTimer;\n\nclass WalletSpend extends React.Component {\n\n  static propTypes = {\n    addNode: PropTypes.func.isRequired,\n    updateNode: PropTypes.func.isRequired,\n    setFeeRate: PropTypes.func.isRequired,\n  };\n\n  state = {\n    outputsAmount: new BigNumber(0),\n    feeAmount: new BigNumber(0)\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.autoSpend) {\n      if (coinSelectTimer) clearTimeout(coinSelectTimer)\n      coinSelectTimer = setTimeout(this.selectCoins, 1000);\n    }\n  }\n\n  componentWillUnmount() {\n    if (coinSelectTimer) clearTimeout(coinSelectTimer)\n  }\n\n  render() {\n    const { finalizedOutputs } = this.props;\n    return (\n      <Box>\n        <Grid container>\n          <Grid item md={12}>\n            <OutputsForm addChange={this.handleAddChange} />\n          </Grid>\n          <Grid item md={12}>\n            <Box mt={2}>\n              { finalizedOutputs ?\n                <WalletSign getChangeNode={this.getChangeNode}/> :\n                this.renderSpend()\n              }\n            </Box>\n          </Grid>\n        </Grid>\n      </Box>\n    )\n  }\n\n  getChangeNode = () => {\n    const {changeNodes} = this.props;\n    const change = Object.values(changeNodes)\n    for (let i=0; i < change.length; i++) {\n      const node = change[i];\n      if (node.balanceSats.isEqualTo(0) && !node.addressUsed) {\n        return node;\n      }\n    }\n  }\n\n  handleAddChange = () => {\n    const {outputs, setAddress, addOutput} = this.props;\n    const node = this.getChangeNode();\n    const outputIndex = outputs.length + 1\n    addOutput();\n    setAddress(outputIndex, node.multisig.address)\n  }\n\n  renderSpend = () => {\n    const { addNode, updateNode, autoSpend } = this.props;\n    return (\n      <Card>\n        <CardHeader title=\"Spend\"/>\n        <CardContent>\n          <Grid item md={12}>\n            <Grid component=\"label\" container alignItems=\"center\" spacing={1}>\n              <Grid item>Manual</Grid>\n              <Grid item>\n                <Switch\n                  checked={autoSpend}\n                  onChange={this.handleSpendMode}\n              />\n              </Grid>\n              <Grid item>Auto</Grid>\n            </Grid>\n          </Grid>\n          <NodeSet addNode={addNode} updateNode={updateNode} />\n        </CardContent>\n      </Card>)\n  }\n\n    handleSpendMode = (event) => {\n      const { updateAutoSpend } = this.props;\n      if (event.target.checked) {\n        // select inputs for transaction\n        // select change address???,\n        // how to identify???\n        // calculate change???\n\n      }\n\n      updateAutoSpend(event.target.checked)\n    }\n\n    selectCoins = () => {\n      const { outputs, setInputs, fee, depositNodes, changeNodes, feeRate,\n        updateChangeNode, updateDepositNode, resetNodesSpend, setFeeRate } = this.props;\n      const outputsAmount = outputs.reduce((sum, output) => sum.plus(output.amountSats), new BigNumber(0));\n      if (outputsAmount.isNaN()) return;\n      const feeAmount = bitcoinsToSatoshis(new BigNumber(fee));\n      if (outputsAmount.isEqualTo(this.state.outputsAmount) && feeAmount.isEqualTo(this.state.feeAmount)) return;\n      const outputTotal = outputsAmount.plus(feeAmount);\n      const spendableInputs = Object.values(depositNodes)\n        .concat(Object.values(changeNodes))\n        .filter(node => node.balanceSats.isGreaterThan(0));\n\n      let selectedUtxos = [];\n      let inputTotal = new BigNumber(0);\n      resetNodesSpend();\n      for (let i=0; i < spendableInputs.length; i++) {\n        const spendableInput = spendableInputs[i];\n        spendableInput.utxos.forEach(utxo => {\n          selectedUtxos.push({...utxo, multisig: spendableInput.multisig, bip32Path: spendableInput.bip32Path});\n        })\n        inputTotal = inputTotal.plus(spendableInput.balanceSats);\n        (spendableInput.change ? updateChangeNode : updateDepositNode)({bip32Path: spendableInput.bip32Path, spend: true})\n        if (inputTotal.isGreaterThanOrEqualTo(outputTotal)) {\n          break;\n        }\n      }\n      this.setState({ outputsAmount, feeAmount })\n      setInputs(selectedUtxos);\n      setFeeRate(feeRate); // recalulate fee\n    }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    ...state.spend.transaction,\n    changeNodes: state.wallet.change.nodes,\n    depositNodes: state.wallet.deposits.nodes,\n    autoSpend: state.wallet.info.autoSpend,\n  };\n}\n\nconst mapDispatchToProps = {\n  updateAutoSpend: updateAutoSpendAction,\n  setInputs,\n  updateChangeNode: updateChangeNodeAction,\n  updateDepositNode: updateDepositNodeAction,\n  setAddress: setOutputAddress,\n  resetNodesSpend,\n  setFeeRate,\n  addOutput,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WalletSpend);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\n// Actions\nimport { updateDepositingAction, updateSpendingAction } from \"../../actions/walletActions\";\n\n// Components\nimport NodeSet from \"./NodeSet\";\n\nclass WalletView extends React.Component {\n\n  render = () => {\n    const { addNode, updateNode } = this.props;\n\n    return (\n        <NodeSet addNode={addNode} updateNode={updateNode} canLoad={true} />\n    )\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return { ...state.wallet, };\n}\n\nconst mapDispatchToProps = {\n  setDepositing: updateDepositingAction,\n  setSpending: updateSpendingAction,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WalletView);\n","import { wrappedNumberedActions } from \"./utils\";\n\nexport const SET_EXTENDED_PUBLIC_KEY_IMPORTER_NAME        = \"SET_EXTENDED_PUBLIC_KEY_IMPORTER_NAME\";\nexport const RESET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH  = \"RESET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH\";\nexport const SET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH  = \"SET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH\";\nexport const SET_EXTENDED_PUBLIC_KEY_IMPORTER_METHOD = \"SET_EXTENDED_PUBLIC_KEY_IMPORTER_METHOD\";\nexport const SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY  = \"SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY\";\nexport const SET_EXTENDED_PUBLIC_KEY_IMPORTER_FINALIZED   = \"SET_EXTENDED_PUBLIC_KEY_IMPORTER_FINALIZED\";\nexport const SET_EXTENDED_PUBLIC_KEY_IMPORTER_VISIBLE   = \"SET_EXTENDED_PUBLIC_KEY_IMPORTER_VISIBLE\";\n\nexport const {\n  setExtendedPublicKeyImporterName,\n  setExtendedPublicKeyImporterBIP32Path,\n  resetExtendedPublicKeyImporterBIP32Path,\n  setExtendedPublicKeyImporterMethod,\n  setExtendedPublicKeyImporterExtendedPublicKey,\n  setExtendedPublicKeyImporterFinalized,\n} = wrappedNumberedActions({\n  setExtendedPublicKeyImporterName: SET_EXTENDED_PUBLIC_KEY_IMPORTER_NAME,\n  resetExtendedPublicKeyImporterBIP32Path: RESET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH,\n  setExtendedPublicKeyImporterBIP32Path: SET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH,\n  setExtendedPublicKeyImporterMethod: SET_EXTENDED_PUBLIC_KEY_IMPORTER_METHOD,\n  setExtendedPublicKeyImporterExtendedPublicKey: SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY,\n  setExtendedPublicKeyImporterFinalized: SET_EXTENDED_PUBLIC_KEY_IMPORTER_FINALIZED,\n});\n\nexport function setExtendedPublicKeyImporterVisible(value) {\n  return {\n    type: SET_EXTENDED_PUBLIC_KEY_IMPORTER_VISIBLE,\n    value: value\n  };\n}\n","import React from 'react';\nimport BigNumber from \"bignumber.js\";\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n  deriveChildPublicKey,\n  generateMultisigFromPublicKeys,\n} from 'unchained-bitcoin';\nimport {\n  fetchAddressUTXOs,\n  getAddressStatus,\n} from \"../../blockchain\";\nimport { isWalletAddressNotFoundError } from '../../bitcoind'\n// Components\nimport {\n  Button, Card, CardHeader,\n  CardContent, Box\n} from '@material-ui/core';\nimport ConfirmWallet from './ConfirmWallet';\nimport WalletControl from './WalletControl';\nimport WalletDeposit from './WalletDeposit';\nimport WalletSpend from './WalletSpend';\nimport WalletView from './WalletView';\n\n// Actions\nimport {setFrozen} from \"../../actions/settingsActions\";\nimport {\n  updateDepositNodeAction,\n  updateChangeNodeAction,\n  updateAutoSpendAction,\n} from \"../../actions/walletActions\";\nimport {setExtendedPublicKeyImporterVisible} from \"../../actions/extendedPublicKeyImporterActions\";\nimport { setIsWallet } from \"../../actions/transactionActions\";\nimport {downloadFile} from \"../../utils\"\n\nconst MAX_TRAILING_EMPTY_NODES = 20;\nconst MAX_FETCH_UTXOS_ERRORS = 5;\n\nclass WalletGenerator extends React.Component {\n\n  static propTypes = {\n    network: PropTypes.string.isRequired,\n    addressType: PropTypes.string.isRequired,\n    client: PropTypes.object.isRequired,\n    extendedPublicKeyImporters: PropTypes.shape({}).isRequired,\n    totalSigners: PropTypes.number.isRequired,\n    requiredSigners: PropTypes.number.isRequired,\n    deposits: PropTypes.object.isRequired,\n    change: PropTypes.object.isRequired,\n    freeze: PropTypes.func.isRequired,\n    updateDepositNode: PropTypes.func.isRequired,\n    updateChangeNode: PropTypes.func.isRequired,\n    setIsWallet: PropTypes.func.isRequired,\n  };\n\n  state = {\n    generating: false,\n  };\n\n  render() {\n    return (\n      <div>\n        <Card>\n          <CardHeader title={this.title()}/>\n          <CardContent>\n          {this.body()}\n          </CardContent>\n        </Card>\n        <Box mt={2}>\n          {this.renderModeComponent()}\n        </Box>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    const { setIsWallet } = this.props\n    setIsWallet();\n  }\n\n  title = () => {\n    const {totalSigners, requiredSigners} = this.props;\n    return (\n      <span className=\"justify-content-between d-flex\">\n        Your {requiredSigners}-of-{totalSigners} P2SH Multisig Wallet\n        <small className=\"text-muted\">{` Extended Public Keys: ${this.extendedPublicKeyCount()}/${totalSigners}`}</small>\n      </span>\n    );\n  }\n\n  extendedPublicKeyCount = () => {\n    const { extendedPublicKeyImporters } = this.props;\n    return Object.values(extendedPublicKeyImporters).filter(extendedPublicKeyImporter => (extendedPublicKeyImporter.finalized)).length;\n  }\n\n  renderModeComponent = () => {\n    const {depositing, spending, viewAddresses} = this.props;\n    if (depositing) return <WalletDeposit/>\n    else if (spending) return <WalletSpend addNode={this.addNode} updateNode={this.updateNode}/>\n    else if (viewAddresses) return <WalletView  addNode={this.addNode} updateNode={this.updateNode}/>\n    return \"\";\n  }\n\n  body() {\n    const {totalSigners, configuring} = this.props;\n    const {generating} = this.state;\n    if (this.extendedPublicKeyCount() === totalSigners) {\n      if (generating) {\n        return (\n          <div>\n            {<WalletControl/>}\n          </div>\n        );\n      } else {\n\n        // add download details button.\n\n        return (\n          <div>\n            <Button type=\"button\" variant=\"contained\" color=\"secondary\" onClick={this.toggleImporters}>\n              {configuring ? 'Hide Key Selection' : 'Edit Details'}\n            </Button>\n            <ConfirmWallet/>\n            <p>You have imported all {totalSigners} extended public keys.  You will need to save this information.</p>\n            <Button variant=\"contained\" color=\"primary\" onClick={this.downloadWalletDetails}>Download Wallet Details</Button>\n            <p>Please confirm that the above information is correct and you wish to generate your wallet.</p>\n            <Button id=\"confirm-wallet\" type=\"button\" variant=\"contained\" color=\"primary\" onClick={this.generate}>Confirm</Button>\n          </div>\n        );\n      }\n    }\n    return (\n      <p>\n        {`Once you have imported all ${totalSigners} extended public keys, `}\n        {'your wallet will be generated here.'}\n      </p>\n    );\n  }\n\n  downloadWalletDetails = (event) => {\n    event.preventDefault();\n    const body = this.walletDetailsText();\n    const filename = this.walletDetailsFilename();\n    downloadFile(body, filename)\n  }\n\n  walletDetailsText = () => {\n    const {addressType, network, totalSigners, requiredSigners, walletName} = this.props;\n    return `Wallet: ${walletName}\n\nType: ${addressType}\n\nNetwork: ${network}\n\nQuorum: ${requiredSigners}-of-${totalSigners}\n\nBIP32 Paths:\n${this.extendedPublicKeyImporterBIP32Paths()}\n`\n\n  }\n\n  extendedPublicKeyImporterBIP32Paths = () => {\n    const {totalSigners} = this.props;\n    let extendedPublicKeyImporterBIP32Paths = [];\n    for (let extendedPublicKeyImporterNum = 1; extendedPublicKeyImporterNum <= totalSigners; extendedPublicKeyImporterNum++) {\n      extendedPublicKeyImporterBIP32Paths.push(this.extendedPublicKeyImporterBIP32Path(extendedPublicKeyImporterNum));\n    }\n    return extendedPublicKeyImporterBIP32Paths.join(\"\\n\");\n  }\n\n  extendedPublicKeyImporterBIP32Path = (number) => {\n    const {extendedPublicKeyImporters} =  this.props;\n    const extendedPublicKeyImporter = extendedPublicKeyImporters[number];\n    const bip32Path = (extendedPublicKeyImporter.method === 'text' ? 'Unknown (make sure you have written this down previously!)' : extendedPublicKeyImporter.bip32Path);\n    return `  * ${extendedPublicKeyImporter.name}: ${bip32Path}`;\n  }\n\n  walletDetailsFilename = () => {\n    const {totalSigners, requiredSigners, addressType, walletName} = this.props;\n    return `bitcoin-${requiredSigners}-of-${totalSigners}-${addressType}-${walletName}.txt`;\n\n  }\n\n\n  toggleImporters = () => {\n    const { setImportersVisible, configuring } = this.props;\n    setImportersVisible(!configuring);\n  }\n\n  generate = () => {\n    const {freeze} = this.props;\n    freeze(true);\n    this.setState({generating: true});\n    this.addNode(false, \"m/0/0\", true);\n    this.addNode(true, \"m/1/0\", true);\n  }\n\n  updateNode = (isChange, update) => {\n    const {updateChangeNode, updateDepositNode} = this.props;\n    const updater = (isChange ? updateChangeNode : updateDepositNode);\n    updater(update);\n  }\n\n  addNode = async (isChange, bip32Path, attemptToKeepGenerating) => {\n    const multisigUpdates = await this.generateMultisig(isChange, bip32Path, attemptToKeepGenerating);\n    this.updateNode(isChange, {bip32Path, ...multisigUpdates})\n  }\n\n  generateMultisig = async (isChange, bip32Path, attemptToKeepGenerating) => {\n    const {extendedPublicKeyImporters, totalSigners, network, addressType, requiredSigners} = this.props;\n    const publicKeys = [];\n    for (let extendedPublicKeyImporterNumber=1; extendedPublicKeyImporterNumber <= totalSigners; extendedPublicKeyImporterNumber++) {\n      const extendedPublicKeyImporter = extendedPublicKeyImporters[extendedPublicKeyImporterNumber];\n      const publicKey = deriveChildPublicKey(extendedPublicKeyImporter.extendedPublicKey, bip32Path, network);\n      publicKeys.push(publicKey);\n    }\n    publicKeys.sort(); // BIP67\n\n    const multisig = generateMultisigFromPublicKeys(network, addressType, requiredSigners, ...publicKeys);\n\n    const utxoUpdates = await this.fetchUTXOs(isChange, multisig, attemptToKeepGenerating);\n    return {multisig, ...utxoUpdates};\n  }\n\n  fetchUTXOs = async (isChange, multisig, attemptToKeepGenerating) => {\n    const {network, client} = this.props;\n    let utxos, addressStatus;\n    let updates = {};\n    try {\n      utxos = await fetchAddressUTXOs(multisig.address, network, client);\n      addressStatus = await getAddressStatus(multisig.address, network, client);\n    } catch(e) {\n      console.error(e, e.response);\n      if (client.type === 'private' &&\n        isWalletAddressNotFoundError(e)) {\n          // address not found in wallet, just mark as unused/used/other?\n          addressStatus = {used: false}\n          updates = {\n            utxos: [],\n            balanceSats: BigNumber(0),\n            addressKnown: false,\n            fetchedUTXOs: true,\n            fetchUTXOsError: ''}\n      } else {\n        updates =  {fetchUTXOsError: e.toString()}\n      }\n    }\n    if (utxos) {\n      const balanceSats = utxos\n            .map((utxo) => utxo.amountSats)\n            .reduce(\n              (accumulator, currentValue) => accumulator.plus(currentValue),\n              new BigNumber(0));\n      updates = {...updates, balanceSats, utxos, fetchedUTXOs: true, fetchUTXOsError: ''}\n    }\n    if (addressStatus) {\n      updates = {...updates, addressUsed: addressStatus.used};\n    }\n\n    if (attemptToKeepGenerating) {\n      setTimeout(() => this.generateNextNodeIfNecessary(isChange));\n    }\n    return updates;\n  }\n\n  generateNextNodeIfNecessary = (isChange) => {\n    const {change, deposits} = this.props;\n    const trailingEmptyNodes = (isChange ? change : deposits).trailingEmptyNodes;\n    const fetchUTXOsErrors = (isChange ? change : deposits).fetchUTXOsErrors;\n    const allBIP32Paths = Object.keys((isChange ? change : deposits).nodes);\n    if ((trailingEmptyNodes >= MAX_TRAILING_EMPTY_NODES) || (fetchUTXOsErrors >= MAX_FETCH_UTXOS_ERRORS)) {\n      return;\n    }\n\n    allBIP32Paths.sort((p1, p2) => {\n      const p1Segments = (p1 || '').split('/');\n      const p2Segments = (p2 || '').split('/');\n      const p1Index = parseInt(p1Segments[2]);\n      const p2Index = parseInt(p2Segments[2]);\n      return p1Index - p2Index;\n    });\n    const pathSegments = (allBIP32Paths[allBIP32Paths.length-1] || '').split('/'); // m, 0, 1\n    const maxIndex = parseInt(pathSegments[2]);\n    const nextBIP32Path = `m/${pathSegments[1]}/${maxIndex + 1}`;\n    // Similar to above, we wrap the call to add the next node with\n    // setTimeout with a timeout of zero to allow React time to\n    // render.\n    setTimeout(() => this.addNode(isChange, nextBIP32Path, true));\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    ...state.settings,\n    ...{client: state.client},\n    ...state.quorum,\n    ...state.wallet,\n    ...state.wallet.info,\n  };\n}\n\nconst mapDispatchToProps = {\n  freeze: setFrozen,\n  updateDepositNode: updateDepositNodeAction,\n  updateChangeNode: updateChangeNodeAction,\n  updateAutoSpned: updateAutoSpendAction,\n  setImportersVisible: setExtendedPublicKeyImporterVisible,\n  setIsWallet,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WalletGenerator);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  validateExtendedPublicKey,\n  deriveChildExtendedPublicKey,\n} from \"unchained-bitcoin\";\n\n// Components\nimport {  Button, TextField, FormHelperText, Box, Grid } from '@material-ui/core';\n\nconst DEFAULT_BIP32_PATH = \"m/0\";\n\nclass ExtendedPublicKeyExtendedPublicKeyImporter extends React.Component {\n\n  static propTypes =  {\n    network: PropTypes.string.isRequired,\n    extendedPublicKeyImporter: PropTypes.shape({}).isRequired,\n    extendedPublicKeyImporters: PropTypes.shape({}).isRequired,\n    validateAndSetExtendedPublicKey: PropTypes.func.isRequired,\n    validateAndSetBIP32Path: PropTypes.func.isRequired,\n  };\n\n  componentDidMount = () => {\n    this.setBIP32PathToDefault();\n  }\n  state = {\n    error: '',\n    extendedPublicKey: '',\n    extendedPublicKeyError: '',\n    bip32PathError: '',\n  };\n\n  render = () => {\n    const {extendedPublicKeyImporter} = this.props;\n    const {error, extendedPublicKey, extendedPublicKeyError, bip32PathError} = this.state;\n    return (\n      <div>\n        <Box mt={2}>\n          <TextField\n            fullWidth\n            name=\"extendedPublicKey\"\n            label=\"Extended Public Key\"\n            value={extendedPublicKey}\n            onChange={this.handleExtendedPublicKeyChange}\n            error={this.hasExtendedPublicKeyError()}\n            helperText={extendedPublicKeyError}\n          />\n        </Box>\n\n          <Box mt={2}>\n            <Grid container>\n              <Grid item md={10}>\n                  <TextField\n                    fullWidth\n                    name=\"bip32Path\"\n                    label=\"BIP32 Path (relative to xpub)\"\n                    type=\"text\"\n                    value={extendedPublicKeyImporter.bip32Path}\n                    onChange={this.handleBIP32PathChange}\n                    error={this.hasBIP32PathError()}\n                    helperText={bip32PathError}\n                  />\n              <FormHelperText>Use the default value if you don&rsquo;t understand BIP32 paths.</FormHelperText>\n            </Grid>\n            <Grid item md={2}>\n              {! this.bip32PathIsDefault() && <Button type=\"button\" variant=\"contained\" size=\"small\"  onClick={this.resetBIP32Path}>Default</Button>}\n            </Grid>\n          </Grid>\n          <Box mt={2}>\n            <Button type=\"button\" variant=\"contained\" color=\"primary\" size=\"large\" onClick={this.import} disabled={extendedPublicKey === '' || this.hasError()}>Import Extended Public Key</Button>\n          </Box>\n        </Box>\n        <FormHelperText className=\"text-danger\">{error}</FormHelperText>\n    </div>\n    );\n  }\n\n  import = () => {\n    const {network, extendedPublicKeyImporter, validateAndSetExtendedPublicKey } = this.props;\n    const {extendedPublicKey} = this.state;\n    const childExtendedPublicKey = deriveChildExtendedPublicKey(extendedPublicKey, extendedPublicKeyImporter.bip32Path, network);\n    validateAndSetExtendedPublicKey(childExtendedPublicKey, (error) => { this.setState({error}); });\n  }\n\n  setBIP32PathToDefault = () => {\n    const {validateAndSetBIP32Path} = this.props;\n    validateAndSetBIP32Path(DEFAULT_BIP32_PATH, () => {}, () => {});\n  }\n\n  hasBIP32PathError = () => {\n    return this.state.bip32PathError !== '';\n  }\n\n  hasExtendedPublicKeyError = () => {\n    return this.state.extendedPublicKeyError !== '';\n  }\n\n  hasError = () => (this.hasBIP32PathError() || this.hasExtendedPublicKeyError());\n\n  setBIP32PathError = (value) => {\n    this.setState({bip32PathError: value});\n  }\n\n  handleBIP32PathChange = (event) => {\n    const { validateAndSetBIP32Path } = this.props;\n    const bip32Path = event.target.value;\n    validateAndSetBIP32Path(bip32Path, () => {}, this.setBIP32PathError, {mode: \"unhardened\"});\n  };\n\n  bip32PathIsDefault = () => {\n    const {extendedPublicKeyImporter} = this.props;\n    return extendedPublicKeyImporter.bip32Path === DEFAULT_BIP32_PATH;\n  }\n\n  resetBIP32Path = () => {\n    this.setBIP32PathToDefault();\n    this.setBIP32PathError('');\n  }\n\n  handleExtendedPublicKeyChange = (event) => {\n    const {network, extendedPublicKeyImporters} = this.props;\n    const extendedPublicKey = event.target.value;\n    let extendedPublicKeyError = validateExtendedPublicKey(extendedPublicKey, network);\n    if (extendedPublicKeyError === '') {\n      if (Object.values(extendedPublicKeyImporters).find((extendedPublicKeyImporter) => (extendedPublicKeyImporter.extendedPublicKey === extendedPublicKey))) {\n        extendedPublicKeyError = \"This extended public key has already been imported.\";\n      }\n    }\n    this.setState({extendedPublicKey, extendedPublicKeyError});\n  };\n\n}\n\nexport default ExtendedPublicKeyExtendedPublicKeyImporter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n// Components\nimport { TextField, Box } from '@material-ui/core';\n\n\nclass TextExtendedPublicKeyImporter extends React.Component {\n\n  static propTypes =  {\n    extendedPublicKeyImporter: PropTypes.shape({}).isRequired,\n    validateAndSetExtendedPublicKey: PropTypes.func.isRequired,\n  };\n\n  state = {\n    error: '',\n  };\n\n  render = () => {\n    const { extendedPublicKeyImporter } = this.props;\n    const { error } = this.state;\n    return (\n      <Box mt={2}>\n        <TextField\n          fullWidth\n          name=\"publicKey\"\n          label=\"Extended Public Key\"\n            value={extendedPublicKeyImporter.extendedPublicKey}\n            onChange={this.handleChange}\n            error={this.hasError()}\n            helperText={error}\n        />\n      </Box>\n    );\n  }\n\n  hasError = () => {\n    return this.state.error !== '';\n  }\n\n  setError = (value) => {\n    this.setState({error: value});\n  }\n\n  handleChange = (event) => {\n    const {validateAndSetExtendedPublicKey} = this.props;\n    validateAndSetExtendedPublicKey(event.target.value, this.setError);\n  }\n\n}\n\nexport default TextExtendedPublicKeyImporter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  PENDING,\n  HermitExportExtendedPublicKey,\n} from \"unchained-wallets\";\n\n// Components\nimport { FormGroup, FormHelperText} from '@material-ui/core';\n\nimport HermitReader from \"../Hermit/HermitReader\";\n\nclass HermitExtendedPublicKeyImporter extends React.Component {\n\n  static propTypes =  {\n    extendedPublicKeyImporter: PropTypes.shape({}).isRequired,\n    validateAndSetExtendedPublicKey: PropTypes.func.isRequired,\n    validateAndSetBIP32Path: PropTypes.func.isRequired,\n    reset: PropTypes.func.isRequired,\n    resetBIP32Path: PropTypes.func.isRequired,\n    enableChangeMethod: PropTypes.func.isRequired,\n    disableChangeMethod: PropTypes.func.isRequired,\n  };\n\n  state = {\n    extendedPublicKeyError: '',\n    walletState: PENDING,\n  };\n\n  componentDidMount = () => {\n    const {resetBIP32Path} = this.props;\n    resetBIP32Path();\n  }\n\n  interaction = () => {\n    const {network, extendedPublicKeyImporter} = this.props;\n    return new HermitExportExtendedPublicKey({network, bip32Path: extendedPublicKeyImporter.bip32Path});\n  }\n\n  render  = () => {\n    const {disableChangeMethod} = this.props;\n    const {extendedPublicKeyError} = this.state;\n    return (\n      <FormGroup>\n        <HermitReader\n          startText=\"Import Extended Public Key\"\n          interaction={this.interaction()}\n          onStart={disableChangeMethod}\n          onSuccess={this.import}\n          onClear={this.onClear} />\n        <FormHelperText className=\"text-danger\">{extendedPublicKeyError}</FormHelperText>\n      </FormGroup>\n    );\n  }\n\n  setError = (value) => {\n    this.setState({error: value});\n  }\n\n  import = (data) => {\n    const { validateAndSetBIP32Path, validateAndSetExtendedPublicKey, enableChangeMethod } = this.props;\n    enableChangeMethod();\n    const {xpub, bip32_path} = data;\n    validateAndSetBIP32Path(\n      bip32_path,\n      () => {\n        validateAndSetExtendedPublicKey(xpub, this.setError);\n      },\n      this.setError\n    );\n  }\n\n  onClear = () => {\n    const { reset, enableChangeMethod } = this.props;\n    reset(true);\t\t// clear BIP32 path\n    this.setError('');\n    enableChangeMethod();\n  }\n\n}\n\nexport default HermitExtendedPublicKeyImporter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  UNSUPPORTED, PENDING, ACTIVE, ERROR,\n  HardwareWalletExportExtendedPublicKey,\n} from \"unchained-wallets\";\n\n// Components\nimport {\n  Button, TextField, FormHelperText,\n  Box, Grid\n} from '@material-ui/core';\nimport WalletFeedback from '../WalletFeedback';\n\nclass HardwareWalletExtendedPublicKeyImporter extends React.Component {\n\n  static propTypes =  {\n    network: PropTypes.string.isRequired,\n    addressType: PropTypes.string.isRequired,\n    extendedPublicKeyImporter: PropTypes.shape({}).isRequired,\n    validateAndSetExtendedPublicKey: PropTypes.func.isRequired,\n    validateAndSetBIP32Path: PropTypes.func.isRequired,\n    defaultBIP32Path: PropTypes.string.isRequired,\n    resetBIP32Path: PropTypes.func.isRequired,\n    enableChangeMethod: PropTypes.func.isRequired,\n    disableChangeMethod: PropTypes.func.isRequired,\n  };\n\n  componentDidMount = () => {\n    this.resetBIP32Path();\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      extendedPublicKeyError: '',\n      bip32PathError: '',\n      walletState: (this.interaction().isSupported() ? PENDING : UNSUPPORTED),\n    };\n  }\n\n  interaction = () => {\n    const {network, extendedPublicKeyImporter} = this.props;\n    return HardwareWalletExportExtendedPublicKey({network, walletType: extendedPublicKeyImporter.method, bip32Path: extendedPublicKeyImporter.bip32Path});\n  }\n\n  render = () => {\n    const {extendedPublicKeyImporter} = this.props;\n    const {walletState, extendedPublicKeyError} = this.state;\n    const interaction = this.interaction();\n    if (walletState === UNSUPPORTED) {\n      return <FormHelperText className=\"text-danger\">{interaction.messageTextFor({walletState})}</FormHelperText>;\n    }\n    return (\n      <Box mt={2}>\n       <Grid container>\n        <Grid item md={6}>\n            <TextField\n              fullWidth\n              label=\"BIP32 Path\"\n              value={extendedPublicKeyImporter.bip32Path}\n              onChange={this.handleBIP32PathChange}\n              disabled={walletState !== PENDING}\n              error={this.hasBIP32PathError()}\n              helperText={this.bip32PathError()}\n            />\n        </Grid>\n        <Grid item md={6}>\n          {!this.bip32PathIsDefault() && <Button type=\"button\" variant=\"contained\" size=\"small\" onClick={this.resetBIP32Path}  disabled={walletState !== PENDING}>Default</Button>}\n        </Grid>\n       </Grid>\n        <FormHelperText>Use the default value if you don&rsquo;t understand BIP32 paths.</FormHelperText>\n        <Box mt={2}>\n          <Button\n            type=\"button\"\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            onClick={this.import}\n            disabled={this.hasBIP32PathError() || walletState === ACTIVE}>Import Extended Public Key</Button>\n        </Box>\n        <WalletFeedback messages={interaction.messagesFor({walletState})} excludeCodes={[\"bip32\"]}/>\n        <FormHelperText className=\"text-danger\">{extendedPublicKeyError}</FormHelperText>\n      </Box>\n    );\n  }\n\n  import = async () => {\n    const {validateAndSetExtendedPublicKey, enableChangeMethod, disableChangeMethod} = this.props;\n    disableChangeMethod();\n    this.setState({extendedPublicKeyError: '', walletState: ACTIVE});\n    try {\n      const extendedPublicKey = await this.interaction().run();\n      validateAndSetExtendedPublicKey(extendedPublicKey, (error) => {this.setState({extendedPublicKeyError: error, walletState: PENDING});});\n    } catch(e) {\n      console.error(e);\n      this.setState({extendedPublicKeyError: e.message, walletState: PENDING});\n    }\n\n    enableChangeMethod();\n  }\n\n\n  hasBIP32PathError = () => {\n    const {bip32PathError, walletState} = this.state;\n    return (bip32PathError !== '' || this.interaction().hasMessagesFor({walletState, level: ERROR, code: \"bip32\"}));\n  }\n\n  bip32PathError = () => {\n    const {bip32PathError, walletState} = this.state;\n    if (bip32PathError !== '') { return bip32PathError; }\n    return this.interaction().messageTextFor({walletState, level: ERROR, code: \"bip32\"});\n  }\n\n  setBIP32PathError = (value) => {\n    this.setState({bip32PathError: value});\n  }\n\n  handleBIP32PathChange = (event) => {\n    const { validateAndSetBIP32Path } = this.props;\n    const bip32Path = event.target.value;\n    validateAndSetBIP32Path(bip32Path, () => {}, this.setBIP32PathError);\n  };\n\n  bip32PathIsDefault = () => {\n    const {extendedPublicKeyImporter, defaultBIP32Path} = this.props;\n    return extendedPublicKeyImporter.bip32Path === defaultBIP32Path;\n  }\n\n  resetBIP32Path = () => {\n    const {resetBIP32Path} = this.props;\n    this.setBIP32PathError('');\n    resetBIP32Path();\n  }\n\n}\n\nexport default HardwareWalletExtendedPublicKeyImporter;\n","import React from 'react';\n// Components\nimport {\n    List, ListItem, ListItemIcon, ListItemText, Typography\n  } from '@material-ui/core';\nimport {Warning} from '@material-ui/icons';\n\nconst Conflict = (props) => {\n    return (\n        <small>\n          <List>\n            <ListItem color=\"error.main\">\n            <ListItemIcon>\n            <Typography color=\"error\"><Warning/></Typography>\n            </ListItemIcon>\n            <ListItemText>\n              <Typography color=\"error\">\n                {props.message}\n              </Typography>\n            </ListItemText>\n          </ListItem>\n        </List>\n      </small>\n    );\n  }\n\n  export default Conflict;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n  validateBIP32Path,\n  validateExtendedPublicKey,\n} from 'unchained-bitcoin';\nimport {\n  TREZOR,\n  LEDGER,\n  HERMIT,\n} from \"unchained-wallets\";\n\n// Components\nimport {\n  Card, CardHeader, CardContent,\n  FormControl, Select, MenuItem,\n  InputLabel, Button,\n} from '@material-ui/core';\nimport Copyable from \"../Copyable\";\nimport ExtendedPublicKeyExtendedPublicKeyImporter from \"./ExtendedPublicKeyExtendedPublicKeyImporter\";\nimport TextExtendedPublicKeyImporter from \"./TextExtendedPublicKeyImporter\";\nimport HermitExtendedPublicKeyImporter from \"./HermitExtendedPublicKeyImporter\";\nimport HardwareWalletExtendedPublicKeyImporter from \"./HardwareWalletExtendedPublicKeyImporter\";\nimport EditableName from \"../EditableName\";\nimport Conflict from \"../CreateAddress/Conflict\";\n\n// Actions\nimport {\n  setExtendedPublicKeyImporterName,\n  resetExtendedPublicKeyImporterBIP32Path,\n  setExtendedPublicKeyImporterBIP32Path,\n  setExtendedPublicKeyImporterMethod,\n  setExtendedPublicKeyImporterExtendedPublicKey,\n  setExtendedPublicKeyImporterFinalized,\n} from '../../actions/extendedPublicKeyImporterActions';\n\nconst XPUB = \"xpub\";\nconst TEXT = \"text\";\n\nclass ExtendedPublicKeyImporter extends React.Component {\n\n  static propTypes =  {\n    network: PropTypes.string.isRequired,\n    number: PropTypes.number.isRequired,\n    extendedPublicKeyImporter: PropTypes.shape({}).isRequired,\n    extendedPublicKeyImporters: PropTypes.shape({}).isRequired,\n    defaultBIP32Path: PropTypes.string.isRequired,\n    addressType: PropTypes.string.isRequired,\n    setName: PropTypes.func.isRequired,\n    setBIP32Path: PropTypes.func.isRequired,\n    resetBIP32Path: PropTypes.func.isRequired,\n    setMethod: PropTypes.func.isRequired,\n    setExtendedPublicKey: PropTypes.func.isRequired,\n    setFinalized: PropTypes.func.isRequired,\n  };\n\n  state = {\n    disableChangeMethod: false,\n\n  };\n\n  render() {\n    const { extendedPublicKeyImporter, finalizedNetwork, network } = this.props;\n    const hasConflict = extendedPublicKeyImporter.method && extendedPublicKeyImporter.method !== TEXT && extendedPublicKeyImporter.conflict\n    let conflictMessage = \"\";\n    if (hasConflict) {\n      if (finalizedNetwork !== network) {\n        conflictMessage = \"Warning, you can not mix xpub and tpub.  Do not proceed without resolving by either removing conflicting imported keys or returning network type to original state!\"\n      } else {\n        conflictMessage = \"Warning, BIP32 path is in conflict with the network and address type settings.  Do not proceed unless you are absolutely sure you know what you are doing!\"\n      }\n    }\n    return (\n      <Card>\n        <CardHeader title={this.title()}/>\n        <CardContent>\n          {hasConflict &&\n            <Conflict message={conflictMessage} />}\n          {extendedPublicKeyImporter.finalized ? this.renderExtendedPublicKey() : this.renderImport()}\n        </CardContent>\n      </Card>\n    );\n  }\n\n  title = () => {\n    const {number, extendedPublicKeyImporter, setName} = this.props;\n    return <EditableName number={number} name={extendedPublicKeyImporter.name} setName={setName} />;\n  }\n\n  renderImport = () => {\n    const { extendedPublicKeyImporter, number } = this.props;\n    const { disableChangeMethod } = this.state;\n    const labelId = `xpub-${number}-importer-select-label`;\n    return (\n      <div>\n        <FormControl fullWidth>\n          <InputLabel id={labelId}>Select Method</InputLabel>\n\n          <Select\n            labelId={labelId}\n            id={`public-key-${number}-importer-select`}\n            disabled={disableChangeMethod}\n            value={extendedPublicKeyImporter.method}\n            onChange={this.handleMethodChange}\n          >\n            <MenuItem value=\"\">{'< Select method >'}</MenuItem>\n            <MenuItem value={TREZOR}>Trezor</MenuItem>\n            <MenuItem value={LEDGER}>Ledger</MenuItem>\n            <MenuItem value={HERMIT}>Hermit</MenuItem>\n            <MenuItem value={XPUB}>Derive from extended public key</MenuItem>\n            <MenuItem value={TEXT}>Enter as text</MenuItem>\n          </Select>\n\n        </FormControl>\n\n        {this.renderImportByMethod()}\n\n      </div>\n    );\n  }\n\n  renderImportByMethod = () => {\n    const {extendedPublicKeyImporters, extendedPublicKeyImporter, network, addressType, defaultBIP32Path} = this.props;\n    if (extendedPublicKeyImporter.method === TREZOR || extendedPublicKeyImporter.method === LEDGER) {\n      return <HardwareWalletExtendedPublicKeyImporter\n               extendedPublicKeyImporter={extendedPublicKeyImporter}\n               validateAndSetExtendedPublicKey={this.validateAndSetExtendedPublicKey}\n               validateAndSetBIP32Path={this.validateAndSetBIP32Path}\n               resetBIP32Path={this.resetBIP32Path}\n               enableChangeMethod={this.enableChangeMethod}\n               disableChangeMethod={this.disableChangeMethod}\n               addressType={addressType}\n               defaultBIP32Path={defaultBIP32Path}\n               network={network} />;\n    }\n    if (extendedPublicKeyImporter.method === HERMIT) {\n      return <HermitExtendedPublicKeyImporter\n               extendedPublicKeyImporter={extendedPublicKeyImporter}\n               validateAndSetExtendedPublicKey={this.validateAndSetExtendedPublicKey}\n               validateAndSetBIP32Path={this.validateAndSetBIP32Path}\n               enableChangeMethod={this.enableChangeMethod}\n               disableChangeMethod={this.disableChangeMethod}\n               resetBIP32Path={this.resetBIP32Path}\n               reset={this.reset} />;\n    }\n    if (extendedPublicKeyImporter.method === XPUB) {\n      return <ExtendedPublicKeyExtendedPublicKeyImporter\n               extendedPublicKeyImporter={extendedPublicKeyImporter}\n               extendedPublicKeyImporters={extendedPublicKeyImporters}\n               validateAndSetExtendedPublicKey={this.validateAndSetExtendedPublicKey}\n               network={network}\n               validateAndSetBIP32Path={this.validateAndSetBIP32Path} />;\n    }\n    if (extendedPublicKeyImporter.method === TEXT) {\n      return <TextExtendedPublicKeyImporter\n               extendedPublicKeyImporter={extendedPublicKeyImporter}\n               validateAndSetExtendedPublicKey={this.validateAndSetExtendedPublicKey} />;\n    }\n    return null;\n  }\n\n  //\n  // Method\n  //\n\n  handleMethodChange = (event) => {\n    const { number, setMethod, setExtendedPublicKey } = this.props;\n    setMethod(number, event.target.value);\n    setExtendedPublicKey(number, '');\n  }\n\n  disableChangeMethod = () => {\n    this.setState({disableChangeMethod: true});\n  }\n\n  enableChangeMethod = () => {\n    this.setState({disableChangeMethod: false});\n  }\n\n  //\n  // State\n  //\n\n  finalize = () => {\n    const { number, setFinalized } = this.props;\n    setFinalized(number, true);\n  }\n\n  reset = (resetBIP32Path) => {\n    const { number, setExtendedPublicKey, setFinalized } = this.props;\n    setExtendedPublicKey(number, '');\n    setFinalized(number, false);\n    if (resetBIP32Path) {this.resetBIP32Path();}\n  }\n\n  //\n  // Position\n  //\n\n  moveUp = (event) => {\n    const {moveUp, number} = this.props;\n    event.preventDefault();\n    moveUp(number);\n  }\n\n  moveDown = (event) => {\n    const {moveDown, number} = this.props;\n    event.preventDefault();\n    moveDown(number);\n  }\n\n  //\n  // BIP32 Path\n  //\n\n  renderBIP32Path = () => {\n    const { extendedPublicKeyImporter } = this.props;\n    if (extendedPublicKeyImporter.method === TEXT) {\n      return (\n        <div className=\"mt-4\">\n          <p>Make sure you <strong>record the corresponding BIP32 path.</strong></p>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"mt-4\">\n          <p>The BIP32 path for this extended public key is:</p>\n          <div className=\"text-center\">\n            <Copyable text={extendedPublicKeyImporter.bip32Path}>\n              <code>{extendedPublicKeyImporter.bip32Path}</code>\n            </Copyable>\n          </div>\n          <p className=\"mt-4\">You will need this BIP32 path to sign for this key later.  <strong>Write down this BIP32 path!</strong></p>\n        </div>\n      );\n    }\n  }\n\n  validateAndSetBIP32Path = (bip32Path, callback, errback, options) => {\n    const {number, setBIP32Path} = this.props;\n    const error = validateBIP32Path(bip32Path, options);\n    setBIP32Path(number, bip32Path);\n    if (error) {\n      errback(error);\n    } else {\n      errback('');\n      callback();\n    }\n  }\n\n  resetBIP32Path = () => {\n    const {number, resetBIP32Path} = this.props;\n    resetBIP32Path(number);\n  }\n\n  //\n  // Extended Public Key\n  //\n\n\n  renderExtendedPublicKey = () => {\n    const { extendedPublicKeyImporter } = this.props;\n    return (\n      <div>\n        <p>The following extended public key was imported:</p>\n        <div className=\"text-center\">\n          <Copyable text={extendedPublicKeyImporter.extendedPublicKey}>\n            <small><code>{extendedPublicKeyImporter.extendedPublicKey}</code></small>\n          </Copyable>\n        </div>\n        {this.renderBIP32Path()}\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          size=\"small\"\n          onClick={() => {this.reset(extendedPublicKeyImporter.method === HERMIT);}}\n        >\n          Remove Extended Public Key\n        </Button>\n      </div>\n    );\n  }\n\n  validateAndSetExtendedPublicKey = (extendedPublicKey, errback, callback) => {\n    const {number, network, extendedPublicKeyImporters, setExtendedPublicKey} = this.props;\n    const error = validateExtendedPublicKey(extendedPublicKey, network);\n    setExtendedPublicKey(number, extendedPublicKey);\n    if (error) {\n      errback(error);\n    } else {\n      if (extendedPublicKey && Object.values(extendedPublicKeyImporters).find((extendedPublicKeyImporter, extendedPublicKeyImporterIndex) => (\n        extendedPublicKeyImporterIndex !== (number - 1) && extendedPublicKeyImporter.extendedPublicKey === extendedPublicKey\n      ))) {\n        errback('This extended public key has already been imported.');\n      } else {\n        errback('');\n        this.finalize();\n        callback && callback();\n      }\n    }\n  }\n\n}\n\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    ...state.settings,\n    ...state.quorum,\n    ...{ extendedPublicKeyImporter: state.quorum.extendedPublicKeyImporters[ownProps.number] },\n  };\n}\n\nconst mapDispatchToProps = {\n  setName: setExtendedPublicKeyImporterName,\n  resetBIP32Path: resetExtendedPublicKeyImporterBIP32Path,\n  setBIP32Path: setExtendedPublicKeyImporterBIP32Path,\n  setMethod: setExtendedPublicKeyImporterMethod,\n  setExtendedPublicKey: setExtendedPublicKeyImporterExtendedPublicKey,\n  setFinalized: setExtendedPublicKeyImporterFinalized,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps,)(ExtendedPublicKeyImporter);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from \"react-redux\";\n\n// Components\nimport { Grid, Box, Drawer, IconButton } from '@material-ui/core';\nimport { Settings } from '@material-ui/icons';\n\nimport NetworkPicker from '../NetworkPicker';\nimport QuorumPicker from '../QuorumPicker';\nimport AddressTypePicker from '../AddressTypePicker';\nimport ClientPicker from '../ClientPicker';\nimport WalletGenerator from './WalletGenerator';\nimport ExtendedPublicKeyImporter from './ExtendedPublicKeyImporter';\nimport EditableName from \"../EditableName\";\n\nimport { updateWalletNameAction } from '../../actions/walletActions';\n\nconst bip32 = require('bip32');\n\nclass CreateWallet extends React.Component {\n\n  static propTypes = {\n    totalSigners: PropTypes.number.isRequired,\n  };\n\n  static defaultProps = {\n    bip32,\n  }\n\n  state = {\n    showSettings: false,\n  }\n\n  render = () => {\n    const {configuring, walletName, setName, deposits} = this.props;\n    return (\n      <div>\n        <h1>\n        {!Object.values(deposits.nodes).length && <EditableName number={0} name={walletName} setName={setName} />}\n        {Object.values(deposits.nodes).length > 0 && <span>{walletName}</span>}\n        </h1>\n\n        <Box mt={2}>\n        <Grid container spacing={3}>\n          <Grid item md={configuring ? 8 : 12}>\n\n            {this.renderExtendedPublicKeyImporters()}\n\n            <Box mt={2}><WalletGenerator /></Box>\n\n          </Grid>\n          {this.renderSettings()}\n        </Grid>\n      </Box>\n      </div>\n    );\n  }\n\n  renderSettings = () => {\n    const {configuring} = this.props;\n    if (configuring)\n      return (\n        <Grid item md={4}>\n          <Box><QuorumPicker /></Box>\n          <Box mt={2}><AddressTypePicker /></Box>\n          <Box mt={2}><NetworkPicker /></Box>\n          <Box mt={2}><ClientPicker /></Box>\n        </Grid>\n      )\n    else return (\n      <div>\n      <Box position=\"fixed\" right={10}>\n        <IconButton onClick={this.toggleDrawer}>\n          <Settings/>\n        </IconButton>\n      </Box>\n      <Drawer md={4} anchor=\"right\" open={this.state.showSettings} onClose={this.toggleDrawer}>\n        <Box  width={400}>\n\n          <Box mt={2}><ClientPicker /></Box>\n        </Box>\n      </Drawer>\n\n      </div>\n      )\n  }\n\n  toggleDrawer = () => {\n    this.setState({showSettings: !this.state.showSettings})\n  }\n\n  renderExtendedPublicKeyImporters = () => {\n    const {totalSigners, configuring} = this.props;\n    const extendedPublicKeyImporters = [];\n    for (let extendedPublicKeyImporterNum = 1; extendedPublicKeyImporterNum  <= totalSigners; extendedPublicKeyImporterNum++) {\n      extendedPublicKeyImporters.push(\n        <Box key={extendedPublicKeyImporterNum} mt={extendedPublicKeyImporterNum===1 ? 0 : 2} display={configuring ? 'block' : 'none'}>\n          <ExtendedPublicKeyImporter key={extendedPublicKeyImporterNum} number={extendedPublicKeyImporterNum} />\n        </Box>\n      );\n    }\n    return extendedPublicKeyImporters;\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    ...{totalSigners: state.settings.totalSigners},\n    ...state.quorum,\n    ...{walletName: state.wallet.info.walletName},\n    ...state.wallet,\n  };\n}\n\nconst mapDispatchToProps = {\n  setName: updateWalletNameAction\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateWallet);\n","import { wrappedNumberedActions } from \"./utils\";\n\nexport const SET_PUBLIC_KEY_IMPORTER_NAME        = \"SET_PUBLIC_KEY_IMPORTER_NAME\";\nexport const RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH  = \"RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH\";\nexport const SET_PUBLIC_KEY_IMPORTER_BIP32_PATH  = \"SET_PUBLIC_KEY_IMPORTER_BIP32_PATH\";\nexport const SET_PUBLIC_KEY_IMPORTER_METHOD = \"SET_PUBLIC_KEY_IMPORTER_METHOD\";\nexport const SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY  = \"SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY\";\nexport const SET_PUBLIC_KEY_IMPORTER_FINALIZED   = \"SET_PUBLIC_KEY_IMPORTER_FINALIZED\";\nexport const MOVE_PUBLIC_KEY_IMPORTER_UP         = \"MOVE_PUBLIC_KEY_IMPORTER_UP\";\nexport const MOVE_PUBLIC_KEY_IMPORTER_DOWN       = \"MOVE_PUBLIC_KEY_IMPORTER_DOWN\";\nexport const SORT_PUBLIC_KEY_IMPORTERS           = \"SORT_PUBLIC_KEY_IMPORTERS\";\nexport const UPDATE_MULTISIG_ADDRESS             = \"UPDATE_MULTISIG_ADDRESS\";\n\nexport function sortPublicKeyImporters() {\n  return {\n    type: SORT_PUBLIC_KEY_IMPORTERS,\n  };\n}\n\nexport function setMultisigAddress(address) {\n  return {\n    type: UPDATE_MULTISIG_ADDRESS,\n    value: address,\n  };\n}\n\n\nexport const {\n  setPublicKeyImporterName,\n  setPublicKeyImporterBIP32Path,\n  resetPublicKeyImporterBIP32Path,\n  setPublicKeyImporterMethod,\n  setPublicKeyImporterPublicKey,\n  setPublicKeyImporterFinalized,\n  movePublicKeyImporterUp,\n  movePublicKeyImporterDown,\n} = wrappedNumberedActions({\n  setPublicKeyImporterName: SET_PUBLIC_KEY_IMPORTER_NAME,\n  resetPublicKeyImporterBIP32Path: RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH,\n  setPublicKeyImporterBIP32Path: SET_PUBLIC_KEY_IMPORTER_BIP32_PATH,\n  setPublicKeyImporterMethod: SET_PUBLIC_KEY_IMPORTER_METHOD,\n  setPublicKeyImporterPublicKey: SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY,\n  setPublicKeyImporterFinalized: SET_PUBLIC_KEY_IMPORTER_FINALIZED,\n  movePublicKeyImporterUp: MOVE_PUBLIC_KEY_IMPORTER_UP,\n  movePublicKeyImporterDown: MOVE_PUBLIC_KEY_IMPORTER_DOWN,\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n  generateMultisigFromPublicKeys,\n  scriptToHex,\n  multisigRedeemScript,\n  multisigWitnessScript,\n} from 'unchained-bitcoin';\nimport {externalLink} from \"../../utils\";\n\n// Actions\nimport {sortPublicKeyImporters, setMultisigAddress} from \"../../actions/publicKeyImporterActions\";\n\n// Components\nimport {\n  Box, Grid, Button, Card, CardHeader,\n  CardContent, FormHelperText,\n} from '@material-ui/core';\nimport MultisigDetails from \"../MultisigDetails\";\nimport Conflict from './Conflict';\nimport {downloadFile} from \"../../utils\";\n\nclass AddressGenerator extends React.Component {\n\n  static propTypes = {\n    network: PropTypes.string.isRequired,\n    totalSigners: PropTypes.number.isRequired,\n    requiredSigners: PropTypes.number.isRequired,\n    addressType: PropTypes.string.isRequired,\n    publicKeyImporters: PropTypes.shape({}).isRequired,\n    fingerprint: PropTypes.string.isRequired,\n    sortPublicKeyImporters: PropTypes.func.isRequired,\n  };\n\n  render() {\n    return (\n      <Card>\n        <CardHeader title={this.title()}/>\n          <CardContent>\n            {this.body()}\n          </CardContent>\n      </Card>\n    );\n  }\n\n  body() {\n    const {totalSigners} = this.props;\n    if (this.publicKeyCount() === totalSigners) {\n      const multisig = this.generateMultisig();\n\n      const canonicallySorted = this.publicKeysAreCanonicallySorted();\n      return (\n        <div>\n          {this.isInConflict() && <Conflict/>}\n          {!canonicallySorted &&\n           <Grid container justify=\"space-between\">\n             <Grid item md={8}>\n               <FormHelperText error={true}>WARNING: These public keys are not in the standard {externalLink('https://github.com/bitcoin/bips/blob/master/bip-0067.mediawiki', 'BIP67 order')}.</FormHelperText>\n             </Grid>\n             <Grid item md={4}>\n               <Button variant=\"contained\" color=\"primary\" onClick={this.canonicallySortPublicKeys}>Sort Public Keys</Button>\n             </Grid>\n           </Grid>\n          }\n\n          <Box mt={2}>\n            <MultisigDetails multisig={multisig} />\n          </Box>\n\n          <Box mt={2}>\n            <Button variant=\"contained\" color=\"primary\" onClick={this.downloadAddressDetails}>Download Address Details</Button>\n          </Box>\n\n\n        </div>\n      );\n    }\n    return (\n      <p>\n        {`Once you have imported all ${totalSigners} public keys, `}\n        {'your address details will be displayed here.'}\n      </p>\n    );\n  }\n\n\n  title = () => {\n    const {totalSigners, requiredSigners, addressType} = this.props;\n    return (\n      <Grid container justify=\"space-between\">\n        <Grid item>{requiredSigners}-of-{totalSigners} Multisig {addressType} Address</Grid>\n        <Grid item><small>{`Public Keys: ${this.publicKeyCount()}/${totalSigners}`}</small></Grid>\n      </Grid>\n    );\n  }\n\n  isInConflict = () => {\n    const { publicKeyImporters } = this.props;\n    return Object.values(publicKeyImporters).some(importer => importer.conflict)\n  }\n\n  publicKeyCount = () => {\n    const { publicKeyImporters } = this.props;\n    return Object.values(publicKeyImporters).filter(publicKeyImporter => (publicKeyImporter.finalized)).length;\n  }\n\n  publicKeysAreCanonicallySorted = () => {\n    const {publicKeyImporters} = this.props;\n    const publicKeys = Object.values(publicKeyImporters).map((publicKeyImporter) => publicKeyImporter.publicKey).filter((publicKey) => publicKey !== '');\n    const sortedPublicKeys = Object.values(publicKeyImporters).map((publicKeyImporter) => publicKeyImporter.publicKey).filter((publicKey) => publicKey !== '').sort(); // sort mutates the array\n    const sorted = publicKeys.filter((publicKey, index) => { return publicKey === sortedPublicKeys[index];}).length === publicKeys.length;\n    return sorted;\n  }\n\n  canonicallySortPublicKeys = () => {\n    const {sortPublicKeyImporters} = this.props;\n    sortPublicKeyImporters();\n  }\n\n  generateMultisig = () => {\n    const { network, publicKeyImporters, totalSigners, requiredSigners,\n      addressType, setMultisigAddress } = this.props;\n    let publicKeys = [];\n    for (let publicKeyImporterNum = 1; publicKeyImporterNum <= totalSigners; publicKeyImporterNum++) {\n      publicKeys.push(publicKeyImporters[publicKeyImporterNum].publicKey);\n    }\n    const multisig = generateMultisigFromPublicKeys(network, addressType, requiredSigners, ...publicKeys);\n    setMultisigAddress(multisig.address);\n    return multisig\n  }\n\n  downloadAddressDetails = (event) => {\n    event.preventDefault();\n    const multisig = this.generateMultisig();\n    const body = this.addressDetailsText(multisig);\n    const filename = this.addressDetailsFilename(multisig);\n    downloadFile(body, filename);\n  }\n\n  addressDetailsFilename = (multisig) => {\n    const {totalSigners, requiredSigners, addressType} = this.props;\n    return `bitcoin-${requiredSigners}-of-${totalSigners}-${addressType}-${multisig.address}.txt`;\n  }\n\n  addressDetailsText = (multisig) => {\n    const {addressType, network, totalSigners, requiredSigners} = this.props;\n    const redeemScript = multisigRedeemScript(multisig);\n    const witnessScript = multisigWitnessScript(multisig);\n    const redeemScriptLine = (redeemScript ? `Redeem Script: ${scriptToHex(redeemScript)}` : '');\n    const witnessScriptLine = (witnessScript ? `Witness Script: ${scriptToHex(witnessScript)}` : '');\n    const scriptsSpacer = (redeemScript && witnessScript ? '\\n\\n' : '');\n    return `Address: ${multisig.address}\n\nType: ${addressType}\n\nNetwork: ${network}\n\nQuorum: ${requiredSigners}-of-${totalSigners}\n\nBIP32 Paths:\n${this.publicKeyImporterBIP32Paths()}\n\n${redeemScriptLine}${scriptsSpacer}${witnessScriptLine}\n`;\n  }\n\n  publicKeyImporterBIP32Paths = () => {\n    const {totalSigners} = this.props;\n    let publicKeyImporterBIP32Paths = [];\n    for (let publicKeyImporterNum = 1; publicKeyImporterNum <= totalSigners; publicKeyImporterNum++) {\n      publicKeyImporterBIP32Paths.push(this.publicKeyImporterBIP32Path(publicKeyImporterNum));\n    }\n    return publicKeyImporterBIP32Paths.join(\"\\n\");\n  }\n\n  publicKeyImporterBIP32Path = (number) => {\n    const {publicKeyImporters} =  this.props;\n    const publicKeyImporter = publicKeyImporters[number];\n    const bip32Path = (publicKeyImporter.method === 'text' ? 'Unknown (make sure you have written this down previously!)' : publicKeyImporter.bip32Path);\n    return `  * ${publicKeyImporter.name}: ${bip32Path}`;\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    ...state.settings,\n    ...state.address,\n  };\n}\n\nconst mapDispatchToProps = {\n  sortPublicKeyImporters,\n  setMultisigAddress,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddressGenerator);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  validatePublicKey,\n} from \"unchained-bitcoin\";\n\n// Components\nimport { Button, TextField, Box } from '@material-ui/core';\n\nclass TextPublicKeyImporter extends React.Component {\n\n  static propTypes =  {\n    publicKeyImporter: PropTypes.shape({}).isRequired,\n    validateAndSetPublicKey: PropTypes.func.isRequired,\n  };\n\n  state = {\n    error: '',\n    publicKey: '',\n  };\n\n  render = () => {\n    const { error, publicKey } = this.state;\n    return (\n      <Box mt={2}>\n        <TextField\n          fullWidth\n          name=\"publicKey\"\n          label=\"Public Key\"\n          value={publicKey}\n          onChange={this.handleChange}\n          error={this.hasError()}\n          helperText={error}\n        />\n\n        <Box mt={2}>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            onClick={this.import}\n            disabled={publicKey === '' || this.hasError()}\n          >\n            Add Public Key\n          </Button>\n        </Box>\n      </Box>\n    );\n  }\n\n  import = () => {\n    const {validateAndSetPublicKey} = this.props;\n    const {publicKey} = this.state;\n    validateAndSetPublicKey(publicKey, this.setError);\n  }\n  \n  hasError = () => {\n    return this.state.error !== '';\n  }\n\n  setError = (value) => {\n    this.setState({error: value});\n  }\n\n  handleChange = (event) => {\n    const publicKey = event.target.value;\n    const error = validatePublicKey(publicKey);\n    this.setState({publicKey, error});\n  }\n\n}\n\nexport default TextPublicKeyImporter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  validateExtendedPublicKey,\n  deriveChildPublicKey,\n} from \"unchained-bitcoin\";\n\n// Components\nimport {  Button, TextField, FormHelperText, Box, Grid } from '@material-ui/core';\n\n\nconst DEFAULT_BIP32_PATH = \"m/0\";\n\nclass ExtendedPublicKeyPublicKeyImporter extends React.Component {\n\n  static propTypes =  {\n    network: PropTypes.string.isRequired,\n    publicKeyImporter: PropTypes.shape({}).isRequired,\n    validateAndSetPublicKey: PropTypes.func.isRequired,\n    validateAndSetBIP32Path: PropTypes.func.isRequired,\n  };\n\n  componentDidMount = () => {\n    this.setBIP32PathToDefault();\n  }\n\n  state = {\n    extendedPublicKey: '',\n    extendedPublicKeyError: '',\n    bip32PathError: '',\n  };\n\n  render = () => {\n    const {publicKeyImporter} = this.props;\n    const {extendedPublicKey, extendedPublicKeyError, bip32PathError} = this.state;\n    return (\n      <div>\n        <Box mt={2}>\n          <TextField\n            fullWidth\n            name=\"extendedPublicKey\"\n            label=\"Extended Public Key\"\n            value={extendedPublicKey}\n            onChange={this.handleExtendedPublicKeyChange}\n            error={this.hasExtendedPublicKeyError()}\n            helperText={extendedPublicKeyError}\n          />\n        </Box>\n\n          <Box mt={2}>\n            <Grid container>\n              <Grid item md={10}>\n                  <TextField\n                    fullWidth\n                    name=\"bip32Path\"\n                    label=\"BIP32 Path (relative to xpub)\"\n                    type=\"text\"\n                    value={publicKeyImporter.bip32Path}\n                    onChange={this.handleBIP32PathChange}\n                    error={this.hasBIP32PathError()}\n                    helperText={bip32PathError}\n                  />\n              <FormHelperText>Use the default value if you don&rsquo;t understand BIP32 paths.</FormHelperText>\n            </Grid>\n            <Grid item md={2}>\n              {! this.bip32PathIsDefault() && <Button type=\"button\" variant=\"contained\" size=\"small\"  onClick={this.resetBIP32Path}>Default</Button>}\n            </Grid>\n          </Grid>\n          <Box mt={2}>\n            <Button type=\"button\" variant=\"contained\" color=\"primary\" size=\"large\" onClick={this.import} disabled={extendedPublicKey === '' || this.hasError()}>Import Public Key</Button>\n          </Box>\n        </Box>\n      </div>\n    );\n  }\n\n  import = () => {\n    const {network, publicKeyImporter, validateAndSetPublicKey} = this.props;\n    const {extendedPublicKey} = this.state;\n    const publicKey = deriveChildPublicKey(extendedPublicKey, publicKeyImporter.bip32Path, network);\n    validateAndSetPublicKey(publicKey, (bip32PathError) => this.setState({bip32PathError}));\n  }\n\n  setBIP32PathToDefault = () => {\n    const {validateAndSetBIP32Path} = this.props;\n    validateAndSetBIP32Path(DEFAULT_BIP32_PATH, () => {}, () => {});\n  }\n\n  hasBIP32PathError = () => {\n    return this.state.bip32PathError !== '';\n  }\n\n  hasExtendedPublicKeyError = () => {\n    return this.state.extendedPublicKeyError !== '';\n  }\n\n  hasError = () => (this.hasBIP32PathError() || this.hasExtendedPublicKeyError());\n\n  setBIP32PathError = (value) => {\n    this.setState({bip32PathError: value});\n  }\n\n  handleBIP32PathChange = (event) => {\n    const { validateAndSetBIP32Path } = this.props;\n    const bip32Path = event.target.value;\n    validateAndSetBIP32Path(bip32Path, () => {}, this.setBIP32PathError, {mode: \"unhardened\"});\n  };\n\n  bip32PathIsDefault = () => {\n    const {publicKeyImporter} = this.props;\n    return publicKeyImporter.bip32Path === DEFAULT_BIP32_PATH;\n  }\n\n  resetBIP32Path = () => {\n    this.setBIP32PathToDefault();\n    this.setBIP32PathError('');\n  }\n\n  handleExtendedPublicKeyChange = (event) => {\n    const {network} = this.props;\n    const extendedPublicKey = event.target.value;\n    const extendedPublicKeyError = validateExtendedPublicKey(extendedPublicKey, network);\n    this.setState({extendedPublicKey, extendedPublicKeyError});\n  };\n\n}\n\nexport default ExtendedPublicKeyPublicKeyImporter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  PENDING,\n  HermitExportPublicKey,\n} from \"unchained-wallets\";\n\n// Components\nimport { FormGroup, FormHelperText} from '@material-ui/core';\n\nimport HermitReader from \"../Hermit/HermitReader\";\n\nclass HermitPublicKeyImporter extends React.Component {\n\n  static propTypes =  {\n    publicKeyImporter: PropTypes.shape({}).isRequired,\n    validateAndSetPublicKey: PropTypes.func.isRequired,\n    validateAndSetBIP32Path: PropTypes.func.isRequired,\n    reset: PropTypes.func.isRequired,\n    resetBIP32Path: PropTypes.func.isRequired,\n    enableChangeMethod: PropTypes.func.isRequired,\n    disableChangeMethod: PropTypes.func.isRequired,\n  };\n\n  state = {\n    publicKeyError: '',\n    walletState: PENDING,\n  };\n\n  componentDidMount = () => {\n    const {resetBIP32Path} = this.props;\n    resetBIP32Path();\n  }\n\n  interaction = () => {\n    const {network, publicKeyImporter} = this.props;\n    return new HermitExportPublicKey({network, bip32Path: publicKeyImporter.bip32Path});\n  }\n\n  render = () => {\n    const {disableChangeMethod} = this.props;\n    const {publicKeyError} = this.state;\n    return (\n      <FormGroup>\n        <HermitReader\n          startText=\"Import Public Key\"\n          interaction={this.interaction()}\n          onStart={disableChangeMethod}\n          onSuccess={this.import}\n          onClear={this.onClear} />\n        <FormHelperText error>{publicKeyError}</FormHelperText>\n      </FormGroup>\n    );\n  }\n\n  setError = (value) => {\n    this.setState({publicKeyError: value});\n  }\n\n  import = (data) => {\n    const { validateAndSetBIP32Path, validateAndSetPublicKey, enableChangeMethod } = this.props;\n    enableChangeMethod();\n    const {pubkey, bip32_path} = data;\n    validateAndSetBIP32Path(\n      bip32_path,\n      () => {\n        validateAndSetPublicKey(pubkey, this.setError);\n      },\n      this.setError\n    );\n  }\n\n  onClear = () => {\n    const { reset, enableChangeMethod } = this.props;\n    reset(true);\t\t// clear BIP32 path\n    this.setError('');\n    enableChangeMethod();\n  }\n\n}\n\nexport default HermitPublicKeyImporter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  UNSUPPORTED, PENDING, ACTIVE, ERROR,\n  HardwareWalletExportPublicKey,\n} from \"unchained-wallets\";\n\n// Components\nimport {\n  Button, TextField, FormHelperText,\n  Box, Grid\n} from '@material-ui/core';\n\nimport WalletFeedback from '../WalletFeedback';\n\nclass HardwareWalletPublicKeyImporter extends React.Component {\n\n  static propTypes =  {\n    network: PropTypes.string.isRequired,\n    addressType: PropTypes.string.isRequired,\n    publicKeyImporter: PropTypes.shape({}).isRequired,\n    validateAndSetPublicKey: PropTypes.func.isRequired,\n    validateAndSetBIP32Path: PropTypes.func.isRequired,\n    resetBIP32Path: PropTypes.func.isRequired,\n    defaultBIP32Path: PropTypes.string.isRequired,\n    enableChangeMethod: PropTypes.func.isRequired,\n    disableChangeMethod: PropTypes.func.isRequired,\n  };\n\n  componentDidMount = () => {\n    this.resetBIP32Path();\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      publicKeyError: '',\n      bip32PathError: '',\n      walletState: (this.interaction().isSupported() ? PENDING : UNSUPPORTED),\n    };\n  }\n\n  interaction = () => {\n    const {network, publicKeyImporter} = this.props;\n    return HardwareWalletExportPublicKey({network, walletType: publicKeyImporter.method, bip32Path:publicKeyImporter.bip32Path});\n  }\n\n  render = () => {\n    const {publicKeyImporter} = this.props;\n    const {walletState, publicKeyError} = this.state;\n    const interaction = this.interaction();\n    if (walletState === UNSUPPORTED) {\n      return <FormHelperText error>{interaction.messageTextFor({walletState})}</FormHelperText>;\n    }\n    return (\n      <Box mt={2}>\n       <Grid container>\n        <Grid item md={6}>\n            <TextField\n              fullWidth\n              label=\"BIP32 Path\"\n              value={publicKeyImporter.bip32Path}\n              onChange={this.handleBIP32PathChange}\n              disabled={walletState !== PENDING}\n              error={this.hasBIP32PathError()}\n              helperText={this.bip32PathError()}\n              />\n        </Grid>\n        <Grid item md={6}>\n              {!this.bip32PathIsDefault() && <Button type=\"button\" variant=\"contained\" size=\"small\" onClick={this.resetBIP32Path} disabled={walletState !== PENDING}>Default</Button>}\n        </Grid>\n       </Grid>\n        <FormHelperText>Use the default value if you don&rsquo;t understand BIP32 paths.</FormHelperText>\n        <Box mt={2}>\n          <Button\n            type=\"button\"\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            onClick={this.import}\n            disabled={this.hasBIP32PathError() || walletState === ACTIVE}>Import Public Key</Button>\n        </Box>\n        <WalletFeedback messages={interaction.messagesFor({walletState})} excludeCodes={[\"bip32\"]}/>\n        <FormHelperText error>{publicKeyError}</FormHelperText>\n      </Box>\n    );\n  }\n\n  import = async () => {\n    const {validateAndSetPublicKey, enableChangeMethod, disableChangeMethod} = this.props;\n    disableChangeMethod();\n    this.setState({publicKeyError: '', walletState: ACTIVE});\n    try {\n      const publicKey = await this.interaction().run();\n      validateAndSetPublicKey(publicKey, (error) => {this.setState({publicKeyError: error, walletState: PENDING});});\n    } catch(e) {\n      console.error(e);\n      this.setState({publicKeyError: e.message, walletState: PENDING});\n    }\n\n    enableChangeMethod();\n  }\n\n  hasBIP32PathError = () => {\n    const {bip32PathError, walletState} = this.state;\n    return (bip32PathError !== '' || this.interaction().hasMessagesFor({walletState, level: ERROR, code: \"bip32\"}));\n  }\n\n  bip32PathError = () => {\n    const {bip32PathError, walletState} = this.state;\n    if (bip32PathError !== '') { return bip32PathError; }\n    return this.interaction().messageTextFor({walletState, level: ERROR, code: \"bip32\"});\n  }\n\n  setBIP32PathError = (value) => {\n    this.setState({bip32PathError: value});\n  }\n\n  handleBIP32PathChange = (event) => {\n    const { validateAndSetBIP32Path } = this.props;\n    const bip32Path = event.target.value;\n    validateAndSetBIP32Path(bip32Path, () => {}, this.setBIP32PathError);\n  };\n\n  bip32PathIsDefault = () => {\n    const {publicKeyImporter, defaultBIP32Path} = this.props;\n    return publicKeyImporter.bip32Path === defaultBIP32Path;\n  }\n\n  resetBIP32Path = () => {\n    const {resetBIP32Path} = this.props;\n    this.setBIP32PathError('');\n    resetBIP32Path();\n  }\n\n}\n\nexport default HardwareWalletPublicKeyImporter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n  validateBIP32Path,\n  validatePublicKey,\n} from 'unchained-bitcoin';\nimport {\n  TREZOR,\n  LEDGER,\n  HERMIT,\n} from \"unchained-wallets\";\n\n// Components\nimport {\n  Card, CardHeader, CardContent,\n  FormControl, Select, MenuItem,\n  InputLabel, Button, Grid,\n  Box,\n} from '@material-ui/core';\nimport {ArrowUpward, ArrowDownward} from '@material-ui/icons';\n\nimport Copyable from \"../Copyable\";\nimport TextPublicKeyImporter from \"./TextPublicKeyImporter\";\nimport ExtendedPublicKeyPublicKeyImporter from \"./ExtendedPublicKeyPublicKeyImporter\";\nimport HermitPublicKeyImporter from \"./HermitPublicKeyImporter\";\nimport HardwareWalletPublicKeyImporter from \"./HardwareWalletPublicKeyImporter\";\nimport EditableName from \"../EditableName\";\nimport Conflict from \"./Conflict\";\n\n// Actions\nimport {\n  setPublicKeyImporterName,\n  setPublicKeyImporterBIP32Path,\n  resetPublicKeyImporterBIP32Path,\n  setPublicKeyImporterMethod,\n  setPublicKeyImporterPublicKey,\n  setPublicKeyImporterFinalized,\n  movePublicKeyImporterUp,\n  movePublicKeyImporterDown,\n} from '../../actions/publicKeyImporterActions';\n\nconst XPUB = \"xpub\";\nconst TEXT = \"text\";\n\nclass PublicKeyImporter extends React.Component {\n\n  static propTypes =  {\n    network: PropTypes.string.isRequired,\n    totalSigners: PropTypes.number.isRequired,\n    number: PropTypes.number.isRequired,\n    publicKeyImporter: PropTypes.shape({}).isRequired,\n    publicKeyImporters: PropTypes.shape({}).isRequired,\n    defaultBIP32Path: PropTypes.string.isRequired,\n    addressType: PropTypes.string.isRequired,\n    setName: PropTypes.func.isRequired,\n    setBIP32Path: PropTypes.func.isRequired,\n    setMethod: PropTypes.func.isRequired,\n    setPublicKey: PropTypes.func.isRequired,\n    setFinalized: PropTypes.func.isRequired,\n    moveUp: PropTypes.func.isRequired,\n    moveDown: PropTypes.func.isRequired,\n  };\n\n  state = {\n    disableChangeMethod: false,\n  };\n\n  render() {\n    const { publicKeyImporter } = this.props;\n    return (\n      <Card>\n        <CardHeader title={this.title()}/>\n        <CardContent>\n          {publicKeyImporter.method && publicKeyImporter.method !== TEXT && publicKeyImporter.conflict &&\n          <Conflict message=\"Warning, BIP32 path is in conflict with the network and address type settings.  Do not proceed unless you are absolutely sure you know what you are doing!\" />}\n          {publicKeyImporter.finalized ? this.renderPublicKey() : this.renderImport()}\n        </CardContent>\n      </Card>\n    );\n  }\n\n  title = () => {\n    const {number, totalSigners, publicKeyImporter, setName} = this.props;\n    return (\n      <Grid container justify=\"space-between\">\n        <Grid item>\n          <EditableName number={number} name={publicKeyImporter.name} setName={setName} />\n        </Grid>\n        <Grid item>\n          <Grid container justify=\"flex-end\">\n            <Button type=\"button\" variant=\"contained\" onClick={this.moveUp} disabled={number === 1}><ArrowUpward /></Button>\n            <span>&nbsp;</span>\n            <Button type=\"button\" variant=\"contained\" onClick={this.moveDown} disabled={number === totalSigners}><ArrowDownward /></Button>\n          </Grid>\n        </Grid>\n      </Grid>\n    );\n  }\n\n  renderImport = () => {\n    const { publicKeyImporter, number } = this.props;\n    const { disableChangeMethod } = this.state;\n    const labelId = `public-key-${number}-importer-select-label`;\n    return (\n      <div>\n\n        <FormControl fullWidth>\n          <InputLabel id={labelId}>Select Method</InputLabel>\n\n          <Select\n            labelId={labelId}\n            id={`public-key-${number}-importer-select`}\n            disabled={disableChangeMethod}\n            value={publicKeyImporter.method}\n            onChange={this.handleMethodChange}\n          >\n            <MenuItem value=\"\">{'< Select method >'}</MenuItem>\n            <MenuItem value={TREZOR}>Trezor</MenuItem>\n            <MenuItem value={LEDGER}>Ledger</MenuItem>\n            <MenuItem value={HERMIT}>Hermit</MenuItem>\n            <MenuItem value={XPUB}>Derive from extended public key</MenuItem>\n            <MenuItem value={TEXT}>Enter as text</MenuItem>\n          </Select>\n\n        </FormControl>\n\n        {this.renderImportByMethod()}\n      </div>\n    );\n  }\n\n  renderImportByMethod = () => {\n    const {publicKeyImporter, network, addressType, defaultBIP32Path} = this.props;\n    if (publicKeyImporter.method === TREZOR || publicKeyImporter.method === LEDGER) {\n      return <HardwareWalletPublicKeyImporter\n                                  publicKeyImporter={publicKeyImporter}\n                                  validateAndSetPublicKey={this.validateAndSetPublicKey}\n                                  validateAndSetBIP32Path={this.validateAndSetBIP32Path}\n                                  resetBIP32Path={this.resetBIP32Path}\n                                  enableChangeMethod={this.enableChangeMethod}\n                                  disableChangeMethod={this.disableChangeMethod}\n                                  addressType={addressType}\n                                  defaultBIP32Path={defaultBIP32Path}\n                                  network={network} />;\n    }\n    if (publicKeyImporter.method === HERMIT) {\n      return <HermitPublicKeyImporter\n                                  publicKeyImporter={publicKeyImporter}\n                                  validateAndSetPublicKey={this.validateAndSetPublicKey}\n                                  validateAndSetBIP32Path={this.validateAndSetBIP32Path}\n                                  resetBIP32Path={this.resetBIP32Path}\n                                  enableChangeMethod={this.enableChangeMethod}\n                                  disableChangeMethod={this.disableChangeMethod}\n                                  reset={this.reset} />;\n    }\n    if (publicKeyImporter.method === XPUB) {\n      return <ExtendedPublicKeyPublicKeyImporter\n                                                network={network}\n                                                publicKeyImporter={publicKeyImporter}\n                                                validateAndSetPublicKey={this.validateAndSetPublicKey}\n                                                validateAndSetBIP32Path={this.validateAndSetBIP32Path} />;\n    }\n    if (publicKeyImporter.method === TEXT) {\n      return <TextPublicKeyImporter\n                                                 publicKeyImporter={publicKeyImporter}\n                                                 validateAndSetPublicKey={this.validateAndSetPublicKey} />;\n    }\n    return null;\n  }\n\n  //\n  // Method\n  //\n\n  handleMethodChange = (event) => {\n    const { number, setMethod, setPublicKey } = this.props;\n    setMethod(number, event.target.value);\n    setPublicKey(number, '');\n  }\n\n  disableChangeMethod = () => {\n    this.setState({disableChangeMethod: true});\n  }\n\n  enableChangeMethod = () => {\n    this.setState({disableChangeMethod: false});\n  }\n\n  //\n  // State\n  //\n\n  finalize = () => {\n    const { number, setFinalized } = this.props;\n    setFinalized(number, true);\n  }\n\n  reset = (resetBIP32Path) => {\n    const { number, setPublicKey, setFinalized } = this.props;\n    setPublicKey(number, '');\n    setFinalized(number, false);\n    if (resetBIP32Path) {this.resetBIP32Path();}\n  }\n\n  //\n  // Position\n  //\n\n  moveUp = (event) => {\n    const {moveUp, number} = this.props;\n    event.preventDefault();\n    moveUp(number);\n  }\n\n  moveDown = (event) => {\n    const {moveDown, number} = this.props;\n    event.preventDefault();\n    moveDown(number);\n  }\n\n  //\n  // BIP32 Path\n  //\n\n  renderBIP32Path = () => {\n    const { publicKeyImporter } = this.props;\n    if (publicKeyImporter.method !== TEXT) {\n      return (\n        <Box mt={4}>\n          <p>The BIP32 path for this public key is:</p>\n          <Grid container justify=\"center\">\n            <Copyable text={publicKeyImporter.bip32Path}>\n              <code>{publicKeyImporter.bip32Path}</code>\n            </Copyable>\n          </Grid>\n          <Box mt={4}><p>You will need this BIP32 path to sign for this key later.  <strong>Write down this BIP32 path!</strong></p></Box>\n        </Box>\n      );\n    }\n    return null;\n  }\n\n  validateAndSetBIP32Path = (bip32Path, callback, errback, options) => {\n    const {number, setBIP32Path} = this.props;\n    const error = validateBIP32Path(bip32Path, options);\n    setBIP32Path(number, bip32Path);\n    if (error) {\n      errback(error);\n    } else {\n      errback('');\n      callback();\n    }\n  }\n\n  resetBIP32Path = () => {\n    const {number, resetBIP32Path} = this.props;\n    resetBIP32Path(number);\n  }\n\n  //\n  // Public Key\n  //\n\n\n  renderPublicKey = () => {\n    const { publicKeyImporter } = this.props;\n    return (\n      <div>\n        <p>The following public key was imported:</p>\n        <Grid container justify=\"center\">\n          <Copyable text={publicKeyImporter.publicKey}>\n            <code>{publicKeyImporter.publicKey}</code>\n          </Copyable>\n        </Grid>\n        {this.renderBIP32Path()}\n        <Box mt={2}>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            size=\"small\"\n            onClick={() => {this.reset(publicKeyImporter.method === HERMIT);}}\n          >\n            Remove Public Key\n          </Button>\n        </Box>\n      </div>\n    );\n  }\n\n  validateAndSetPublicKey = (publicKey, errback, callback) => {\n    const {number, publicKeyImporters, setPublicKey} = this.props;\n    const error = validatePublicKey(publicKey);\n    setPublicKey(number, publicKey);\n    if (error) {\n      errback && errback(error);\n    } else {\n      if (publicKey && Object.values(publicKeyImporters).find((publicKeyImporter, publicKeyImporterIndex) => (\n        publicKeyImporterIndex !== (number - 1) && publicKeyImporter.publicKey === publicKey\n      ))) {\n        errback && errback('This public key has already been imported.');\n      } else {\n        errback && errback('');\n        this.finalize();\n        callback && callback();\n      }\n    }\n  }\n\n}\n\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    ...state.settings,\n    ...state.address,\n    ...{ publicKeyImporter: state.address.publicKeyImporters[ownProps.number] },\n  };\n}\n\nconst mapDispatchToProps = {\n  setName: setPublicKeyImporterName,\n  setBIP32Path: setPublicKeyImporterBIP32Path,\n  resetBIP32Path: resetPublicKeyImporterBIP32Path,\n  setMethod: setPublicKeyImporterMethod,\n  setPublicKey: setPublicKeyImporterPublicKey,\n  setFinalized: setPublicKeyImporterFinalized,\n  moveUp: movePublicKeyImporterUp,\n  moveDown: movePublicKeyImporterDown,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps,)(PublicKeyImporter);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Grid, Box } from '@material-ui/core';\nimport {connect} from \"react-redux\";\n\n// Components\nimport NetworkPicker from '../NetworkPicker';\nimport QuorumPicker from '../QuorumPicker';\nimport AddressTypePicker from '../AddressTypePicker';\nimport AddressGenerator from './AddressGenerator';\nimport PublicKeyImporter from './PublicKeyImporter';\nimport ClientPicker from '../ClientPicker';\nimport BitcoindAddressImporter from '../BitcoindAddressImporter';\n\nimport '../styles.css';\n\nclass CreateAddress extends React.Component {\n\n  static propTypes = {\n    totalSigners: PropTypes.number.isRequired,\n  };\n\n  render = () => {\n    const { address } = this.props\n    return (\n      <Box mt={2}>\n        <Grid container spacing={3}>\n          <Grid item md={8}>\n\n            {this.renderPublicKeyImporters()}\n\n            <Box mt={2}><AddressGenerator /></Box>\n\n          </Grid>\n          <Grid item md={4}>\n            <Box><QuorumPicker /></Box>\n            <Box mt={2}><AddressTypePicker /></Box>\n            <Box mt={2}><NetworkPicker /></Box>\n            {address !== \"\" && this.renderClientPicker()}\n          </Grid>\n        </Grid>\n      </Box>\n    );\n  }\n\n  renderClientPicker = () => {\n    const { address } = this.props\n    return (\n      <Box mt={2}><ClientPicker\n        publicNotes={<span>If you plan to use this address with your own bitcoind node\n          you can import the address created here by switching for \"Public\" to \"Private\".\n          Otherwise no action is needed here.\n        </span>}\n        privateNotes={<div><BitcoindAddressImporter\n          addresses={[address]}/></div>}\n      /></Box>\n\n    )\n  }\n\n  renderPublicKeyImporters = () => {\n    const {totalSigners} = this.props;\n    const publicKeyImporters = [];\n    for (let publicKeyImporterNum = 1; publicKeyImporterNum  <= totalSigners; publicKeyImporterNum++) {\n      publicKeyImporters.push(\n        <Box key={publicKeyImporterNum} mt={publicKeyImporterNum===1 ? 0 : 2}>\n          <PublicKeyImporter number={publicKeyImporterNum} />\n        </Box>\n      );\n    }\n    return publicKeyImporters;\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    ...{totalSigners: state.settings.totalSigners},\n    ...state.address,\n  };\n}\n\nexport default connect(mapStateToProps)(CreateAddress);\n","export const CHOOSE_CONFIRM_OWNERSHIP = \"CHOOSE_CONFIRM_OWNERSHIP\";\nexport const SET_OWNERSHIP_MULTISIG               = \"SET_OWNERSHIP_MULTISIG\";\nexport const RESET_PUBLIC_KEY_IMPORTER            = \"RESET_PUBLIC_KEY_IMPORTER\";\nexport const RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH = \"RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH\";\nexport const SET_PUBLIC_KEY_IMPORTER_BIP32_PATH   = \"SET_PUBLIC_KEY_IMPORTER_BIP32_PATH\";\nexport const SET_PUBLIC_KEY_IMPORTER_METHOD       = \"SET_PUBLIC_KEY_IMPORTER_METHOD\";\nexport const SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY   = \"SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY\";\n\nexport function chooseConfirmOwnership() {\n  return {\n    type: CHOOSE_CONFIRM_OWNERSHIP,\n  };\n}\n\nexport function setOwnershipMultisig(value) {\n  return {\n    type: SET_OWNERSHIP_MULTISIG,\n    value,\n  };\n}\n\nexport function resetPublicKeyImporter() {\n  return {\n    type: RESET_PUBLIC_KEY_IMPORTER,\n  };\n}\n\nexport function resetPublicKeyImporterBIP32Path() {\n  return {\n    type: RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH,\n  };\n}\n\nexport function setPublicKeyImporterBIP32Path(value) {\n  return {\n    type: SET_PUBLIC_KEY_IMPORTER_BIP32_PATH,\n    value,\n  };\n}\n\nexport function setPublicKeyImporterMethod(value) {\n  return {\n    type: SET_PUBLIC_KEY_IMPORTER_METHOD,\n    value,\n  };\n}\n\nexport function setPublicKeyImporterPublicKey(value) {\n  return {\n    type: SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY,\n    value,\n  };\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport BigNumber from 'bignumber.js';\nimport {\n  P2SH,\n  P2SH_P2WSH,\n  P2WSH,\n  generateMultisigFromHex,\n  validateHex,\n  multisigRequiredSigners,\n  multisigTotalSigners,\n} from 'unchained-bitcoin';\nimport { fetchAddressUTXOs } from '../../blockchain';\n\n// Components\nimport {\n  Box,\n  Grid,\n  Card,\n  CardHeader,\n  CardContent,\n  Button,\n  TextField,\n  FormHelperText,\n} from '@material-ui/core';\nimport MultisigDetails from \"../MultisigDetails\";\nimport BitcoindAddressImporter from \"../BitcoindAddressImporter\";\n\n// Actions\nimport {\n  setFrozen,\n} from '../../actions/settingsActions';\nimport {\n  choosePerformSpend,\n  setRequiredSigners,\n  setTotalSigners,\n  setInputs,\n} from '../../actions/transactionActions';\nimport {\n  chooseConfirmOwnership,\n  setOwnershipMultisig,\n} from \"../../actions/ownershipActions\";\n\nclass ScriptEntry extends React.Component {\n\n  static propTypes = {\n    network: PropTypes.string.isRequired,\n    client: PropTypes.object.isRequired,\n    setFrozen: PropTypes.func.isRequired,\n    setRequiredSigners: PropTypes.func.isRequired,\n    setTotalSigners: PropTypes.func.isRequired,\n    setInputs: PropTypes.func.isRequired,\n    addressType: PropTypes.string.isRequired,\n    setOwnershipMultisig: PropTypes.func.isRequired,\n    chosePerformSpend: PropTypes.bool.isRequired,\n    choseConfirmOwnership: PropTypes.bool.isRequired,\n  };\n\n  state = {\n    scriptHex: '',\n    scriptError: '',\n    fetchUTXOsError: '',\n    fetchedUTXOs: false,\n  };\n\n  disabled = () => {\n\n  }\n\n  render() {\n    const { scriptHex, scriptError, fetchedUTXOs } = this.state;\n\n    return (\n      <Card>\n        <CardHeader title={`Enter ${this.scriptTitle()} Script`} />\n        <CardContent>\n          <form>\n            <TextField\n              fullWidth\n              multiline\n              autoFocus\n              variant=\"outlined\"\n              label={`${this.scriptTitle()} Script`}\n              value={scriptHex}\n              rows={5}\n              onChange={this.handleScriptChange}\n              disabled={fetchedUTXOs && (! this.hasFetchUTXOsError())}\n              helperText={scriptError}\n              error={scriptError!==''}\n            />\n          </form>\n\n          {(scriptHex !== '' && !this.hasScriptError())\n           ?\n           this.renderDetails()\n           :\n           <p>Enter a valid {this.scriptName()} script to generate an address to spend funds from.</p>}\n\n\n        </CardContent>\n\n      </Card>\n    );\n  }\n\n  hasScriptError = () => (this.state.scriptError !== '')\n  hasFetchUTXOsError = () => (this.state.fetchUTXOsError !== '')\n  hasError = () => (this.hasScriptError() || this.hasFetchUTXOsError())\n\n  //\n  // Script\n  //\n\n  scriptName = () => {\n    const {addressType} = this.props;\n    switch (addressType) {\n    case P2SH:\n      return \"redeem\";\n    case P2SH_P2WSH:\n      return \"witness\";\n    case P2WSH:\n      return \"witness\";\n    default:\n      return null;\n    }\n  }\n\n  scriptTitle = () => {\n    const scriptName = this.scriptName();\n    return scriptName.charAt(0).toUpperCase() + scriptName.substring(1);\n  }\n\n  handleScriptChange = (event) => {\n    const scriptHex = event.target.value;\n    let scriptError = '';\n\n    if (scriptHex === '') {\n      scriptError = `${this.scriptTitle()} script cannot be blank.`;\n    }\n\n    if (scriptError === '' && (scriptHex.includes('\\n') || scriptHex.includes('\\t') || scriptHex.includes(' '))) {\n      scriptError = `${this.scriptTitle()} script should not contain spaces, tabs, or newlines.`;\n    }\n\n    if (scriptError === '') {\n      const hexError = validateHex(scriptHex);\n      if (hexError !== '') {\n        scriptError = `${this.scriptTitle()} script is not valid hex.`;\n      }\n    }\n\n    if (scriptHex !== '' && scriptError === '') {\n      try {\n        this.generateMultisig(scriptHex);\n      } catch (parseError) {\n        console.error(parseError);\n        scriptError = `Failed to parse ${this.scriptName()} script.`;\n      }\n    }\n\n    this.setState({\n      scriptHex,\n      scriptError,\n      fetchUTXOsError: '',\n      fetchedUTXOs: false,\n    });\n  };\n\n  generateMultisig = (scriptHex) => {\n    const {network, addressType} = this.props;\n    if (! scriptHex) {\n      scriptHex = this.state.scriptHex;\n    }\n    return generateMultisigFromHex(network, addressType, scriptHex);\n  }\n\n  //\n  // Details\n  //\n\n  renderDetails = () => {\n    const { fetchUTXOsError } = this.state;\n    const { chosePerformSpend, choseConfirmOwnership, client } = this.props;\n    const multisig = this.generateMultisig();\n    const buttonsDisabled = (chosePerformSpend || choseConfirmOwnership);\n    return (\n      <div>\n        <MultisigDetails multisig={multisig} />\n\n        <Box mt={2}>\n\n          <Grid container spacing={3}>\n\n            <Grid item>\n              <Button variant=\"contained\" color=\"primary\" size=\"large\" onClick={this.performSpend} disabled={buttonsDisabled}>Spend from this address</Button>\n            </Grid>\n\n            <Grid item>\n              <Button variant=\"contained\" size=\"large\" onClick={this.confirmOwnership} disabled={buttonsDisabled}>Confirm ownership</Button>\n            </Grid>\n\n          </Grid>\n\n          <FormHelperText error>{fetchUTXOsError}</FormHelperText>\n\n        </Box>\n        {\n          client.type === \"private\" &&\n          <Box mt={2}>\n            <BitcoindAddressImporter addresses={[multisig.address]} autoImport={true}/>\n          </Box>\n        }\n      </div>\n    );\n  }\n\n  //\n  // Perform Spend\n  //\n\n  performSpend = async () => {\n    const {setRequiredSigners, setTotalSigners, setInputs, setFrozen, choosePerformSpend} = this.props;\n    const multisig = this.generateMultisig();\n    const fetchUTXOsResult = await this.fetchUTXOs(multisig);\n    if (fetchUTXOsResult) {\n      const {utxos, inputsTotalSats} = fetchUTXOsResult;\n      let fetchUTXOsError = '';\n      if (inputsTotalSats.isLessThanOrEqualTo(0)) {\n        fetchUTXOsError = \"This address has a zero balance.\";\n      }\n      this.setState({\n        fetchedUTXOs: true,\n        fetchUTXOsError,\n      });\n      if (fetchUTXOsError === '') {\n        setInputs(utxos);\n        setRequiredSigners(multisigRequiredSigners(multisig));\n        setTotalSigners(multisigTotalSigners(multisig));\n        setFrozen(true);\n        choosePerformSpend();\n      }\n    } else {\n      this.setState({\n        fetchedUTXOs: false,\n        fetchUTXOsError: \"Failed to fetch UTXOs.\",\n      });\n    }\n  }\n\n  fetchUTXOs = async (multisig) => {\n    const {network, client} = this.props;\n    let utxos = null;\n    try {\n      utxos = await fetchAddressUTXOs(multisig.address, network, client);\n    } catch(e) {\n      console.error(e);\n      return false;\n    }\n    if (utxos !== null) {\n      return {\n        utxos: utxos.map((utxo) => ({...utxo, multisig})),\n        inputsTotalSats: utxos\n          .map((utxo) => utxo.amount)\n          .reduce(\n            (accumulator, currentValue) => accumulator.plus(currentValue),\n            new BigNumber(0)),\n      };\n    }\n    return false;\n  }\n\n  //\n  // Confirm Ownership\n  //\n\n  confirmOwnership = () => {\n    const {chooseConfirmOwnership, setOwnershipMultisig, setFrozen} = this.props;\n    setOwnershipMultisig(this.generateMultisig());\n    chooseConfirmOwnership();\n    setFrozen(true);\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    ...state.settings,\n    ...{client: state.client},\n    ...{\n      choseConfirmOwnership: state.spend.ownership.chosen,\n      chosePerformSpend: state.spend.transaction.chosen,\n    }\n  };\n}\n\nconst mapDispatchToProps = {\n  choosePerformSpend,\n  setFrozen,\n  setInputs,\n  setTotalSigners,\n  setRequiredSigners,\n  chooseConfirmOwnership,\n  setOwnershipMultisig,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(ScriptEntry);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n  validatePublicKey,\n  validateBIP32Path,\n} from 'unchained-bitcoin';\nimport {\n  TREZOR,\n  LEDGER,\n  HERMIT,\n} from \"unchained-wallets\";\n\n// Components\nimport CheckIcon from '@material-ui/icons/Check';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport { styled } from '@material-ui/core/styles';\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  Select,\n  MenuItem,\n  InputLabel,\n  FormControl,\n  Button,\n  Typography,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText\n} from '@material-ui/core';\nimport HardwareWalletPublicKeyImporter from \"../CreateAddress/HardwareWalletPublicKeyImporter\";\nimport HermitPublicKeyImporter from \"../CreateAddress/HermitPublicKeyImporter\";\n\n// Actions\nimport {\n  resetPublicKeyImporter,\n  resetPublicKeyImporterBIP32Path,\n  setPublicKeyImporterBIP32Path,\n  setPublicKeyImporterMethod,\n  setPublicKeyImporterPublicKey,\n} from \"../../actions/ownershipActions\";\n\nimport 'react-table/react-table.css';\n\nclass ConfirmOwnership extends React.Component {\n\n  titleRef = React.createRef();\n\n  static propTypes = {\n    publicKeyImporter: PropTypes.shape({}).isRequired,\n    addressType: PropTypes.string.isRequired,\n    network: PropTypes.string.isRequired,\n    publicKeys: PropTypes.array.isRequired,\n    address: PropTypes.string.isRequired,\n    setMethod: PropTypes.func.isRequired,\n    setPublicKey: PropTypes.func.isRequired,\n    setBIP32Path: PropTypes.func.isRequired,\n    resetBIP32Path: PropTypes.func.isRequired,\n    reset: PropTypes.func.isRequired,\n  };\n\n  state = {\n    disableChangeMethod: false,\n  };\n\n  componentDidMount = () => {\n    this.resetBIP32Path();\n    this.scrollToTitle();\n  }\n\n  componentDidUpdate = () => {\n    this.scrollToTitle();\n  }\n\n  scrollToTitle = () => {\n    this.titleRef.current.scrollIntoView({ behavior: 'smooth' });\n  }\n\n  render() {\n    const { publicKeyImporter } = this.props;\n    const { disableChangeMethod } = this.state;\n    const labelId = \"public-key-importer-select-label\";\n    return (\n      <Card>\n        <CardHeader ref={this.titleRef} title=\"Confirm Ownership\" />\n        <CardContent>\n          <form>\n            <p>\n              How will you confirm your ownership of this address?\n            </p>\n\n            <FormControl\n              fullWidth={true}>\n              <InputLabel id={labelId}>Select Method</InputLabel>\n\n              <Select\n                labelId\n                id=\"public-key-importer-select\"\n                disabled={disableChangeMethod}\n                value={publicKeyImporter.method}\n                onChange={this.handleMethodChange}\n              >\n                <MenuItem value=\"\">{'< Select method >' }</MenuItem>\n                <MenuItem value={TREZOR}>Trezor</MenuItem>\n                <MenuItem value={LEDGER}>Ledger</MenuItem>\n                <MenuItem value={HERMIT}>Hermit</MenuItem>\n              </Select>\n\n            </FormControl>\n\n            {this.renderImportByMethod()}\n\n            {this.renderConfirmation()}\n\n            {publicKeyImporter.method !== '' &&\n             <Button variant=\"contained\" size=\"small\" color=\"secondary\" role=\"button\" onClick={this.reset}>Start Again</Button>}\n\n          </form>\n\n        </CardContent>\n\n      </Card>\n    );\n  }\n\n  renderImportByMethod = () => {\n    const {network, publicKeyImporter, defaultBIP32Path} = this.props;\n    if (publicKeyImporter.method === HERMIT) {\n      return <HermitPublicKeyImporter\n               publicKeyImporter={publicKeyImporter}\n               validateAndSetBIP32Path={this.validateAndSetBIP32Path}\n               validateAndSetPublicKey={this.validateAndSetPublicKey}\n               resetBIP32Path={this.resetBIP32Path}\n               enableChangeMethod={this.enableChangeMethod}\n               disableChangeMethod={this.disableChangeMethod}\n               reset={this.reset} />;\n    }\n    if (publicKeyImporter.method === TREZOR || publicKeyImporter.method === LEDGER) {\n      return <HardwareWalletPublicKeyImporter\n               network={network}\n               publicKeyImporter={publicKeyImporter}\n               validateAndSetBIP32Path={this.validateAndSetBIP32Path}\n               resetBIP32Path={this.resetBIP32Path}\n               defaultBIP32Path={defaultBIP32Path}\n               validateAndSetPublicKey={this.validateAndSetPublicKey}\n               enableChangeMethod={this.enableChangeMethod}\n               disableChangeMethod={this.disableChangeMethod} />;\n    }\n    return null;\n  }\n\n  //\n  // Method\n  //\n\n  handleMethodChange = (event) => {\n    const { setMethod } = this.props;\n    setMethod(event.target.value);\n    this.reset();\n  }\n\n  disableChangeMethod = () => {\n    this.setState({disableChangeMethod: true});\n  }\n\n  enableChangeMethod = () => {\n    this.setState({disableChangeMethod: false});\n  }\n\n  //\n  // State\n  //\n\n  reset = () => {\n    const { reset } = this.props;\n    reset();\n  }\n\n  //\n  // BIP32 Path\n  //\n\n  resetBIP32Path = () => {\n    const {resetBIP32Path} = this.props;\n    resetBIP32Path();\n  }\n\n  validateAndSetBIP32Path = (bip32Path, callback, errback, options) => {\n    const {setBIP32Path} = this.props;\n    const error = validateBIP32Path(bip32Path, options);\n    setBIP32Path(bip32Path);\n    if (error) {\n      errback(error);\n    } else {\n      errback('');\n      callback();\n    }\n  }\n\n\n  //\n  // Public Keey & Confirmation\n  //\n\n  validateAndSetPublicKey = (publicKey, errback, callback) => {\n    const {setPublicKey} = this.props;\n    const error = validatePublicKey(publicKey);\n    setPublicKey(publicKey);\n    if (error) {\n      errback && errback(error);\n    } else {\n      errback && errback('');\n      callback && callback();\n    }\n  }\n\n  renderConfirmation = () => {\n    const { publicKeys, publicKeyImporter } = this.props;\n    if (publicKeyImporter.publicKey === '') {return null;}\n    if (publicKeys.includes(publicKeyImporter.publicKey)) {\n      const GreenListItemIcon = styled(ListItemIcon)({color: 'green'});\n      return (\n      <List>\n       <ListItem>\n        <GreenListItemIcon>\n          <CheckIcon/>\n        </GreenListItemIcon>\n        <ListItemText>\n        The public key exported at BIP32 path <code>{publicKeyImporter.bip32Path}</code> is present in the provided redeem script.\n        </ListItemText>\n      </ListItem>\n     </List>);\n    } else {\n     return (\n      <List>\n       <ListItem>\n        <ListItemIcon>\n          <Typography color=\"error\">\n            <ClearIcon/>\n          </Typography>\n        </ListItemIcon>\n        <ListItemText>\n        The public key exported at BIP32 path <code>{publicKeyImporter.bip32Path}</code> is not present in the provided redeem script.\n        </ListItemText>\n      </ListItem>\n     </List>);\n    }\n  }\n\n}\n\nfunction mapStateToProps(state, ownProps) {\n  return state.spend.ownership;\n}\n\nconst mapDispatchToProps = {\n  setMethod: setPublicKeyImporterMethod,\n  setBIP32Path: setPublicKeyImporterBIP32Path,\n  setPublicKey: setPublicKeyImporterPublicKey,\n  resetBIP32Path: resetPublicKeyImporterBIP32Path,\n  reset: resetPublicKeyImporter,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ConfirmOwnership);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\n// Components\nimport NetworkPicker from '../NetworkPicker';\nimport ClientPicker from '../ClientPicker';\nimport AddressTypePicker from '../AddressTypePicker';\nimport ScriptEntry from './ScriptEntry';\nimport UTXOSet from './UTXOSet';\nimport OutputsForm from './OutputsForm';\nimport SignatureImporter from './SignatureImporter';\nimport Transaction from './Transaction';\nimport {Grid, Box} from \"@material-ui/core\";\nimport ConfirmOwnership from './ConfirmOwnership';\nimport '../styles.css';\n\nclass Spend extends React.Component {\n\n  static propTypes = {\n    transaction: PropTypes.object.isRequired,\n    ownership: PropTypes.object.isRequired,\n    signatureImporters: PropTypes.object.isRequired,\n  };\n\n  render = () => {\n    return (\n      <Box mt={2}>\n        <Grid container spacing={3}>\n          <Grid item md={8}>\n            <Box><ScriptEntry /></Box>\n            {this.renderBody()}\n          </Grid>\n          <Grid item md={4}>\n            <Box><AddressTypePicker /></Box>\n            <Box mt={2}><NetworkPicker /></Box>\n            <Box mt={2}><ClientPicker /></Box>\n          </Grid>\n        </Grid>\n      </Box>\n    );\n  };\n\n  renderBody = () => {\n    const {transaction, ownership} = this.props;\n    if (ownership.chosen) {\n      return <Box mt={2}><ConfirmOwnership /></Box>;\n    } else return (\n      <Box>\n      {\n        this.spendable() &&\n        <Box>\n          <Box mt={2}>\n            <UTXOSet\n              inputs={transaction.inputs}\n              inputsTotalSats={transaction.inputsTotalSats}\n            />\n          </Box>\n          <Box mt={2}><OutputsForm/></Box>\n        </Box>\n      }\n\n      {\n        transaction.finalizedOutputs &&\n        <Box>\n          {this.renderSignatureImporters()}\n        </Box>\n\n      }\n\n      {\n        this.signaturesFinalized() &&\n        <Box mt={2}>\n          <Transaction/>\n        </Box>\n      }\n      </Box>\n\n    )\n  }\n\n  renderSignatureImporters = () => {\n    const {transaction} = this.props;\n    const signatureImporters = [];\n    for (var signatureImporterNum = 1; signatureImporterNum <= transaction.requiredSigners; signatureImporterNum++) {\n      signatureImporters.push(\n        <Box key={signatureImporterNum} mt={2}>\n          <SignatureImporter number={signatureImporterNum} />\n        </Box>\n      );\n    }\n    return signatureImporters;\n  }\n\n  spendable = () => {\n    const {transaction} = this.props;\n    return transaction.inputs.length > 0;\n  }\n\n  signaturesFinalized = () => {\n    const {signatureImporters} = this.props;\n    return Object.values(signatureImporters).length > 0 && Object.values(signatureImporters).every((signatureImporter) => signatureImporter.finalized);\n  }\n\n  confirmOwnership = (value) => {\n    this.setState({addressFinalized: true, confirmOwnership: value});\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return state.spend;\n}\n\nexport default connect(mapStateToProps)(Spend);\n","import React from 'react';\nimport { AppBar, Toolbar, Button,  makeStyles, Typography } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nconst Navbar = () => {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Typography variant=\"h6\" className={classes.title}>\n              Caravan\n          </Typography>\n\n          <Button color=\"inherit\" href=\"#/wallet\" target=\"_blank\">Wallet</Button>\n\n          <Button color=\"inherit\" href=\"#/address\" target=\"_blank\">Create</Button>\n\n          <Button color=\"inherit\" href=\"#/spend\" target=\"_blank\">Interact</Button>\n\n          <Button color=\"inherit\" href=\"#/\" target=\"_blank\">Help</Button>\n\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n\n}\n\nexport default Navbar;\n","import React from 'react';\nimport {externalLink} from \"../utils\";\nimport {version} from \"../../package.json\";\n\n// Components\nimport { Grid, Box } from '@material-ui/core';\n\n// Assets\nconst logo = require('../images/logo.png');\n\nconst Footer = () => (\n  <Box mt={2}>\n    <hr />\n    <Grid container alignItems=\"center\">\n\n      <Grid item sm={2}>\n        {externalLink(\n          'https://www.unchained-capital.com',\n          <img\n            src={logo}\n            className=\"logo\"\n            alt=\"Unchained Capital logo\"\n            height=\"32\" />\n        )}\n      </Grid>\n\n      <Grid item  sm={6}>\n        <p>Copyright 2019 by Unchained Capital and released under an MIT license.</p>\n      </Grid>\n\n      <Grid item sm={1}>\n        <p> v{version} </p>\n      </Grid>\n    </Grid>\n\n  </Box>\n\n\n);\n\nexport default Footer;\n","import {Box, Typography} from '@material-ui/core';\nimport React from 'react';\n\nconst reportingURL = 'https://github.com/unchained-capital/caravan/issues'\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: null, errorInfo: null };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    this.setState({\n      errorInfo: errorInfo,\n      error: error\n    })\n  }\n\n  render() {\n    const {error, errorInfo} = this.state;\n    if (errorInfo) {\n      return (\n        <Box m={4}>\n          <Box m={2}>\n            <Typography variant={'h3'} component={'h1'}>Something went wrong.</Typography>\n          </Box>\n          <Box m={2}>\n            <Typography variant={'body1'}>\n              Let us know what happened on <a href={reportingURL} target={'_blank'}>github</a>.\n            </Typography>\n          </Box>\n          <Box mx={2} my={3}>\n            <details style={{ whiteSpace: 'pre-wrap' }}>\n              {error && error.toString()}\n              <br />\n              {errorInfo.componentStack}\n            </details>\n          </Box>\n        </Box>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\nexport {ErrorBoundary}\n","import React from 'react';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\n\n// Components\nimport Help from './Help';\nimport Wallet from './Wallet';\nimport CreateAddress from './CreateAddress';\nimport Spend from './Spend';\nimport Navbar from './Navbar';\nimport Footer from \"./Footer\";\nimport { CssBaseline, Container } from '@material-ui/core';\nimport {ErrorBoundary} from './ErrorBoundry';\n\n\nconst App = () => (\n  <div className=\"App\">\n    <CssBaseline />\n    <Container maxWidth=\"lg\">\n      <Navbar />\n      <ErrorBoundary>\n        <Router>\n          <Switch>\n            <Route path=\"/wallet\" component={Wallet} />\n            <Route path=\"/address\" component={CreateAddress} />\n            <Route path=\"/spend\" component={Spend} />\n            <Route path=\"/\" component={Help} />\n          </Switch>\n        </Router>\n      </ErrorBoundary>\n      <Footer />\n    </Container>\n  </div>\n);\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export function updateState(state, change) {\n    return {\n\t    ...state,\n\t    ...change,\n    };\n}\n","import {\n  MAINNET, \n  P2SH,\n} from \"unchained-bitcoin\";\n\nimport { updateState } from './utils';\nimport {\n  SET_NETWORK,\n  SET_TOTAL_SIGNERS,\n  SET_REQUIRED_SIGNERS,\n  SET_ADDRESS_TYPE,\n  SET_FROZEN,\n} from '../actions/settingsActions';\n\nconst initialState = {\n  network: MAINNET,\n  totalSigners: 3,\n  requiredSigners: 2,\n  addressType: P2SH,\n  frozen: false,\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case SET_NETWORK:\n      return updateState(state, { network: action.value });\n    case SET_TOTAL_SIGNERS:\n      return updateState(state, { totalSigners: action.value });\n    case SET_REQUIRED_SIGNERS:\n      return updateState(state, { requiredSigners: action.value });\n    case SET_ADDRESS_TYPE:\n      return updateState(state, { addressType: action.value });\n    case SET_FROZEN:\n      return updateState(state, { frozen: action.value });\n    default:\n      return state;\n  }\n};\n","import { updateState } from './utils';\nimport {\n  SET_CLIENT_TYPE,\n  SET_CLIENT_URL,\n  SET_CLIENT_USERNAME,\n  SET_CLIENT_PASSWORD,\n\n  SET_CLIENT_URL_ERROR,\n  SET_CLIENT_USERNAME_ERROR,\n  SET_CLIENT_PASSWORD_ERROR,\n\n  SET_CLIENT_STATUS,\n} from '../actions/clientActions';\n\nconst initialState = {\n  type: 'public',\n  url: '',\n  username: '',\n  password: '',\n  url_error: '',\n  username_error: '',\n  password_error: '',\n  status: 'unknown',\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case SET_CLIENT_TYPE:\n      return updateState(state, { type: action.value });\n    case SET_CLIENT_URL:\n      return updateState(state, { url: action.value });\n    case SET_CLIENT_USERNAME:\n      return updateState(state, { username: action.value });\n    case SET_CLIENT_PASSWORD:\n      return updateState(state, { password: action.value });\n    case SET_CLIENT_URL_ERROR:\n      return updateState(state, { url_error: action.value });\n    case SET_CLIENT_USERNAME_ERROR:\n      return updateState(state, { username_error: action.value });\n    case SET_CLIENT_PASSWORD_ERROR:\n      return updateState(state, { password_error: action.value });\n\n    case SET_CLIENT_STATUS:\n      return updateState(state, { status: action.value });\n\n    default:\n      return state;\n  }\n};\n","import BigNumber from \"bignumber.js\";\nimport { RESET_NODES_SPEND, SPEND_NODES } from \"../actions/walletActions\";\n\nconst initialNodeState = {\n  present: true,\n  bip32Path: '',\n  publicKeys: [],\n  multisig: {},\n  address: '',\n  balanceSats: new BigNumber(0),\n  utxos: [],\n  change: false,\n  spend: false,\n  fetchedUTXOs: false,\n  fetchUTXOsError: '',\n  addressUsed: false,\n  addressKnown: true,\n};\n\nconst initialState = {\n  nodes: {},\n  trailingEmptyNodes: 0,\n  fetchUTXOsErrors: 0,\n  balanceSats: new BigNumber(0),\n  spendingSats: new BigNumber(0),\n  autoSpend: false,\n};\n\nfunction updateNode(state, action) {\n  const node = {\n    ...initialNodeState,\n    ...(state.nodes[action.value.bip32Path] || {}),\n    ...action.value,\n  };\n  const newNodes = {};\n  newNodes[node.bip32Path] = node;\n\n  const updatedState = {\n    ...state,\n    ...{\n      nodes: {\n        ...state.nodes,\n        ...newNodes,\n      },\n      // balanceSats: state.balanceSats.plus(node.balanceSats),\n    },\n  };\n\n  if (typeof action.value.spend !== 'undefined') {\n    updatedState.spendingSats = action.value.spend ?\n      state.spendingSats.plus(node.balanceSats) :\n      state.spendingSats.minus(node.balanceSats);\n  }\n\n  if (action.value.balanceSats) {\n    updatedState.balanceSats = state.balanceSats.plus(node.balanceSats)\n  }\n\n  let trailingEmptyNodes = 0;\n  let fetchUTXOsErrors = 0;\n  const allBIP32Paths = Object.keys(updatedState.nodes);\n  allBIP32Paths.sort((p1, p2) => {\n    const p1Segments = (p1 || '').split('/');\n    const p2Segments = (p2 || '').split('/');\n    const p1Index = parseInt(p1Segments[2]);\n    const p2Index = parseInt(p2Segments[2]);\n    return p1Index - p2Index;\n  });\n  let nodeFoundWithValue = false\n  for (let i=0; i < allBIP32Paths.length; i++) {\n    const bip32Path = allBIP32Paths[allBIP32Paths.length - (i + 1)];\n    const otherNode = updatedState.nodes[bip32Path];\n    if (otherNode.fetchedUTXOs) {\n      if (otherNode.balanceSats.isEqualTo(0) && !otherNode.addressUsed && !nodeFoundWithValue) {\n        trailingEmptyNodes++;\n      } else nodeFoundWithValue = true\n    }\n    if (otherNode.fetchUTXOsError !== '') {\n      fetchUTXOsErrors++;\n    }\n  }\n  updatedState.trailingEmptyNodes = trailingEmptyNodes;\n  updatedState.fetchUTXOsErrors = fetchUTXOsErrors;\n  return updatedState;\n}\n\nfunction spendNodes(state) {\n  const updatedState = {...state };\n  Object.values(updatedState.nodes).forEach(node => {\n    if (node.spend) {\n      updatedState.balanceSats = updatedState.balanceSats.minus(node.balanceSats);\n      node.balanceSats = new BigNumber(0);\n      node.spend = false;\n      node.utxos = [];\n    }\n  })\n  return updatedState;\n\n}\n\nfunction resetSpend(state) {\n  const updatedState = {...state };\n  Object.values(updatedState.nodes).forEach(node => {\n    node.spend = false;\n  })\n  return updatedState;\n}\n\nexport default (actionType) => (state = initialState, action) => {\n  switch (action.type) {\n  case RESET_NODES_SPEND:\n    return resetSpend(state);\n  case SPEND_NODES:\n    return spendNodes(state);\n  case actionType:\n    return updateNode(state, action);\n  default:\n    return state;\n  }\n};\n","import {\n  MAINNET,\n  P2SH,\n  multisigBIP32Root,\n} from \"unchained-bitcoin\";\nimport { updateState } from './utils';\nimport {\n  SET_TOTAL_SIGNERS,\n} from \"../actions/settingsActions\";\nimport {\n  SET_EXTENDED_PUBLIC_KEY_IMPORTER_NAME,\n  RESET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH,\n  SET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH,\n  SET_EXTENDED_PUBLIC_KEY_IMPORTER_METHOD,\n  SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY,\n  SET_EXTENDED_PUBLIC_KEY_IMPORTER_FINALIZED,\n  SET_EXTENDED_PUBLIC_KEY_IMPORTER_VISIBLE,\n} from '../actions/extendedPublicKeyImporterActions';\nimport {\n  SET_NETWORK,\n  SET_ADDRESS_TYPE,\n} from '../actions/settingsActions';\n\nconst TEXT = \"text\";\n\nfunction fingerprint(state) {\n  const timestamp = new Date().getTime().toString();\n  const extendedPublicKeys = Object.values(state.extendedPublicKeyImporters).map((extendedPublicKeyImporter) => (extendedPublicKeyImporter.extendedPublicKey)).join('');\n  return `${timestamp}-${extendedPublicKeys}`;\n}\n\nconst initialExtendedPublicKeyImporterState = {\n  name: '',\n  bip32Path: multisigBIP32Root(P2SH, MAINNET),\n  bip32PathModified: false,\n  method: '',\n  extendedPublicKey: '',\n  finalized: false,\n  confliect: false,\n};\n\nconst initialState = {\n  extendedPublicKeyImporters: {\n    1: { ...initialExtendedPublicKeyImporterState, ...{name: \"Extended Public Key 1\"}  },\n    2: { ...initialExtendedPublicKeyImporterState, ...{name: \"Extended Public Key 2\"}  },\n    3: { ...initialExtendedPublicKeyImporterState, ...{name: \"Extended Public Key 3\"}  },\n  },\n  defaultBIP32Path: multisigBIP32Root(P2SH, MAINNET),\n  network: MAINNET,\n  addressType: P2SH,\n  fingerprint: '',\n  finalizedNetwork: '',\n  finalizedAddressType: '',\n  configuring: true,\n};\n\nfunction updateExtendedPublicKeyImporterState(state, action, field) {\n  const extendedPublicKeyImporterChange = {};\n  extendedPublicKeyImporterChange[field] = action.value;\n  const newState = {\n    ...state,\n    ...{nodes: {}},\n  };\n  newState.extendedPublicKeyImporters[action.number] = updateState(state.extendedPublicKeyImporters[action.number], extendedPublicKeyImporterChange);\n  const importCount = Object.values(newState.extendedPublicKeyImporters)\n  .reduce((sum, current) => {\n    return sum + (current.finalized)\n  }, 0)\n  if (importCount === Object.keys(newState.extendedPublicKeyImporters).length) {\n    newState.configuring = false;\n  }\n  setConflict(newState.extendedPublicKeyImporters[action.number] ,state);\n  return updateState(newState, {fingerprint: fingerprint(newState)});\n}\n\nfunction updateTotalSigners(state, action) {\n  const totalSigners = action.value;\n  const extendedPublicKeyImporters = {};\n  for (let extendedPublicKeyImporterNum = 1; extendedPublicKeyImporterNum <= totalSigners; extendedPublicKeyImporterNum++) {\n    extendedPublicKeyImporters[extendedPublicKeyImporterNum] = state.extendedPublicKeyImporters[extendedPublicKeyImporterNum] || {\n      ...initialExtendedPublicKeyImporterState,\n      ...{\n        name: `Extended Public key ${extendedPublicKeyImporterNum}`,\n      },\n    };\n  }\n\n  return {\n    ...state,\n    ...{extendedPublicKeyImporters},\n  };\n}\n\nfunction setConflict(extendedPublicKeyImporter ,state) {\n  if (state.finalizedNetwork) {\n    extendedPublicKeyImporter.conflict = state.finalizedNetwork !== state.network || state.finalizedAddressType !== state.addressType;\n  }\n}\n\nfunction updateImporterPaths(state, newState, bip32Path) {\n  for (let extendedPublicKeyImporterNum = 1; extendedPublicKeyImporterNum <= Object.values(state.extendedPublicKeyImporters).length; extendedPublicKeyImporterNum++) {\n    const extendedPublicKeyImporter = newState.extendedPublicKeyImporters[extendedPublicKeyImporterNum];\n    if (! extendedPublicKeyImporter.bip32PathModified) {\n      if (!extendedPublicKeyImporter.finalized) extendedPublicKeyImporter.bip32Path = bip32Path;\n    }\n    setConflict(extendedPublicKeyImporter, newState);\n  }\n}\n\nfunction updateNetwork(state, action) {\n  const addressType = state.addressType;\n  const network = action.value;\n  const bip32Path = multisigBIP32Root(addressType, network);\n  const newState = {...state, ...{network, defaultBIP32Path: bip32Path}};\n  updateImporterPaths(state, newState, bip32Path);\n  return newState;\n}\n\nfunction updateAddressType(state, action) {\n  const addressType = action.value;\n  const network = state.network;\n  const bip32Path = multisigBIP32Root(addressType, network);\n  const newState = {...state, ...{addressType, defaultBIP32Path: bip32Path}};\n  updateImporterPaths(state, newState, bip32Path);\n  return newState;\n}\n\nfunction updateFinalizedSettings(state, action) {\n  const newState = {...state}\n  if (action.value === true && state.finalizedNetwork === '' && newState.extendedPublicKeyImporters[action.number].method !== TEXT) {\n    newState.finalizedNetwork = state.network;\n    newState.finalizedAddressType = state.addressType;\n  } else if (action.value === false && state.finalizedNetwork !== '') {\n    const finalizedCount = Object.values(state.extendedPublicKeyImporters).reduce((count, importer) => {\n      if (importer.finalized === true && importer.method !== TEXT) return count+1; else return count\n    }, 0);\n    if (finalizedCount === 1) { // last one to be removed\n      newState.finalizedNetwork = '';\n      newState.finalizedAddressType = '';\n      Object.values(newState.extendedPublicKeyImporters).forEach(importer => importer.conflict = false);\n    }\n  }\n  return newState;\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n  case SET_NETWORK:\n    return updateNetwork(state, action);\n  case SET_ADDRESS_TYPE:\n    return updateAddressType(state, action);\n  case SET_TOTAL_SIGNERS:\n    return updateTotalSigners(state, action);\n  case SET_EXTENDED_PUBLIC_KEY_IMPORTER_NAME:\n    return updateExtendedPublicKeyImporterState(state, action, 'name');\n  case SET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH:\n    return updateExtendedPublicKeyImporterState(\n      updateExtendedPublicKeyImporterState(state, action, 'bip32Path'),\n      {number: action.number, value: true},\n      \"bip32PathModified\");\n  case RESET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH:\n    return updateExtendedPublicKeyImporterState(\n      updateExtendedPublicKeyImporterState(state, {number: action.number, value: state.defaultBIP32Path}, 'bip32Path'),\n      {number: action.number, value: false},\n      \"bip32PathModified\");\n  case SET_EXTENDED_PUBLIC_KEY_IMPORTER_METHOD:\n    return updateExtendedPublicKeyImporterState(state, action, 'method');\n  case SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY:\n    return updateExtendedPublicKeyImporterState(state, action, 'extendedPublicKey');\n  case SET_EXTENDED_PUBLIC_KEY_IMPORTER_FINALIZED:\n    return updateExtendedPublicKeyImporterState(updateFinalizedSettings(state, action), action, 'finalized');\n  case SET_EXTENDED_PUBLIC_KEY_IMPORTER_VISIBLE:\n    return {...state, ...{configuring: action.value}};\n  default:\n    return state;\n  }\n};\n","import {\n  MAINNET,\n  P2SH,\n  multisigBIP32Path,\n} from \"unchained-bitcoin\";\nimport { updateState } from './utils';\nimport {\n  SET_TOTAL_SIGNERS,\n} from \"../actions/settingsActions\";\nimport {\n  SET_NETWORK,\n  SET_ADDRESS_TYPE,\n} from '../actions/settingsActions';\nimport {\n  SET_PUBLIC_KEY_IMPORTER_NAME,\n  RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH,\n  SET_PUBLIC_KEY_IMPORTER_BIP32_PATH,\n  SET_PUBLIC_KEY_IMPORTER_METHOD,\n  SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY,\n  SET_PUBLIC_KEY_IMPORTER_FINALIZED,\n  MOVE_PUBLIC_KEY_IMPORTER_UP,\n  MOVE_PUBLIC_KEY_IMPORTER_DOWN,\n  SORT_PUBLIC_KEY_IMPORTERS,\n  UPDATE_MULTISIG_ADDRESS\n} from '../actions/publicKeyImporterActions';\n\nconst TEXT = \"text\";\n\nfunction fingerprint(state) {\n  const timestamp = new Date().getTime().toString();\n  const publicKeys = Object.values(state.publicKeyImporters).map((publicKeyImporter) => (publicKeyImporter.publicKey)).join('');\n  return `${timestamp}-${publicKeys}`;\n}\n\nconst initialPublicKeyImporterState = {\n  name: '',\n  bip32Path: multisigBIP32Path(P2SH, MAINNET),\n  bip32PathModified: false,\n  method: '',\n  publicKey: '',\n  finalized: false,\n  conflict: false,\n};\n\nconst initialState = {\n  publicKeyImporters: {\n    1: { ...initialPublicKeyImporterState, ...{name: \"Public Key 1\"} },\n    2: { ...initialPublicKeyImporterState, ...{name: \"Public Key 2\"} },\n    3: { ...initialPublicKeyImporterState, ...{name: \"Public Key 3\"} },\n  },\n  defaultBIP32Path: multisigBIP32Path(P2SH, MAINNET),\n  network: MAINNET,\n  addressType: P2SH,\n  fingerprint: '',\n  finalizedNetwork: '',\n  finalizedAddressType: '',\n  address: '',\n};\n\nfunction movePublicKeyImporterUp(state, action) {\n  if (action.number === 1) { return state; }\n  const newState = {\n    ...state,\n  };\n  const abovePublicKeyImporter = state.publicKeyImporters[action.number-1];\n  const publicKeyImporter = state.publicKeyImporters[action.number];\n  newState.publicKeyImporters[action.number - 1] = publicKeyImporter;\n  newState.publicKeyImporters[action.number] = abovePublicKeyImporter;\n  return updateState(newState, {fingerprint: fingerprint(newState)});\n}\n\n\nfunction movePublicKeyImporterDown(state, action) {\n  if (action.number === Object.values(state.publicKeyImporters).length) { return state; }\n  const newState = {\n    ...state,\n   };\n  const belowPublicKeyImporter = state.publicKeyImporters[action.number+1];\n  const publicKeyImporter = state.publicKeyImporters[action.number];\n  newState.publicKeyImporters[action.number + 1] = publicKeyImporter;\n  newState.publicKeyImporters[action.number] = belowPublicKeyImporter;\n  return updateState(newState, {fingerprint: fingerprint(newState)});\n}\n\nfunction sortPublicKeyImporters(state, action) {\n  const publicKeyImporters = Object.values(state.publicKeyImporters);\n  const sortedPublicKeys = publicKeyImporters.map((publicKeyImporter) => publicKeyImporter.publicKey).sort();\n  const sortedPublicKeyImporters = sortedPublicKeys.map((publicKey) => {\n    return publicKeyImporters.find((publicKeyImporter) => publicKeyImporter.publicKey === publicKey);\n  });\n  const publicKeyImportersChange = {};\n  for (var publicKeyImporterNum=1; publicKeyImporterNum <= sortedPublicKeyImporters.length; publicKeyImporterNum++) {\n    publicKeyImportersChange[publicKeyImporterNum] = sortedPublicKeyImporters[publicKeyImporterNum - 1];\n  }\n\n  const newState = {\n    ...state,\n    ...{publicKeyImporters: publicKeyImportersChange},\n  };\n  return updateState(newState, {fingerprint: fingerprint(newState)});\n}\n\nfunction updatePublicKeyImporterState(state, action, field) {\n  const publicKeyImporterChange = {};\n  publicKeyImporterChange[field] = action.value;\n  const newState = {\n    ...state,\n  };\n  newState.publicKeyImporters[action.number] = updateState(state.publicKeyImporters[action.number], publicKeyImporterChange);\n  setConflict(newState.publicKeyImporters[action.number] ,state);\n  return updateState(newState, {fingerprint: fingerprint(newState)});\n}\n\nfunction updateTotalSigners(state, action) {\n  const totalSigners = action.value;\n  const publicKeyImporters = {};\n  for (let publicKeyImporterNum = 1; publicKeyImporterNum <= totalSigners; publicKeyImporterNum++) {\n    publicKeyImporters[publicKeyImporterNum] = state.publicKeyImporters[publicKeyImporterNum] || {\n      ...initialPublicKeyImporterState,\n      ...{\n        name: `Public Key ${publicKeyImporterNum}`,\n      },\n    };\n  }\n  const newState = {\n    ...state,\n    ...{publicKeyImporters, stub: action.type},\n  };\n  return updateState(newState, {fingerprint: fingerprint(newState)});\n}\n\nfunction setConflict(publicKeyImporter ,state) {\n  if (state.finalizedNetwork) {\n    publicKeyImporter.conflict = state.finalizedNetwork !== state.network || state.finalizedAddressType !== state.addressType;\n  }\n}\n\nfunction updateImporterPaths(state, newState, bip32Path) {\n  for (let publicKeyImporterNum = 1; publicKeyImporterNum <= Object.values(state.publicKeyImporters).length; publicKeyImporterNum++) {\n    const publicKeyImporter = newState.publicKeyImporters[publicKeyImporterNum];\n    if (!publicKeyImporter.bip32PathModified) {\n      if (!publicKeyImporter.finalized) publicKeyImporter.bip32Path = bip32Path;\n    }\n    setConflict(publicKeyImporter, newState);\n  }\n}\n\nfunction updateNetwork(state, action) {\n  const network = action.value;\n  const addressType = state.addressType;\n  const bip32Path = multisigBIP32Path(addressType, network);\n  const newState = {...state, ...{network, defaultBIP32Path: bip32Path}};\n  updateImporterPaths(state, newState, bip32Path);\n  return newState;\n}\n\nfunction updateAddressType(state, action) {\n  const network = state.network;\n  const addressType = action.value;\n  const bip32Path = multisigBIP32Path(addressType, network);\n  const newState = {...state, ...{addressType, defaultBIP32Path: bip32Path}};\n  updateImporterPaths(state, newState, bip32Path);\n  return newState;\n}\n\nfunction updateFinalizedSettings(state, action) {\n  const newState = {...state}\n  if (action.value === true && state.finalizedNetwork === '' && newState.publicKeyImporters[action.number].method !== TEXT) {\n    newState.finalizedNetwork = state.network;\n    newState.finalizedAddressType = state.addressType;\n  } else if (action.value === false && state.finalizedNetwork !== '') {\n    const finalizedCount = Object.values(state.publicKeyImporters).reduce((count, importer) => {\n      if (importer.finalized === true && importer.method !== TEXT) return count+1; else return count\n    }, 0);\n    if (finalizedCount === 1) { // last one to be removed\n      newState.finalizedNetwork = '';\n      newState.finalizedAddressType = '';\n      Object.values(newState.publicKeyImporters).forEach(importer => importer.conflict = false);\n    }\n  }\n  return newState;\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n  case SET_NETWORK:\n    return updateNetwork(state, action);\n  case SET_ADDRESS_TYPE:\n    return updateAddressType(state, action);\n  case SET_TOTAL_SIGNERS:\n    return updateTotalSigners(state, action);\n  case SET_PUBLIC_KEY_IMPORTER_NAME:\n    return updatePublicKeyImporterState(state, action, 'name');\n  case RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH:\n    return updatePublicKeyImporterState(\n      updatePublicKeyImporterState(state, {number: action.number, value: state.defaultBIP32Path}, 'bip32Path'),\n      {number: action.number, value: false},\n      \"bip32PathModified\");\n  case SET_PUBLIC_KEY_IMPORTER_BIP32_PATH:\n    return updatePublicKeyImporterState(\n      updatePublicKeyImporterState(state, action, 'bip32Path'),\n      {number: action.number, value: true},\n      \"bip32PathModified\");\n  case SET_PUBLIC_KEY_IMPORTER_METHOD:\n    return updatePublicKeyImporterState(state, action, 'method');\n  case SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY:\n    return updatePublicKeyImporterState(state, action, 'publicKey');\n  case SET_PUBLIC_KEY_IMPORTER_FINALIZED:\n      return updatePublicKeyImporterState(updateFinalizedSettings(state, action), action, 'finalized');\n  case MOVE_PUBLIC_KEY_IMPORTER_UP:\n    return movePublicKeyImporterUp(state, action);\n  case MOVE_PUBLIC_KEY_IMPORTER_DOWN:\n    return movePublicKeyImporterDown(state, action);\n  case SORT_PUBLIC_KEY_IMPORTERS:\n    return sortPublicKeyImporters(state, action);\n  case UPDATE_MULTISIG_ADDRESS:\n    return updateState(state, {address: action.value});\n  default:\n    return state;\n  }\n};\n","import {\n  UPDATE_AUTO_SPEND,\n  UPDATE_VIEW_ADDRESSES,\n  UPDATE_DEPOSITING,\n  UPDATE_SPENDING,\n  UPDATE_WALLET_NAME,\n  RESET_WALLET_VIEW,\n} from \"../actions/walletActions\"\nimport { updateState } from './utils';\n\nconst initialState = {\n  autoSpend: true,\n  viewAddresses: false,\n  depositing: false,\n  spending: false,\n  walletName: \"My Multisig Wallet\",\n};\n\nfunction resetWalletViews(state) {\n  return updateState(state, {\n    spending: false,\n    depositing: false,\n    viewAddresses: false,\n  });\n}\n\nfunction setUnique(state, key) {\n  const newState = resetWalletViews(state);\n  newState[key] = true;\n  return newState;\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case UPDATE_AUTO_SPEND:\n      return updateState(state, { autoSpend: action.value });\n    case UPDATE_DEPOSITING:\n      return setUnique(state, 'depositing');\n    case UPDATE_SPENDING:\n      return setUnique(state, 'spending');\n    case UPDATE_VIEW_ADDRESSES:\n      return setUnique(state, 'viewAddresses');\n    case UPDATE_WALLET_NAME:\n      return updateState(state, { walletName: action.value });\n    case RESET_WALLET_VIEW:\n      return resetWalletViews(state);\n    default:\n      return state;\n  }\n};\n","import {\n  P2SH,\n  MAINNET,\n  multisigAddressType,\n  multisigBIP32Path,\n  multisigPublicKeys,\n} from \"unchained-bitcoin\";\nimport { updateState } from './utils';\nimport { \n  SET_NETWORK,\n} from \"../actions/settingsActions\";\nimport {\n  CHOOSE_CONFIRM_OWNERSHIP,\n  SET_OWNERSHIP_MULTISIG,\n  RESET_PUBLIC_KEY_IMPORTER,\n  RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH,\n  SET_PUBLIC_KEY_IMPORTER_BIP32_PATH,\n  SET_PUBLIC_KEY_IMPORTER_METHOD,\n  SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY,\n} from '../actions/ownershipActions';\n\nconst initialPublicKeyImporterState = {\n  bip32Path: '',\n  method: '',\n  publicKey: '',\n};\n\nconst initialState = {\n  chosen: false,\n  publicKeyImporter: {...initialPublicKeyImporterState},\n  network: MAINNET,\n  addressType: P2SH,\n  publicKeys: [],\n  address: '',\n  defaultBIP32Path: multisigBIP32Path(P2SH, MAINNET),\n};\n\nfunction updatePublicKeyImporterState(state, action, field) {\n  const publicKeyImporterChange = {};\n  publicKeyImporterChange[field] = action.value;\n  return {\n    ...state,\n    ...{\n      publicKeyImporter: {\n        ...state.publicKeyImporter,\n        ...publicKeyImporterChange,\n      }\n    }\n  };\n}\n\nfunction updateMultisig(state, action) {\n  const multisig = action.value;\n  const addressType = multisigAddressType(multisig);\n  const defaultBIP32Path = multisigBIP32Path(addressType, state.network);\n  return {\n    ...state,\n    ...{\n      network: state.network,\n      addressType,\n      publicKeys: multisigPublicKeys(multisig),\n      address: multisig.address,\n      defaultBIP32Path,\n    },\n  };\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n  case CHOOSE_CONFIRM_OWNERSHIP:\n    return updateState(state, {chosen: true});\n  case SET_NETWORK:\n    return updateState(state, {network: action.value});\n  case SET_OWNERSHIP_MULTISIG:\n    return updateMultisig(state, action);\n  case SET_PUBLIC_KEY_IMPORTER_BIP32_PATH:\n    const keyResetState = updatePublicKeyImporterState(state, {value: ''}, \"publicKey\");\n    return updatePublicKeyImporterState(keyResetState, action, \"bip32Path\");\n  case SET_PUBLIC_KEY_IMPORTER_METHOD:\n    return updatePublicKeyImporterState(state, action, \"method\");\n  case SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY:\n    return updatePublicKeyImporterState(state, action, \"publicKey\");\n  case RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH:\n    return updatePublicKeyImporterState(state, {value: state.defaultBIP32Path}, \"bip32Path\");\n  case RESET_PUBLIC_KEY_IMPORTER:\n    return {\n      ...state,\n      ...{\n        publicKeyImporter: {\n          ...state.publicKeyImporter,\n          ...{bip32Path: state.defaultBIP32Path, publicKey: ''}\n        }\n      }\n    };\n  default:\n    return state;\n  }\n};\n","import { updateState } from './utils';\nimport {\n  RESET_SIGNATURES,\n  \n  SET_SIGNATURE_IMPORTER_NAME,\n  SET_SIGNATURE_IMPORTER_METHOD,\n  SET_SIGNATURE_IMPORTER_BIP32_PATH,\n  SET_SIGNATURE_IMPORTER_SIGNATURE,\n  SET_SIGNATURE_IMPORTER_PUBLIC_KEYS,\n  SET_SIGNATURE_IMPORTER_FINALIZED,\n  SET_SIGNATURE_IMPORTER_COMPLETE,\n} from '../actions/signatureImporterActions';\nimport {\n  SET_REQUIRED_SIGNERS,\n} from \"../actions/transactionActions\";\n\nconst initialSignatureImporterState = {\n  name: '',\n  method: '',\n  publicKeys: [],\n  signature: [],\n  bip32Path: '',\n  finalized: false,\n};\n\nconst initialState = {};\n\nfunction setRequiredSigners(state, action) {\n  const signatureImporters = {};\n  for (let signatureImporterNum=1; signatureImporterNum <= action.value; signatureImporterNum++) {\n    signatureImporters[signatureImporterNum] = {\n      ...initialSignatureImporterState,\n      ...{name: `Signature ${signatureImporterNum}`},\n    };\n  }\n  return {\n    ...state,\n    ...signatureImporters,\n  };\n}\n\nfunction updateSignatureImporterState(state, action, field) {\n  const signatureImporterChange = {};\n  signatureImporterChange[field] = action.value;\n  const newState = {\n    ...state,\n  };\n  newState[action.number] = updateState(state[action.number], signatureImporterChange);\n  return newState;\n}\n\nfunction finalizeSignatureImporterState(state, action) {\n  const newState = {\n    ...state,\n  };\n  newState[action.number] = updateState(state[action.number], action.value);\n  return newState;\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n  case RESET_SIGNATURES:\n    return {...initialState};\n  case SET_REQUIRED_SIGNERS:\n    return setRequiredSigners(state, action);\n  case SET_SIGNATURE_IMPORTER_NAME:\n    return updateSignatureImporterState(state, action, \"name\");\n  case SET_SIGNATURE_IMPORTER_METHOD:\n    return updateSignatureImporterState(state, action, \"method\");\n  case SET_SIGNATURE_IMPORTER_BIP32_PATH:\n    return updateSignatureImporterState(state, action, \"bip32Path\");\n  case SET_SIGNATURE_IMPORTER_SIGNATURE:\n    return updateSignatureImporterState(state, action, \"signature\");\n  case SET_SIGNATURE_IMPORTER_PUBLIC_KEYS:\n    return updateSignatureImporterState(state, action, \"publicKeys\");\n  case SET_SIGNATURE_IMPORTER_FINALIZED:\n    return updateSignatureImporterState(state, action, \"finalized\");\n  case SET_SIGNATURE_IMPORTER_COMPLETE:\n    return finalizeSignatureImporterState(state, action);\n  \n  default:\n    return state;\n  }\n};\n","import BigNumber from 'bignumber.js';\nimport { updateState } from './utils';\nimport {\n  MAINNET,\n  P2SH,\n  estimateMultisigTransactionFee,\n  estimateMultisigTransactionFeeRate,\n  validateFeeRate,\n  validateFeeBTC,\n  validateOutputAmountBTC,\n  satoshisToBitcoins,\n  bitcoinsToSatoshis,\n  validateAddress,\n  unsignedMultisigTransaction,\n} from \"unchained-bitcoin\";\n\nimport {\n  SET_NETWORK,\n  SET_ADDRESS_TYPE,\n} from \"../actions/settingsActions\";\nimport {\n  CHOOSE_PERFORM_SPEND,\n\n  SET_REQUIRED_SIGNERS,\n  SET_TOTAL_SIGNERS,\n\n  SET_INPUTS,\n\n  ADD_OUTPUT,\n  SET_OUTPUT_ADDRESS,\n  SET_OUTPUT_AMOUNT,\n  DELETE_OUTPUT,\n\n  SET_FEE_RATE,\n  SET_FEE,\n\n  FINALIZE_OUTPUTS,\n  RESET_OUTPUTS,\n\n  SET_TXID,\n  RESET_TRANSACTION,\n\n  SET_IS_WALLET\n} from '../actions/transactionActions';\n\nfunction sortInputs(a, b) {\n  var x = a.txid.toLowerCase();\n  var y = b.txid.toLowerCase();\n  if (x < y) {return -1;}\n  if (x > y) {return 1;}\n  if (a.n < b.n) {return -1;}\n  if (a.n > b.n) {return 1;}\n  return 0;\n};\n\nconst initialOutputState  = {\n  address: '',\n  amount: '',\n  amountSats: '',\n  addressError: '',\n  amountError: '',\n};\n\nconst initialOutputsState = [\n  {...initialOutputState}\n];\n\nconst initialState = {\n  chosen: false,\n  network: MAINNET,\n  inputs: [],\n  inputsTotalSats: new BigNumber(0),\n  outputs: [...initialOutputsState],\n  feeRate: '',\n  feeRateError: '',\n  fee: '',\n  feeError: '',\n  finalizedOutputs: false,\n  txid: '',\n  balanceError: '',\n  addressType: P2SH,\n  requiredSigners: 2,\n  totalSigners: 3,\n  unsignedTransaction: {},\n  isWallet: false,\n};\n\nfunction updateInputs(state, action) {\n  const inputsTotalSats = action.value\n        .map((input) => input.amountSats)\n        .reduce(\n          (accumulator, currentValue) => accumulator.plus(currentValue),\n          new BigNumber(0));\n  return updateState(\n    state,\n    {\n      inputs: action.value.sort(sortInputs),\n      inputsTotalSats,\n    });\n}\n\nfunction validateTransaction(state) {\n  if (\n    state.outputs.find((output) => (output.addressError !== '' || output.amountError  !== ''))\n      || state.feeError !== ''\n      || state.feeRateError !== ''\n      || state.inputs.length === 0\n  ) {\n    return {\n      ...state,\n      ...{balanceError: \"\"},\n    };\n  }\n  const feeSats = bitcoinsToSatoshis(new BigNumber(state.fee));\n  const outputTotalSats = state.outputs\n        .map((output) => bitcoinsToSatoshis(new BigNumber(output.amount || 0)))\n        .reduce(\n          (accumulator, currentValue) => accumulator.plus(currentValue),\n          new BigNumber(0));\n  if (! state.inputsTotalSats.isEqualTo(outputTotalSats.plus(feeSats))) {\n    const diff = outputTotalSats.plus(feeSats).minus(state.inputsTotalSats);\n    let balanceError;\n    if (diff.isNaN()) {\n      balanceError = \"Cannot calculate total.\";\n    } else{\n      const action = diff.isLessThan(0) ? 'Increase' : 'Decrease';\n      balanceError =`${action} by ${satoshisToBitcoins(diff.absoluteValue()).toFixed(8)}.`;\n    }\n    return {\n      ...state,\n      ...{balanceError},\n    };\n  } else {\n    return {\n      ...state,\n      ...{balanceError: ''},\n    };\n  }\n}\n\nfunction setFeeForRate(state, feeRateString, nout) {\n  return satoshisToBitcoins(estimateMultisigTransactionFee(\n    {\n      addressType: state.addressType,\n      numInputs: state.inputs.length,\n      numOutputs: nout,\n      m: state.requiredSigners,\n      n: state.totalSigners,\n      feesPerByteInSatoshis: feeRateString\n    })).toString()\n}\n\nfunction updateFeeRate(state, action) {\n  const feeRateString = action.value;\n  const feeRateError = validateFeeRate(feeRateString);\n  const fee = (\n    feeRateError === '' ?\n      setFeeForRate(state, feeRateString, state.outputs.length) :\n      '');\n\n  return updateState(state, {\n    feeRate: feeRateString,\n    feeRateError,\n    fee,\n    feeError: '',\n  });\n}\n\nfunction updateFee(state, action) {\n  const feeString = action.value;\n  const feeError = validateFeeBTC(feeString, state.inputsTotalSats);\n  const feeRate = (\n    feeError === '' ?\n      estimateMultisigTransactionFeeRate(\n        {\n          addressType: state.addressType,\n          numInputs: state.inputs.length,\n          numOutputs: state.outputs.length,\n          m: state.requiredSigners,\n          n: state.totalSigners,\n          feesInSatoshis: bitcoinsToSatoshis(new BigNumber(feeString))\n        }).toString()\n      :\n      '');\n\n  return updateState(state, {\n    fee: feeString,\n    feeError,\n    feeRate,\n    feeRateError: '',\n  });\n}\n\nfunction addOutput(state, action) {\n  const newOutputs = state.outputs.concat({...initialOutputState});\n  return {\n    ...state,\n    ...{outputs: newOutputs, fee: setFeeForRate(state, state.feeRate, newOutputs.length)},\n  };\n}\n\nfunction updateOutputAddress(state, action) {\n  const newOutputs = [...state.outputs];\n  const address = action.value;\n  let error = validateAddress(address, state.network);\n  if (error === '') {\n    for (var inputIndex=0; inputIndex < state.inputs.length; inputIndex++) {\n      const input = state.inputs[inputIndex];\n      if (address === input.address) {\n        error = \"Output address cannot equal input address.\";\n        break;\n      }\n    }\n  }\n  if (error === '') {\n    for (var outputIndex=0; outputIndex < state.outputs.length; outputIndex++) {\n      if (outputIndex !== (action.number - 1)) {\n        if (state.outputs[outputIndex].address === address) {\n          error = \"Duplicate output address.\";\n          break;\n        }\n      }\n    }\n  }\n  newOutputs[action.number - 1].address = address;\n  newOutputs[action.number - 1].addressError = error;\n  return {\n    ...state,\n    ...{outputs: newOutputs},\n  };\n}\n\nfunction updateOutputAmount(state, action) {\n  const newOutputs = [...state.outputs];\n  const amount = action.value;\n  let error = state.inputs.length ? validateOutputAmountBTC(amount, state.inputsTotalSats) : \"\";\n\n  // this is a bit of a hack\n  // this error prevents from setting output amounts in the wellet\n  // a better proposal would be to update at the library level\n  // make seconde argument to validateOutputAmountBTC optional\n  // if not provided, supress error\n  if (state.isWallet && error === \"Output amount is too large.\") error = \"\"\n\n  newOutputs[action.number - 1].amount = amount;\n  newOutputs[action.number - 1].amountError = error;\n  newOutputs[action.number - 1].amountSats = (error ? '' : bitcoinsToSatoshis(new BigNumber(action.value)));\n  return {\n    ...state,\n    ...{outputs: newOutputs},\n  };\n}\n\nfunction deleteOutput(state, action) {\n  const newOutputs = [];\n  for (var i = 0; i < state.outputs.length; i++) {\n    if (i !== (action.number - 1)) {\n      newOutputs.push(state.outputs[i]);\n    }\n  }\n  return {\n    ...state,\n    ...{outputs: newOutputs, fee: setFeeForRate(state, state.feeRate, newOutputs.length)},\n  };\n}\n\nfunction finalizeOutputs(state, action) {\n  const unsignedTransaction = unsignedMultisigTransaction(state.network, state.inputs, state.outputs);\n  return {\n    ...state,\n    ...{finalizedOutputs: action.value, unsignedTransaction},\n  };\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n  case CHOOSE_PERFORM_SPEND:\n    return updateState(state, { chosen: true} );\n  case SET_NETWORK:\n    return updateState(state, { network: action.value });\n  case SET_ADDRESS_TYPE:\n    return updateState(state, { addressType: action.value });\n  case SET_REQUIRED_SIGNERS:\n    return updateState(state, { requiredSigners: action.value });\n  case SET_TOTAL_SIGNERS:\n    return updateState(state, { totalSigners: action.value });\n  case SET_INPUTS:\n    return validateTransaction(updateInputs(state, action));\n  case ADD_OUTPUT:\n    return validateTransaction(addOutput(state, action));\n  case SET_OUTPUT_ADDRESS:\n    return validateTransaction(updateOutputAddress(state, action));\n  case SET_OUTPUT_AMOUNT:\n    return validateTransaction(updateOutputAmount(state, action));\n  case DELETE_OUTPUT:\n    return validateTransaction(deleteOutput(state, action));\n  case SET_FEE_RATE:\n    return validateTransaction(updateFeeRate(state, action));\n  case SET_FEE:\n    return validateTransaction(updateFee(state, action));\n  case FINALIZE_OUTPUTS:\n    return finalizeOutputs(state, action);\n  case RESET_OUTPUTS:\n    return updateState(state, {\n      outputs: initialOutputsState,\n      fee: '',\n      balanceError: '',\n      // FIXME what about feeRate ?\n    });\n  case SET_TXID:\n    return updateState(state, { txid: action.value });\n  case SET_IS_WALLET:\n    return updateState(state, { isWallet: true} );\n  case RESET_TRANSACTION:\n    return updateState(state, initialState)\n  default:\n    return state;\n  }\n};\n","import { combineReducers } from 'redux';\n\nimport settingsReducer from './settingsReducer';\nimport clientReducer from './clientReducer';\nimport braidReducer from './braidReducer';\nimport quorumReducer from './quorumReducer';\nimport addressReducer from './addressReducer';\nimport walletReducer from './walletReducer';\n\nimport ownershipReducer from './ownershipReducer';\nimport signatureImportersReducer from './signatureImportersReducer';\nimport transactionReducer from './transactionReducer';\n\nimport {\n  UPDATE_DEPOSIT_NODE,\n  UPDATE_CHANGE_NODE,\n} from '../actions/walletActions';\n\nconst spendReducers = combineReducers({\n  ownership: ownershipReducer,\n  transaction: transactionReducer,\n  signatureImporters: signatureImportersReducer,\n});\n\nconst walletReducers = combineReducers({\n  deposits: braidReducer(UPDATE_DEPOSIT_NODE),\n  change: braidReducer(UPDATE_CHANGE_NODE),\n  info: walletReducer\n});\n\nconst rootReducers = combineReducers({\n  settings: settingsReducer,\n  client: clientReducer,\n  address: addressReducer,\n  spend: spendReducers,\n  quorum: quorumReducer,\n  wallet: walletReducers,\n});\n\nexport default rootReducers;\n","import 'babel-polyfill';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport { Provider } from 'react-redux';\nimport logger from 'redux-logger';\nimport ReduxPromise from 'redux-promise';\nimport thunk from 'redux-thunk';\n\nimport App from './components/App';\nimport registerServiceWorker from './registerServiceWorker';\nimport reducers from './reducers';\n\n/* eslint-disable-next-line no-underscore-dangle */\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  reducers,\n  composeEnhancers(\n    applyMiddleware(logger, ReduxPromise, thunk),\n  ),\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('app'),\n);\nregisterServiceWorker();\n"],"sourceRoot":""}